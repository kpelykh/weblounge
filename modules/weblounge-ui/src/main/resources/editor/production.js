steal.plugins("jquery/view/tmpl","editor/app").css("editor","css/jquery-ui","css/token-input-facebook","css/token-input","css/validation","css/player/mediaelementplayer").resources("jquery.validate.min","jquery.cookie","jquery.ba-bbq.min","jquery.tools.min","mediaelement-and-player.min").then(function(a){a(document).ready(function(){a("a, form").querystring({_:(new Date).getTime()});a(document.body).prepend("//editor/views/app",{});a("#weblounge-editor").editor_app();a("body > *").each(function(b,
c){if(a(c).css("position")=="absolute"){b=a(c).css("top");if(b!=""){b=parseFloat(b);a(c).css("top",b+45+"px")}}})})});
;
steal.end();
steal.plugins("jquery/view").then(function(){function r(a,b,d,c){c={data:c||(b?b.data:{}),_wrap:b?b._wrap:null,tmpl:null,parent:b||null,nodes:[],calls:H,nest:I,wrap:J,html:K,update:L};a&&jQuery.extend(c,a,{nodes:[],parent:b});if(d){c.tmpl=d;c._ctnt=c._ctnt||c.tmpl(jQuery,c);c.key=++s;(x.length?t:l)[s]=c}return c}function u(a,b,d){var c;d=d?jQuery.map(d,function(f){return typeof f==="string"?a.key?f.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+p+'="'+a.key+'" $2'):f:u(f,a,f._ctnt)}):a;
if(b)return d;d=d.join("");d.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,function(f,e,g,i){c=jQuery(g).get();B(c);if(e)c=y(e).concat(c);if(i)c=c.concat(y(i))});return c?c:y(d)}function y(a){var b=document.createElement("div");b.innerHTML=a;return jQuery.makeArray(b.childNodes)}function C(a){return new Function("jQuery","$item","var $=jQuery,call,_=[],$data=$item.data;with($data){_.push('"+jQuery.trim(a).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\$\{([^\}]*)\}/g,"{{= $1}}").replace(/\{\{(\/?)(\w+|.)(?:\(((?:[^\}]|\}(?!\}))*?)?\))?(?:\s+(.*?)?)?(\(((?:[^\}]|\}(?!\}))*?)\))?\s*\}\}/g,
function(b,d,c,f,e,g,i){b=jQuery.tmpl.tag[c];if(!b)throw"Template command not found: "+c;c=b._default||[];if(g&&!/\w$/.test(e)){e+=g;g=""}if(e){e=z(e);i=i?","+z(i)+")":g?")":"";i=g?e.indexOf(".")>-1?e+g:"("+e+").call($item"+i:e;g=g?i:"(typeof("+e+")==='function'?("+e+").call($item):("+e+"))"}else g=i=c.$1||"null";f=z(f);return"');"+b[d?"close":"open"].split("$notnull_1").join(e?"typeof("+e+")!=='undefined' && ("+e+")!=null":"true").split("$1a").join(g).split("$1").join(i).split("$2").join(f?f.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,
function(o,m,v,k){return(k=k?","+k+")":v?")":"")?"("+m+").call($item"+k:o}):c.$2||"")+"_.push('"})+"');}return _;")}function D(a,b){a._wrap=u(a,true,jQuery.isArray(b)?b:[E.test(b)?b:jQuery(b).html()]).join("")}function z(a){return a?a.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function M(a){var b=document.createElement("div");b.appendChild(a.cloneNode(true));return b.innerHTML}function B(a){function b(m){function v(A){A+=d;h=e[A]=e[A]||r(h,l[h.parent.key+d]||h.parent,null,true)}var k,j=m,h,q;
if(q=m.getAttribute(p)){for(;j.parentNode&&(j=j.parentNode).nodeType===1&&!(k=j.getAttribute(p)););if(k!==q){j=j.parentNode?j.nodeType===11?0:j.getAttribute(p)||0:0;if(!(h=l[q])){h=t[q];h=r(h,l[j]||t[j],null,true);h.key=++s;l[s]=h}n&&v(q)}m.removeAttribute(p)}else if(n&&(h=jQuery.data(m,"tmplItem"))){v(h.key);l[h.key]=h;j=(j=jQuery.data(m.parentNode,"tmplItem"))?j.key:0}if(h){for(k=h;k&&k.key!=j;){k.nodes.push(m);k=k.parent}delete h._ctnt;delete h._wrap;jQuery.data(m,"tmplItem",h)}}var d="_"+n,c,
f,e={},g,i,o;g=0;for(i=a.length;g<i;g++)if((c=a[g]).nodeType===1){f=c.getElementsByTagName("*");for(o=f.length-1;o>=0;o--)b(f[o]);b(c)}}function H(a,b,d,c){if(!a)return x.pop();x.push({_:a,tmpl:b,item:this,data:d,options:c})}function I(a,b,d){return jQuery.tmpl(jQuery.template(a),b,d,this)}function J(a,b){var d=a.options||{};d.wrapped=b;return jQuery.tmpl(jQuery.template(a.tmpl),a.data,d,a.item)}function K(a,b){var d=this._wrap;return jQuery.map(jQuery(jQuery.isArray(d)?d.join(""):d).filter(a||"*"),
function(c){return b?c.innerText||c.textContent:c.outerHTML||M(c)})}function L(){var a=this.nodes;jQuery.tmpl(null,null,null,this).insertBefore(a[0]);jQuery(a).remove()}var F=jQuery.fn.domManip,p="_tmplitem",E=/^[^<]*(<[\w\W]+>)[^>]*$|\{\{\! /,l={},t={},w,G={key:0,data:{}},s=0,n=0,x=[];jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){jQuery.fn[a]=function(d){var c=[];d=jQuery(d);var f,e,g;f=this.length===1&&this[0].parentNode;
w=l||{};if(f&&f.nodeType===11&&f.childNodes.length===1&&d.length===1){d[b](this[0]);c=this}else{e=0;for(g=d.length;e<g;e++){n=e;f=(e>0?this.clone(true):this).get();jQuery.fn[b].apply(jQuery(d[e]),f);c=c.concat(f)}n=0;c=this.pushStack(c,a,d.selector)}d=w;w=null;jQuery.tmpl.complete(d);return c}});jQuery.fn.extend({tmpl:function(a,b,d){return jQuery.tmpl(this[0],a,b,d)},tmplItem:function(){return jQuery.tmplItem(this[0])},template:function(a){return jQuery.template(a,this[0])},domManip:function(a,b,
d){if(a[0]&&a[0].nodeType){for(var c=jQuery.makeArray(arguments),f=a.length,e=0,g;e<f&&!(g=jQuery.data(a[e++],"tmplItem")););if(f>1)c[0]=[jQuery.makeArray(a)];if(g&&n)c[2]=function(i){jQuery.tmpl.afterManip(this,i,d)};F.apply(this,c)}else F.apply(this,arguments);n=0;w||jQuery.tmpl.complete(l);return this}});jQuery.extend({tmpl:function(a,b,d,c){var f=!c;if(f){c=G;a=jQuery.template[a]||jQuery.template(null,a);t={}}else if(!a){a=c.tmpl;l[c.key]=c;c.nodes=[];c.wrapped&&D(c,c.wrapped);return jQuery(u(c,
null,c.tmpl(jQuery,c)))}if(!a)return[];if(typeof b==="function")b=b.call(c||{});d&&d.wrapped&&D(d,d.wrapped);b=jQuery.isArray(b)?jQuery.map(b,function(e){return e?r(d,c,a,e):null}):[r(d,c,a,b)];return f?jQuery(u(c,null,b)):b},tmplItem:function(a){var b;if(a instanceof jQuery)a=a[0];for(;a&&a.nodeType===1&&!(b=jQuery.data(a,"tmplItem"))&&(a=a.parentNode););return b||G},template:function(a,b){if(b){if(typeof b==="string")b=C(b);else if(b instanceof jQuery)b=b[0]||{};if(b.nodeType)b=jQuery.data(b,"tmpl")||
jQuery.data(b,"tmpl",C(b.innerHTML));return typeof a==="string"?(jQuery.template[a]=b):b}return a?typeof a!=="string"?jQuery.template(null,a):jQuery.template[a]||jQuery.template(null,E.test(a)?a:jQuery(a)):null},encode:function(a){return(""+a).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});jQuery.extend(jQuery.tmpl,{tag:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",
close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{_default:{$1:"true"},open:"}else if(($notnull_1) && $1a){"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"},"!":{open:""}},complete:function(){l={}},afterManip:function(a,b,d){var c=b.nodeType===11?jQuery.makeArray(b.childNodes):
b.nodeType===1?[b]:[];d.call(a,b);B(c);n++}});$.View.register({suffix:"tmpl",renderer:function(a,b){var d=$.template(null,b);return function(c){return d.call($,$,{data:c}).join("")}},script:function(a,b){return"function(data){return ("+$.template(null,b)+").call(jQuery, jQuery, {data: data}).join(''); }"}});jQuery.View.ext=".tmpl"});
;
steal.end();
steal.plugins("jquery").then(function(i){var x=function(a){return a.replace(/^\/\//,"").replace(/[\/\.]/g,"_")},y=1,e,o,p;isDeferred=function(a){return a&&i.isFunction(a.always)};getDeferreds=function(a){var b=[];if(isDeferred(a))return[a];else for(var c in a)isDeferred(a[c])&&b.push(a[c]);return b};usefulPart=function(a){return i.isArray(a)&&a.length===3&&a[1]==="success"?a[0]:a};e=i.View=function(a,b,c,d){if(typeof c==="function"){d=c;c=undefined}var f=getDeferreds(b);if(f.length){var g=i.Deferred();
f.push(p(a,true));i.when.apply(i,f).then(function(j){var k=i.makeArray(arguments),l=k.pop()[0];if(isDeferred(b))b=usefulPart(j);else for(var m in b)if(isDeferred(b[m]))b[m]=usefulPart(k.shift());k=l(b,c);g.resolve(k);d&&d(k)});return g.promise()}else{var h;f=typeof d==="function";g=p(a,f);if(f){h=g;g.done(function(j){d(j(b,c))})}else g.done(function(j){h=j(b,c)});return h}};o=function(a,b){if(!a.match(/[^\s]/))throw"$.View ERROR: There is no template or an empty template at "+b;};p=function(a,b){return i.ajax({url:a,
dataType:"view",async:b})};i.ajaxTransport("view",function(a,b){a=b.url;var c=a.match(/\.[\w\d]+$/),d,f,g,h=a,j,k=function(l){l=d.renderer(g,l);if(e.cache)e.cached[g]=l;return{view:l}};if(f=document.getElementById(a))c=f.type.match(/\/[\d\w]+$/)[0].replace(/^\//,".");if(!c){c=e.ext;h+=e.ext}g=x(h);if(h.match(/^\/\//))h=typeof steal==="undefined"?"/"+h.substr(2):steal.root.join(h.substr(2));d=e.types[c];return{send:function(l,m){if(e.cached[g])return m(200,"success",{view:e.cached[g]});else if(f)m(200,
"success",k(f.innerHTML));else j=i.ajax({async:b.async,url:h,dataType:"text",error:function(){o("",h);m(404)},success:function(s){o(s,h);m(200,"success",k(s))}})},abort:function(){j&&j.abort()}}});i.extend(e,{hookups:{},hookup:function(a){var b=++y;e.hookups[b]=a;return b},cached:{},cache:true,register:function(a){this.types["."+a.suffix]=a},types:{},ext:".ejs",registerScript:function(a,b,c){return"$.View.preload('"+b+"',"+e.types["."+a].script(b,c)+");"},preload:function(a,b){e.cached[a]=function(c,
d){return b.call(c,c,d)}}});var t,n,u,v,w,q;t=function(a){var b=i.fn[a];i.fn[a]=function(){var c=i.makeArray(arguments),d,f,g=this;if(u(c)){if(d=v(c)){f=c[d];c[d]=function(h){n.call(g,[h],b);f.call(g,h)};e.apply(e,c);return this}c=e.apply(e,c);if(isDeferred(c)){c.done(function(h){n.call(g,[h],b)});return this}else c=[c]}return n.call(this,c,b)}};n=function(a,b){var c;for(var d in e.hookups)break;if(d){c=e.hookups;e.hookups={};a[0]=i(a[0])}b=b.apply(this,a);d&&w(a[0],c);return b};u=function(a){var b=
typeof a[1];return typeof a[0]=="string"&&(b=="object"||b=="function")&&!a[1].nodeType&&!a[1].jquery};v=function(a){return typeof a[3]==="function"?3:typeof a[2]==="function"&&2};w=function(a,b){var c,d=0,f,g;a=a.filter(function(){return this.nodeType!=3});a=a.add("[data-view-id]",a);for(c=a.length;d<c;d++)if(a[d].getAttribute&&(f=a[d].getAttribute("data-view-id"))&&(g=b[f])){g(a[d],f);delete b[f];a[d].removeAttribute("data-view-id")}i.extend(e.hookups,b)};q=["prepend","append","after","before","text",
"html","replaceWith","val"];for(var r=0;r<q.length;r++)t(q[r])});
;
steal.end();
(function(E,u){function xa(a,b,d){if(d===u&&a.nodeType===1){d="data-"+b.replace(ib,"$1-$2").toLowerCase();d=a.getAttribute(d);if(typeof d==="string"){try{d=d==="true"?true:d==="false"?false:d==="null"?null:!c.isNaN(d)?parseFloat(d):jb.test(d)?c.parseJSON(d):d}catch(e){}c.data(a,b,d)}else d=u}return d}function ja(a){for(var b in a)if(b!=="toJSON")return false;return true}function ya(a,b,d){var e=b+"defer",f=b+"queue",g=b+"mark",i=c.data(a,e,u,true);if(i&&(d==="queue"||!c.data(a,f,u,true))&&(d==="mark"||
!c.data(a,g,u,true)))setTimeout(function(){if(!c.data(a,f,u,true)&&!c.data(a,g,u,true)){c.removeData(a,e,true);i.resolve()}},0)}function S(){return false}function ca(){return true}function za(a,b,d){var e=c.extend({},d[0]);e.type=a;e.originalEvent={};e.liveFired=u;c.event.handle.call(b,e);e.isDefaultPrevented()&&d[0].preventDefault()}function kb(a){var b,d,e,f,g,i,l,m,n,r,A,B=[];f=[];g=c._data(this,"events");if(!(a.liveFired===this||!g||!g.live||a.target.disabled||a.button&&a.type==="click")){if(a.namespace)A=
new RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)");a.liveFired=this;var C=g.live.slice(0);for(l=0;l<C.length;l++){g=C[l];g.origType.replace(ka,"")===a.type?f.push(g.selector):C.splice(l--,1)}f=c(a.target).closest(f,a.currentTarget);m=0;for(n=f.length;m<n;m++){r=f[m];for(l=0;l<C.length;l++){g=C[l];if(r.selector===g.selector&&(!A||A.test(g.namespace))&&!r.elem.disabled){i=r.elem;e=null;if(g.preType==="mouseenter"||g.preType==="mouseleave"){a.type=g.preType;if((e=c(a.relatedTarget).closest(g.selector)[0])&&
c.contains(i,e))e=i}if(!e||e!==i)B.push({elem:i,handleObj:g,level:r.level})}}}m=0;for(n=B.length;m<n;m++){f=B[m];if(d&&f.level>d)break;a.currentTarget=f.elem;a.data=f.handleObj.data;a.handleObj=f.handleObj;A=f.handleObj.origHandler.apply(f.elem,arguments);if(A===false||a.isPropagationStopped()){d=f.level;if(A===false)b=false;if(a.isImmediatePropagationStopped())break}}return b}}function da(a,b){return(a&&a!=="*"?a+".":"")+b.replace(lb,"`").replace(mb,"&")}function Aa(a){return!a||!a.parentNode||a.parentNode.nodeType===
11}function Ba(a,b,d){b=b||0;if(c.isFunction(b))return c.grep(a,function(f,g){return!!b.call(f,g,f)===d});else if(b.nodeType)return c.grep(a,function(f){return f===b===d});else if(typeof b==="string"){var e=c.grep(a,function(f){return f.nodeType===1});if(nb.test(b))return c.filter(b,e,!d);else b=c.filter(b,e)}return c.grep(a,function(f){return c.inArray(f,b)>=0===d})}function ob(a){return c.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):
a}function Ca(a,b){if(!(b.nodeType!==1||!c.hasData(a))){var d=c.expando,e=c.data(a),f=c.data(b,e);if(e=e[d]){a=e.events;f=f[d]=c.extend({},e);if(a){delete f.handle;f.events={};for(var g in a){d=0;for(e=a[g].length;d<e;d++)c.event.add(b,g+(a[g][d].namespace?".":"")+a[g][d].namespace,a[g][d],a[g][d].data)}}}}}function Da(a,b){var d;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(a);d=b.nodeName.toLowerCase();if(d==="object")b.outerHTML=a.outerHTML;else if(d===
"input"&&(a.type==="checkbox"||a.type==="radio")){if(a.checked)b.defaultChecked=b.checked=a.checked;if(b.value!==a.value)b.value=a.value}else if(d==="option")b.selected=a.defaultSelected;else if(d==="input"||d==="textarea")b.defaultValue=a.defaultValue;b.removeAttribute(c.expando)}}function ea(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):"querySelectorAll"in a?a.querySelectorAll("*"):[]}function Ea(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function Fa(a){if(c.nodeName(a,
"input"))Ea(a);else"getElementsByTagName"in a&&c.grep(a.getElementsByTagName("input"),Ea)}function pb(a,b){b.src?c.ajax({url:b.src,async:false,dataType:"script"}):c.globalEval((b.text||b.textContent||b.innerHTML||"").replace(qb,"/*$0*/"));b.parentNode&&b.parentNode.removeChild(b)}function Ga(a,b,d){var e=b==="width"?a.offsetWidth:a.offsetHeight,f=b==="width"?rb:sb;if(e>0){d!=="border"&&c.each(f,function(){d||(e-=parseFloat(c.css(a,"padding"+this))||0);if(d==="margin")e+=parseFloat(c.css(a,d+this))||
0;else e-=parseFloat(c.css(a,"border"+this+"Width"))||0});return e+"px"}e=X(a,b,b);if(e<0||e==null)e=a.style[b]||0;e=parseFloat(e)||0;d&&c.each(f,function(){e+=parseFloat(c.css(a,"padding"+this))||0;if(d!=="padding")e+=parseFloat(c.css(a,"border"+this+"Width"))||0;if(d==="margin")e+=parseFloat(c.css(a,d+this))||0});return e+"px"}function Ha(a){return function(b,d){if(typeof b!=="string"){d=b;b="*"}if(c.isFunction(d)){b=b.toLowerCase().split(Ia);for(var e=0,f=b.length,g,i;e<f;e++){g=b[e];if(i=/^\+/.test(g))g=
g.substr(1)||"*";g=a[g]=a[g]||[];g[i?"unshift":"push"](d)}}}}function fa(a,b,d,e,f,g){f=f||b.dataTypes[0];g=g||{};g[f]=true;f=a[f];for(var i=0,l=f?f.length:0,m=a===la,n;i<l&&(m||!n);i++){n=f[i](b,d,e);if(typeof n==="string")if(!m||g[n])n=u;else{b.dataTypes.unshift(n);n=fa(a,b,d,e,n,g)}}if((m||!n)&&!g["*"])n=fa(a,b,d,e,"*",g);return n}function ma(a,b,d,e){if(c.isArray(b))c.each(b,function(g,i){d||tb.test(a)?e(a,i):ma(a+"["+(typeof i==="object"||c.isArray(i)?g:"")+"]",i,d,e)});else if(!d&&b!=null&&
typeof b==="object")for(var f in b)ma(a+"["+f+"]",b[f],d,e);else e(a,b)}function ub(a,b,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,i,l,m,n;for(l in g)if(l in d)b[g[l]]=d[l];for(;f[0]==="*";){f.shift();if(i===u)i=a.mimeType||b.getResponseHeader("content-type")}if(i)for(l in e)if(e[l]&&e[l].test(i)){f.unshift(l);break}if(f[0]in d)m=f[0];else{for(l in d){if(!f[0]||a.converters[l+" "+f[0]]){m=l;break}n||(n=l)}m=m||n}if(m){m!==f[0]&&f.unshift(m);return d[m]}}function vb(a,b){if(a.dataFilter)b=
a.dataFilter(b,a.dataType);var d=a.dataTypes,e={},f,g,i=d.length,l,m=d[0],n,r,A,B,C;for(f=1;f<i;f++){if(f===1)for(g in a.converters)if(typeof g==="string")e[g.toLowerCase()]=a.converters[g];n=m;m=d[f];if(m==="*")m=n;else if(n!=="*"&&n!==m){r=n+" "+m;A=e[r]||e["* "+m];if(!A){C=u;for(B in e){l=B.split(" ");if(l[0]===n||l[0]==="*")if(C=e[l[1]+" "+m]){B=e[B];if(B===true)A=C;else if(C===true)A=B;break}}}A||C||c.error("No conversion from "+r.replace(" "," to "));if(A!==true)b=A?A(b):C(B(b))}}return b}function Ja(){try{return new E.XMLHttpRequest}catch(a){}}
function wb(){try{return new E.ActiveXObject("Microsoft.XMLHTTP")}catch(a){}}function Ka(){setTimeout(xb,0);return ga=c.now()}function xb(){ga=u}function Y(a,b){var d={};c.each(La.concat.apply([],La.slice(0,b)),function(){d[this]=a});return d}function Ma(a){if(!na[a]){var b=w.body,d=c("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){if(!R){R=w.createElement("iframe");R.frameBorder=R.width=R.height=0}b.appendChild(R);if(!Z||!R.createElement){Z=(R.contentWindow||R.contentDocument).document;
Z.write((w.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");Z.close()}d=Z.createElement(a);Z.body.appendChild(d);e=c.css(d,"display");b.removeChild(R)}na[a]=e}return na[a]}function oa(a){return c.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:false}var w=E.document,yb=E.navigator,zb=E.location,c=function(){function a(){if(!b.isReady){try{w.documentElement.doScroll("left")}catch(j){setTimeout(a,1);return}b.ready()}}var b=function(j,t){return new b.fn.init(j,t,f)},d=E.jQuery,
e=E.$,f,g=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,i=/\S/,l=/^\s+/,m=/\s+$/,n=/\d/,r=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,A=/^[\],:{}\s]*$/,B=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,C=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,G=/(?:^|:|,)(?:\s*\[)+/g,T=/(webkit)[ \/]([\w.]+)/,I=/(opera)(?:.*version)?[ \/]([\w.]+)/,O=/(msie) ([\w.]+)/,Q=/(mozilla)(?:.*? rv:([\w.]+))?/,h=/-([a-z])/ig,k=function(j,t){return t.toUpperCase()},o=yb.userAgent,p,q,s=Object.prototype.toString,y=Object.prototype.hasOwnProperty,
v=Array.prototype.push,D=Array.prototype.slice,M=String.prototype.trim,L=Array.prototype.indexOf,N={};b.fn=b.prototype={constructor:b,init:function(j,t,x){var z;if(!j)return this;if(j.nodeType){this.context=this[0]=j;this.length=1;return this}if(j==="body"&&!t&&w.body){this.context=w;this[0]=w.body;this.selector=j;this.length=1;return this}if(typeof j==="string")if((z=j.charAt(0)==="<"&&j.charAt(j.length-1)===">"&&j.length>=3?[null,j,null]:g.exec(j))&&(z[1]||!t))if(z[1]){x=(t=t instanceof b?t[0]:
t)?t.ownerDocument||t:w;if(j=r.exec(j))if(b.isPlainObject(t)){j=[w.createElement(j[1])];b.fn.attr.call(j,t,true)}else j=[x.createElement(j[1])];else{j=b.buildFragment([z[1]],[x]);j=(j.cacheable?b.clone(j.fragment):j.fragment).childNodes}return b.merge(this,j)}else{if((t=w.getElementById(z[2]))&&t.parentNode){if(t.id!==z[2])return x.find(j);this.length=1;this[0]=t}this.context=w;this.selector=j;return this}else return!t||t.jquery?(t||x).find(j):this.constructor(t).find(j);else if(b.isFunction(j))return x.ready(j);
if(j.selector!==u){this.selector=j.selector;this.context=j.context}return b.makeArray(j,this)},selector:"",jquery:"1.6.2",length:0,size:function(){return this.length},toArray:function(){return D.call(this,0)},get:function(j){return j==null?this.toArray():j<0?this[this.length+j]:this[j]},pushStack:function(j,t,x){var z=this.constructor();b.isArray(j)?v.apply(z,j):b.merge(z,j);z.prevObject=this;z.context=this.context;if(t==="find")z.selector=this.selector+(this.selector?" ":"")+x;else if(t)z.selector=
this.selector+"."+t+"("+x+")";return z},each:function(j,t){return b.each(this,j,t)},ready:function(j){b.bindReady();p.done(j);return this},eq:function(j){return j===-1?this.slice(j):this.slice(j,+j+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(D.apply(this,arguments),"slice",D.call(arguments).join(","))},map:function(j){return this.pushStack(b.map(this,function(t,x){return j.call(t,x,t)}))},end:function(){return this.prevObject||
this.constructor(null)},push:v,sort:[].sort,splice:[].splice};b.fn.init.prototype=b.fn;b.extend=b.fn.extend=function(){var j,t,x,z,H,F=arguments[0]||{},J=1,K=arguments.length,pa=false;if(typeof F==="boolean"){pa=F;F=arguments[1]||{};J=2}if(typeof F!=="object"&&!b.isFunction(F))F={};if(K===J){F=this;--J}for(;J<K;J++)if((j=arguments[J])!=null)for(t in j){x=F[t];z=j[t];if(F!==z)if(pa&&z&&(b.isPlainObject(z)||(H=b.isArray(z)))){if(H){H=false;x=x&&b.isArray(x)?x:[]}else x=x&&b.isPlainObject(x)?x:{};F[t]=
b.extend(pa,x,z)}else if(z!==u)F[t]=z}return F};b.extend({noConflict:function(j){if(E.$===b)E.$=e;if(j&&E.jQuery===b)E.jQuery=d;return b},isReady:false,readyWait:1,holdReady:function(j){if(j)b.readyWait++;else b.ready(true)},ready:function(j){if(j===true&&!--b.readyWait||j!==true&&!b.isReady){if(!w.body)return setTimeout(b.ready,1);b.isReady=true;if(!(j!==true&&--b.readyWait>0)){p.resolveWith(w,[b]);b.fn.trigger&&b(w).trigger("ready").unbind("ready")}}},bindReady:function(){if(!p){p=b._Deferred();
if(w.readyState==="complete")return setTimeout(b.ready,1);if(w.addEventListener){w.addEventListener("DOMContentLoaded",q,false);E.addEventListener("load",b.ready,false)}else if(w.attachEvent){w.attachEvent("onreadystatechange",q);E.attachEvent("onload",b.ready);var j=false;try{j=E.frameElement==null}catch(t){}w.documentElement.doScroll&&j&&a()}}},isFunction:function(j){return b.type(j)==="function"},isArray:Array.isArray||function(j){return b.type(j)==="array"},isWindow:function(j){return j&&typeof j===
"object"&&"setInterval"in j},isNaN:function(j){return j==null||!n.test(j)||isNaN(j)},type:function(j){return j==null?String(j):N[s.call(j)]||"object"},isPlainObject:function(j){if(!j||b.type(j)!=="object"||j.nodeType||b.isWindow(j))return false;if(j.constructor&&!y.call(j,"constructor")&&!y.call(j.constructor.prototype,"isPrototypeOf"))return false;var t;for(t in j);return t===u||y.call(j,t)},isEmptyObject:function(j){for(var t in j)return false;return true},error:function(j){throw j;},parseJSON:function(j){if(typeof j!==
"string"||!j)return null;j=b.trim(j);if(E.JSON&&E.JSON.parse)return E.JSON.parse(j);if(A.test(j.replace(B,"@").replace(C,"]").replace(G,"")))return(new Function("return "+j))();b.error("Invalid JSON: "+j)},parseXML:function(j,t,x){if(E.DOMParser){x=new DOMParser;t=x.parseFromString(j,"text/xml")}else{t=new ActiveXObject("Microsoft.XMLDOM");t.async="false";t.loadXML(j)}x=t.documentElement;if(!x||!x.nodeName||x.nodeName==="parsererror")b.error("Invalid XML: "+j);return t},noop:function(){},globalEval:function(j){if(j&&
i.test(j))(E.execScript||function(t){E.eval.call(E,t)})(j)},camelCase:function(j){return j.replace(h,k)},nodeName:function(j,t){return j.nodeName&&j.nodeName.toUpperCase()===t.toUpperCase()},each:function(j,t,x){var z,H=0,F=j.length,J=F===u||b.isFunction(j);if(x)if(J)for(z in j){if(t.apply(j[z],x)===false)break}else for(;H<F;){if(t.apply(j[H++],x)===false)break}else if(J)for(z in j){if(t.call(j[z],z,j[z])===false)break}else for(;H<F;)if(t.call(j[H],H,j[H++])===false)break;return j},trim:M?function(j){return j==
null?"":M.call(j)}:function(j){return j==null?"":j.toString().replace(l,"").replace(m,"")},makeArray:function(j,t){t=t||[];if(j!=null){var x=b.type(j);j.length==null||x==="string"||x==="function"||x==="regexp"||b.isWindow(j)?v.call(t,j):b.merge(t,j)}return t},inArray:function(j,t){if(L)return L.call(t,j);for(var x=0,z=t.length;x<z;x++)if(t[x]===j)return x;return-1},merge:function(j,t){var x=j.length,z=0;if(typeof t.length==="number")for(var H=t.length;z<H;z++)j[x++]=t[z];else for(;t[z]!==u;)j[x++]=
t[z++];j.length=x;return j},grep:function(j,t,x){var z=[],H;x=!!x;for(var F=0,J=j.length;F<J;F++){H=!!t(j[F],F);x!==H&&z.push(j[F])}return z},map:function(j,t,x){var z,H,F=[],J=0,K=j.length;if(j instanceof b||K!==u&&typeof K==="number"&&(K>0&&j[0]&&j[K-1]||K===0||b.isArray(j)))for(;J<K;J++){z=t(j[J],J,x);if(z!=null)F[F.length]=z}else for(H in j){z=t(j[H],H,x);if(z!=null)F[F.length]=z}return F.concat.apply([],F)},guid:1,proxy:function(j,t){if(typeof t==="string"){var x=j[t];t=j;j=x}if(!b.isFunction(j))return u;
var z=D.call(arguments,2);x=function(){return j.apply(t,z.concat(D.call(arguments)))};x.guid=j.guid=j.guid||x.guid||b.guid++;return x},access:function(j,t,x,z,H,F){var J=j.length;if(typeof t==="object"){for(var K in t)b.access(j,K,t[K],z,H,x);return j}if(x!==u){z=!F&&z&&b.isFunction(x);for(K=0;K<J;K++)H(j[K],t,z?x.call(j[K],K,H(j[K],t)):x,F);return j}return J?H(j[0],t):u},now:function(){return(new Date).getTime()},uaMatch:function(j){j=j.toLowerCase();j=T.exec(j)||I.exec(j)||O.exec(j)||j.indexOf("compatible")<
0&&Q.exec(j)||[];return{browser:j[1]||"",version:j[2]||"0"}},sub:function(){function j(x,z){return new j.fn.init(x,z)}b.extend(true,j,this);j.superclass=this;j.fn=j.prototype=this();j.fn.constructor=j;j.sub=this.sub;j.fn.init=function(x,z){if(z&&z instanceof b&&!(z instanceof j))z=j(z);return b.fn.init.call(this,x,z,t)};j.fn.init.prototype=j.fn;var t=j(w);return j},browser:{}});b.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(j,t){N["[object "+t+"]"]=t.toLowerCase()});
o=b.uaMatch(o);if(o.browser){b.browser[o.browser]=true;b.browser.version=o.version}if(b.browser.webkit)b.browser.safari=true;if(i.test("\u00a0")){l=/^[\s\xA0]+/;m=/[\s\xA0]+$/}f=b(w);if(w.addEventListener)q=function(){w.removeEventListener("DOMContentLoaded",q,false);b.ready()};else if(w.attachEvent)q=function(){if(w.readyState==="complete"){w.detachEvent("onreadystatechange",q);b.ready()}};return b}(),qa="done fail isResolved isRejected promise then always pipe".split(" "),Na=[].slice;c.extend({_Deferred:function(){var a=
[],b,d,e,f={done:function(){if(!e){var g=arguments,i,l,m,n,r;if(b){r=b;b=0}i=0;for(l=g.length;i<l;i++){m=g[i];n=c.type(m);if(n==="array")f.done.apply(f,m);else n==="function"&&a.push(m)}r&&f.resolveWith(r[0],r[1])}return this},resolveWith:function(g,i){if(!e&&!b&&!d){i=i||[];d=1;try{for(;a[0];)a.shift().apply(g,i)}catch(l){throw l;}finally{b=[g,i];d=0}}return this},resolve:function(){f.resolveWith(this,arguments);return this},isResolved:function(){return!!(d||b)},cancel:function(){e=1;a=[];return this}};
return f},Deferred:function(a){var b=c._Deferred(),d=c._Deferred(),e;c.extend(b,{then:function(f,g){b.done(f).fail(g);return this},always:function(){return b.done.apply(b,arguments).fail.apply(this,arguments)},fail:d.done,rejectWith:d.resolveWith,reject:d.resolve,isRejected:d.isResolved,pipe:function(f,g){return c.Deferred(function(i){c.each({done:[f,"resolve"],fail:[g,"reject"]},function(l,m){var n=m[0],r=m[1],A;c.isFunction(n)?b[l](function(){(A=n.apply(this,arguments))&&c.isFunction(A.promise)?
A.promise().then(i.resolve,i.reject):i[r](A)}):b[l](i[r])})}).promise()},promise:function(f){if(f==null){if(e)return e;e=f={}}for(var g=qa.length;g--;)f[qa[g]]=b[qa[g]];return f}});b.done(d.cancel).fail(b.cancel);delete b.cancel;a&&a.call(b,b);return b},when:function(a){function b(l){return function(m){d[l]=arguments.length>1?Na.call(arguments,0):m;--g||i.resolveWith(i,Na.call(d,0))}}var d=arguments,e=0,f=d.length,g=f,i=f<=1&&a&&c.isFunction(a.promise)?a:c.Deferred();if(f>1){for(;e<f;e++)if(d[e]&&
c.isFunction(d[e].promise))d[e].promise().then(b(e),i.reject);else--g;g||i.resolveWith(i,d)}else if(i!==a)i.resolveWith(i,f?[a]:[]);return i.promise()}});c.support=function(){var a=w.createElement("div"),b=w.documentElement,d,e,f,g,i,l;a.setAttribute("className","t");a.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";d=a.getElementsByTagName("*");e=a.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};f=w.createElement("select");
g=f.appendChild(w.createElement("option"));d=a.getElementsByTagName("input")[0];i={leadingWhitespace:a.firstChild.nodeType===3,tbody:!a.getElementsByTagName("tbody").length,htmlSerialize:!!a.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55$/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:d.value==="on",optSelected:g.selected,getSetAttribute:a.className!=="t",submitBubbles:true,changeBubbles:true,focusinBubbles:false,
deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};d.checked=true;i.noCloneChecked=d.cloneNode(true).checked;f.disabled=true;i.optDisabled=!g.disabled;try{delete a.test}catch(m){i.deleteExpando=false}if(!a.addEventListener&&a.attachEvent&&a.fireEvent){a.attachEvent("onclick",function(){i.noCloneEvent=false});a.cloneNode(true).fireEvent("onclick")}d=w.createElement("input");d.value="t";d.setAttribute("type","radio");i.radioValue=d.value===
"t";d.setAttribute("checked","checked");a.appendChild(d);e=w.createDocumentFragment();e.appendChild(a.firstChild);i.checkClone=e.cloneNode(true).cloneNode(true).lastChild.checked;a.innerHTML="";a.style.width=a.style.paddingLeft="1px";f=w.getElementsByTagName("body")[0];e=w.createElement(f?"div":"body");g={visibility:"hidden",width:0,height:0,border:0,margin:0};f&&c.extend(g,{position:"absolute",left:-1000,top:-1000});for(l in g)e.style[l]=g[l];e.appendChild(a);b=f||b;b.insertBefore(e,b.firstChild);
i.appendChecked=d.checked;i.boxModel=a.offsetWidth===2;if("zoom"in a.style){a.style.display="inline";a.style.zoom=1;i.inlineBlockNeedsLayout=a.offsetWidth===2;a.style.display="";a.innerHTML="<div style='width:4px;'></div>";i.shrinkWrapBlocks=a.offsetWidth!==2}a.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";f=a.getElementsByTagName("td");d=f[0].offsetHeight===0;f[0].style.display="";f[1].style.display="none";i.reliableHiddenOffsets=d&&f[0].offsetHeight===
0;a.innerHTML="";if(w.defaultView&&w.defaultView.getComputedStyle){d=w.createElement("div");d.style.width="0";d.style.marginRight="0";a.appendChild(d);i.reliableMarginRight=(parseInt((w.defaultView.getComputedStyle(d,null)||{marginRight:0}).marginRight,10)||0)===0}e.innerHTML="";b.removeChild(e);if(a.attachEvent)for(l in{submit:1,change:1,focusin:1}){b="on"+l;d=b in a;if(!d){a.setAttribute(b,"return;");d=typeof a[b]==="function"}i[l+"Bubbles"]=d}e=e=f=g=f=d=a=d=null;return i}();c.boxModel=c.support.boxModel;
var jb=/^(?:\{.*\}|\[.*\])$/,ib=/([a-z])([A-Z])/g;c.extend({cache:{},uuid:0,expando:"jQuery"+(c.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(a){a=a.nodeType?c.cache[a[c.expando]]:a[c.expando];return!!a&&!ja(a)},data:function(a,b,d,e){if(c.acceptData(a)){var f=c.expando,g=typeof b==="string",i=a.nodeType,l=i?c.cache:a,m=i?a[c.expando]:a[c.expando]&&c.expando;if(!((!m||e&&m&&!l[m][f])&&g&&d===u)){if(!m)if(i)a[c.expando]=
m=++c.uuid;else m=c.expando;if(!l[m]){l[m]={};if(!i)l[m].toJSON=c.noop}if(typeof b==="object"||typeof b==="function")if(e)l[m][f]=c.extend(l[m][f],b);else l[m]=c.extend(l[m],b);a=l[m];if(e){a[f]||(a[f]={});a=a[f]}if(d!==u)a[c.camelCase(b)]=d;if(b==="events"&&!a[b])return a[f]&&a[f].events;return g?a[c.camelCase(b)]||a[b]:a}}},removeData:function(a,b,d){if(c.acceptData(a)){var e=c.expando,f=a.nodeType,g=f?c.cache:a,i=f?a[c.expando]:c.expando;if(g[i]){if(b){var l=d?g[i][e]:g[i];if(l){delete l[b];if(!ja(l))return}}if(d){delete g[i][e];
if(!ja(g[i]))return}b=g[i][e];if(c.support.deleteExpando||g!=E)delete g[i];else g[i]=null;if(b){g[i]={};if(!f)g[i].toJSON=c.noop;g[i][e]=b}else if(f)if(c.support.deleteExpando)delete a[c.expando];else if(a.removeAttribute)a.removeAttribute(c.expando);else a[c.expando]=null}}},_data:function(a,b,d){return c.data(a,b,d,true)},acceptData:function(a){if(a.nodeName){var b=c.noData[a.nodeName.toLowerCase()];if(b)return!(b===true||a.getAttribute("classid")!==b)}return true}});c.fn.extend({data:function(a,
b){var d=null;if(typeof a==="undefined"){if(this.length){d=c.data(this[0]);if(this[0].nodeType===1)for(var e=this[0].attributes,f,g=0,i=e.length;g<i;g++){f=e[g].name;if(f.indexOf("data-")===0){f=c.camelCase(f.substring(5));xa(this[0],f,d[f])}}}return d}else if(typeof a==="object")return this.each(function(){c.data(this,a)});var l=a.split(".");l[1]=l[1]?"."+l[1]:"";if(b===u){d=this.triggerHandler("getData"+l[1]+"!",[l[0]]);if(d===u&&this.length){d=c.data(this[0],a);d=xa(this[0],a,d)}return d===u&&
l[1]?this.data(l[0]):d}else return this.each(function(){var m=c(this),n=[l[0],b];m.triggerHandler("setData"+l[1]+"!",n);c.data(this,a,b);m.triggerHandler("changeData"+l[1]+"!",n)})},removeData:function(a){return this.each(function(){c.removeData(this,a)})}});c.extend({_mark:function(a,b){if(a){b=(b||"fx")+"mark";c.data(a,b,(c.data(a,b,u,true)||0)+1,true)}},_unmark:function(a,b,d){if(a!==true){d=b;b=a;a=false}if(b){d=d||"fx";var e=d+"mark";if(a=a?0:(c.data(b,e,u,true)||1)-1)c.data(b,e,a,true);else{c.removeData(b,
e,true);ya(b,d,"mark")}}},queue:function(a,b,d){if(a){b=(b||"fx")+"queue";var e=c.data(a,b,u,true);if(d)if(!e||c.isArray(d))e=c.data(a,b,c.makeArray(d),true);else e.push(d);return e||[]}},dequeue:function(a,b){b=b||"fx";var d=c.queue(a,b),e=d.shift();if(e==="inprogress")e=d.shift();if(e){b==="fx"&&d.unshift("inprogress");e.call(a,function(){c.dequeue(a,b)})}if(!d.length){c.removeData(a,b+"queue",true);ya(a,b,"queue")}}});c.fn.extend({queue:function(a,b){if(typeof a!=="string"){b=a;a="fx"}if(b===u)return c.queue(this[0],
a);return this.each(function(){var d=c.queue(this,a,b);a==="fx"&&d[0]!=="inprogress"&&c.dequeue(this,a)})},dequeue:function(a){return this.each(function(){c.dequeue(this,a)})},delay:function(a,b){a=c.fx?c.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(){var d=this;setTimeout(function(){c.dequeue(d,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){function d(){--g||e.resolveWith(f,[f])}if(typeof a!=="string"){b=a;a=u}a=a||"fx";var e=c.Deferred(),f=this;
b=f.length;var g=1,i=a+"defer",l=a+"queue";a=a+"mark";for(var m;b--;)if(m=c.data(f[b],i,u,true)||(c.data(f[b],l,u,true)||c.data(f[b],a,u,true))&&c.data(f[b],i,c._Deferred(),true)){g++;m.done(d)}d();return e.promise()}});var Oa=/[\n\t\r]/g,ra=/\s+/,Ab=/\r/g,Bb=/^(?:button|input)$/i,Cb=/^(?:button|input|object|select|textarea)$/i,Db=/^a(?:rea)?$/i,Pa=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Eb=/\:|^on/,U,Qa;c.fn.extend({attr:function(a,
b){return c.access(this,a,b,true,c.attr)},removeAttr:function(a){return this.each(function(){c.removeAttr(this,a)})},prop:function(a,b){return c.access(this,a,b,true,c.prop)},removeProp:function(a){a=c.propFix[a]||a;return this.each(function(){try{this[a]=u;delete this[a]}catch(b){}})},addClass:function(a){var b,d,e,f,g,i,l;if(c.isFunction(a))return this.each(function(m){c(this).addClass(a.call(this,m,this.className))});if(a&&typeof a==="string"){b=a.split(ra);d=0;for(e=this.length;d<e;d++){f=this[d];
if(f.nodeType===1)if(!f.className&&b.length===1)f.className=a;else{g=" "+f.className+" ";i=0;for(l=b.length;i<l;i++)~g.indexOf(" "+b[i]+" ")||(g+=b[i]+" ");f.className=c.trim(g)}}}return this},removeClass:function(a){var b,d,e,f,g,i,l;if(c.isFunction(a))return this.each(function(m){c(this).removeClass(a.call(this,m,this.className))});if(a&&typeof a==="string"||a===u){b=(a||"").split(ra);d=0;for(e=this.length;d<e;d++){f=this[d];if(f.nodeType===1&&f.className)if(a){g=(" "+f.className+" ").replace(Oa,
" ");i=0;for(l=b.length;i<l;i++)g=g.replace(" "+b[i]+" "," ");f.className=c.trim(g)}else f.className=""}}return this},toggleClass:function(a,b){var d=typeof a,e=typeof b==="boolean";if(c.isFunction(a))return this.each(function(f){c(this).toggleClass(a.call(this,f,this.className,b),b)});return this.each(function(){if(d==="string")for(var f,g=0,i=c(this),l=b,m=a.split(ra);f=m[g++];){l=e?l:!i.hasClass(f);i[l?"addClass":"removeClass"](f)}else if(d==="undefined"||d==="boolean"){this.className&&c._data(this,
"__className__",this.className);this.className=this.className||a===false?"":c._data(this,"__className__")||""}})},hasClass:function(a){a=" "+a+" ";for(var b=0,d=this.length;b<d;b++)if((" "+this[b].className+" ").replace(Oa," ").indexOf(a)>-1)return true;return false},val:function(a){var b,d,e=this[0];if(!arguments.length){if(e){if((b=c.valHooks[e.nodeName.toLowerCase()]||c.valHooks[e.type])&&"get"in b&&(d=b.get(e,"value"))!==u)return d;d=e.value;return typeof d==="string"?d.replace(Ab,""):d==null?
"":d}return u}var f=c.isFunction(a);return this.each(function(g){var i=c(this);if(this.nodeType===1){g=f?a.call(this,g,i.val()):a;if(g==null)g="";else if(typeof g==="number")g+="";else if(c.isArray(g))g=c.map(g,function(l){return l==null?"":l+""});b=c.valHooks[this.nodeName.toLowerCase()]||c.valHooks[this.type];if(!b||!("set"in b)||b.set(this,g,"value")===u)this.value=g}})}});c.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,
d=a.selectedIndex,e=[],f=a.options;a=a.type==="select-one";if(d<0)return null;for(var g=a?d:0,i=a?d+1:f.length;g<i;g++){b=f[g];if(b.selected&&(c.support.optDisabled?!b.disabled:b.getAttribute("disabled")===null)&&(!b.parentNode.disabled||!c.nodeName(b.parentNode,"optgroup"))){b=c(b).val();if(a)return b;e.push(b)}}if(a&&!e.length&&f.length)return c(f[d]).val();return e},set:function(a,b){var d=c.makeArray(b);c(a).find("option").each(function(){this.selected=c.inArray(c(this).val(),d)>=0});if(!d.length)a.selectedIndex=
-1;return d}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attrFix:{tabindex:"tabIndex"},attr:function(a,b,d,e){var f=a.nodeType;if(!a||f===3||f===8||f===2)return u;if(e&&b in c.attrFn)return c(a)[b](d);if(!("getAttribute"in a))return c.prop(a,b,d);var g,i;if(e=f!==1||!c.isXMLDoc(a)){b=c.attrFix[b]||b;i=c.attrHooks[b];if(!i)if(Pa.test(b))i=Qa;else if(U&&b!=="className"&&(c.nodeName(a,"form")||Eb.test(b)))i=U}if(d!==u)if(d===null){c.removeAttr(a,b);return u}else if(i&&
"set"in i&&e&&(g=i.set(a,d,b))!==u)return g;else{a.setAttribute(b,""+d);return d}else if(i&&"get"in i&&e&&(g=i.get(a,b))!==null)return g;else{g=a.getAttribute(b);return g===null?u:g}},removeAttr:function(a,b){var d;if(a.nodeType===1){b=c.attrFix[b]||b;if(c.support.getSetAttribute)a.removeAttribute(b);else{c.attr(a,b,"");a.removeAttributeNode(a.getAttributeNode(b))}if(Pa.test(b)&&(d=c.propFix[b]||b)in a)a[d]=false}},attrHooks:{type:{set:function(a,b){if(Bb.test(a.nodeName)&&a.parentNode)c.error("type property can't be changed");
else if(!c.support.radioValue&&b==="radio"&&c.nodeName(a,"input")){var d=a.value;a.setAttribute("type",b);if(d)a.value=d;return b}}},tabIndex:{get:function(a){var b=a.getAttributeNode("tabIndex");return b&&b.specified?parseInt(b.value,10):Cb.test(a.nodeName)||Db.test(a.nodeName)&&a.href?0:u}},value:{get:function(a,b){if(U&&c.nodeName(a,"button"))return U.get(a,b);return b in a?a.value:null},set:function(a,b,d){if(U&&c.nodeName(a,"button"))return U.set(a,b,d);a.value=b}}},propFix:{tabindex:"tabIndex",
readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,b,d){var e=a.nodeType;if(!a||e===3||e===8||e===2)return u;var f,g;if(e!==1||!c.isXMLDoc(a)){b=c.propFix[b]||b;g=c.propHooks[b]}return d!==u?g&&"set"in g&&(f=g.set(a,d,b))!==u?f:(a[b]=d):g&&"get"in g&&(f=g.get(a,b))!==u?f:a[b]},propHooks:{}});
Qa={get:function(a,b){return c.prop(a,b)?b.toLowerCase():u},set:function(a,b,d){if(b===false)c.removeAttr(a,d);else{b=c.propFix[d]||d;if(b in a)a[b]=true;a.setAttribute(d,d.toLowerCase())}return d}};if(!c.support.getSetAttribute){c.attrFix=c.propFix;U=c.attrHooks.name=c.attrHooks.title=c.valHooks.button={get:function(a,b){return(a=a.getAttributeNode(b))&&a.nodeValue!==""?a.nodeValue:u},set:function(a,b,d){if(a=a.getAttributeNode(d))return a.nodeValue=b}};c.each(["width","height"],function(a,b){c.attrHooks[b]=
c.extend(c.attrHooks[b],{set:function(d,e){if(e===""){d.setAttribute(b,"auto");return e}}})})}c.support.hrefNormalized||c.each(["href","src","width","height"],function(a,b){c.attrHooks[b]=c.extend(c.attrHooks[b],{get:function(d){d=d.getAttribute(b,2);return d===null?u:d}})});if(!c.support.style)c.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||u},set:function(a,b){return a.style.cssText=""+b}};if(!c.support.optSelected)c.propHooks.selected=c.extend(c.propHooks.selected,{get:function(){}});
c.support.checkOn||c.each(["radio","checkbox"],function(){c.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}});c.each(["radio","checkbox"],function(){c.valHooks[this]=c.extend(c.valHooks[this],{set:function(a,b){if(c.isArray(b))return a.checked=c.inArray(c(a).val(),b)>=0}})});var ka=/\.(.*)$/,sa=/^(?:textarea|input|select)$/i,lb=/\./g,mb=/ /g,Fb=/[^\w\s.|`]/g,Gb=function(a){return a.replace(Fb,"\\$&")};c.event={add:function(a,b,d,e){if(!(a.nodeType===3||a.nodeType===
8)){if(d===false)d=S;else if(!d)return;var f,g;if(d.handler){f=d;d=f.handler}if(!d.guid)d.guid=c.guid++;if(g=c._data(a)){var i=g.events,l=g.handle;if(!i)g.events=i={};if(!l)g.handle=l=function(C){return typeof c!=="undefined"&&(!C||c.event.triggered!==C.type)?c.event.handle.apply(l.elem,arguments):u};l.elem=a;b=b.split(" ");for(var m,n=0,r;m=b[n++];){g=f?c.extend({},f):{handler:d,data:e};if(m.indexOf(".")>-1){r=m.split(".");m=r.shift();g.namespace=r.slice(0).sort().join(".")}else{r=[];g.namespace=
""}g.type=m;if(!g.guid)g.guid=d.guid;var A=i[m],B=c.event.special[m]||{};if(!A){A=i[m]=[];if(!B.setup||B.setup.call(a,e,r,l)===false)if(a.addEventListener)a.addEventListener(m,l,false);else a.attachEvent&&a.attachEvent("on"+m,l)}if(B.add){B.add.call(a,g);if(!g.handler.guid)g.handler.guid=d.guid}A.push(g);c.event.global[m]=true}a=null}}},global:{},remove:function(a,b,d,e){if(!(a.nodeType===3||a.nodeType===8)){if(d===false)d=S;var f,g,i=0,l,m,n,r,A,B,C=c.hasData(a)&&c._data(a),G=C&&C.events;if(C&&G){if(b&&
b.type){d=b.handler;b=b.type}if(!b||typeof b==="string"&&b.charAt(0)==="."){b=b||"";for(f in G)c.event.remove(a,f+b)}else{for(b=b.split(" ");f=b[i++];){r=f;l=f.indexOf(".")<0;m=[];if(!l){m=f.split(".");f=m.shift();n=new RegExp("(^|\\.)"+c.map(m.slice(0).sort(),Gb).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(A=G[f])if(d){r=c.event.special[f]||{};for(g=e||0;g<A.length;g++){B=A[g];if(d.guid===B.guid){if(l||n.test(B.namespace)){e==null&&A.splice(g--,1);r.remove&&r.remove.call(a,B)}if(e!=null)break}}if(A.length===
0||e!=null&&A.length===1){if(!r.teardown||r.teardown.call(a,m)===false)c.removeEvent(a,f,C.handle);delete G[f]}}else for(g=0;g<A.length;g++){B=A[g];if(l||n.test(B.namespace)){c.event.remove(a,r,B.handler,g);A.splice(g--,1)}}}if(c.isEmptyObject(G)){if(b=C.handle)b.elem=null;delete C.events;delete C.handle;c.isEmptyObject(C)&&c.removeData(a,u,true)}}}}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(a,b,d,e){var f=a.type||a,g=[],i;if(f.indexOf("!")>=0){f=f.slice(0,-1);i=true}if(f.indexOf(".")>=
0){g=f.split(".");f=g.shift();g.sort()}if(!((!d||c.event.customEvent[f])&&!c.event.global[f])){a=typeof a==="object"?a[c.expando]?a:new c.Event(f,a):new c.Event(f);a.type=f;a.exclusive=i;a.namespace=g.join(".");a.namespace_re=new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.)?")+"(\\.|$)");if(e||!d){a.preventDefault();a.stopPropagation()}if(d){if(!(d.nodeType===3||d.nodeType===8)){a.result=u;a.target=d;b=b!=null?c.makeArray(b):[];b.unshift(a);g=d;e=f.indexOf(":")<0?"on"+f:"";do{i=c._data(g,"handle");a.currentTarget=
g;i&&i.apply(g,b);if(e&&c.acceptData(g)&&g[e]&&g[e].apply(g,b)===false){a.result=false;a.preventDefault()}g=g.parentNode||g.ownerDocument||g===a.target.ownerDocument&&E}while(g&&!a.isPropagationStopped());if(!a.isDefaultPrevented()){var l;g=c.event.special[f]||{};if((!g._default||g._default.call(d.ownerDocument,a)===false)&&!(f==="click"&&c.nodeName(d,"a"))&&c.acceptData(d)){try{if(e&&d[f]){if(l=d[e])d[e]=null;c.event.triggered=f;d[f]()}}catch(m){}if(l)d[e]=l;c.event.triggered=u}}return a.result}}else c.each(c.cache,
function(){var n=this[c.expando];n&&n.events&&n.events[f]&&c.event.trigger(a,b,n.handle.elem)})}},handle:function(a){a=c.event.fix(a||E.event);var b=((c._data(this,"events")||{})[a.type]||[]).slice(0),d=!a.exclusive&&!a.namespace,e=Array.prototype.slice.call(arguments,0);e[0]=a;a.currentTarget=this;for(var f=0,g=b.length;f<g;f++){var i=b[f];if(d||a.namespace_re.test(i.namespace)){a.handler=i.handler;a.data=i.data;a.handleObj=i;i=i.handler.apply(this,e);if(i!==u){a.result=i;if(i===false){a.preventDefault();
a.stopPropagation()}}if(a.isImmediatePropagationStopped())break}}return a.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(a){if(a[c.expando])return a;var b=a;a=c.Event(b);for(var d=this.props.length,
e;d;){e=this.props[--d];a[e]=b[e]}if(!a.target)a.target=a.srcElement||w;if(a.target.nodeType===3)a.target=a.target.parentNode;if(!a.relatedTarget&&a.fromElement)a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;if(a.pageX==null&&a.clientX!=null){d=a.target.ownerDocument||w;b=d.documentElement;d=d.body;a.pageX=a.clientX+(b&&b.scrollLeft||d&&d.scrollLeft||0)-(b&&b.clientLeft||d&&d.clientLeft||0);a.pageY=a.clientY+(b&&b.scrollTop||d&&d.scrollTop||0)-(b&&b.clientTop||d&&d.clientTop||
0)}if(a.which==null&&(a.charCode!=null||a.keyCode!=null))a.which=a.charCode!=null?a.charCode:a.keyCode;if(!a.metaKey&&a.ctrlKey)a.metaKey=a.ctrlKey;if(!a.which&&a.button!==u)a.which=a.button&1?1:a.button&2?3:a.button&4?2:0;return a},guid:1E8,proxy:c.proxy,special:{ready:{setup:c.bindReady,teardown:c.noop},live:{add:function(a){c.event.add(this,da(a.origType,a.selector),c.extend({},a,{handler:kb,guid:a.handler.guid}))},remove:function(a){c.event.remove(this,da(a.origType,a.selector),a)}},beforeunload:{setup:function(a,
b,d){if(c.isWindow(this))this.onbeforeunload=d},teardown:function(a,b){if(this.onbeforeunload===b)this.onbeforeunload=null}}}};c.removeEvent=w.removeEventListener?function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d,false)}:function(a,b,d){a.detachEvent&&a.detachEvent("on"+b,d)};c.Event=function(a,b){if(!this.preventDefault)return new c.Event(a,b);if(a&&a.type){this.originalEvent=a;this.type=a.type;this.isDefaultPrevented=a.defaultPrevented||a.returnValue===false||a.getPreventDefault&&
a.getPreventDefault()?ca:S}else this.type=a;b&&c.extend(this,b);this.timeStamp=c.now();this[c.expando]=true};c.Event.prototype={preventDefault:function(){this.isDefaultPrevented=ca;var a=this.originalEvent;if(a)if(a.preventDefault)a.preventDefault();else a.returnValue=false},stopPropagation:function(){this.isPropagationStopped=ca;var a=this.originalEvent;if(a){a.stopPropagation&&a.stopPropagation();a.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=ca;this.stopPropagation()},
isDefaultPrevented:S,isPropagationStopped:S,isImmediatePropagationStopped:S};var Ra=function(a){var b=a.relatedTarget,d=false,e=a.type;a.type=a.data;if(b!==this){if(b)d=c.contains(this,b);if(!d){c.event.handle.apply(this,arguments);a.type=e}}},Sa=function(a){a.type=a.data;c.event.handle.apply(this,arguments)};c.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){c.event.special[a]={setup:function(d){c.event.add(this,b,d&&d.selector?Sa:Ra,a)},teardown:function(d){c.event.remove(this,
b,d&&d.selector?Sa:Ra)}}});if(!c.support.submitBubbles)c.event.special.submit={setup:function(){if(c.nodeName(this,"form"))return false;else{c.event.add(this,"click.specialSubmit",function(a){var b=a.target,d=b.type;if((d==="submit"||d==="image")&&c(b).closest("form").length)za("submit",this,arguments)});c.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,d=b.type;if((d==="text"||d==="password")&&c(b).closest("form").length&&a.keyCode===13)za("submit",this,arguments)})}},teardown:function(){c.event.remove(this,
".specialSubmit")}};if(!c.support.changeBubbles){var ba,Ta=function(a){var b=a.type,d=a.value;if(b==="radio"||b==="checkbox")d=a.checked;else if(b==="select-multiple")d=a.selectedIndex>-1?c.map(a.options,function(e){return e.selected}).join("-"):"";else if(c.nodeName(a,"select"))d=a.selectedIndex;return d},ha=function(a,b){var d=a.target,e,f;if(!(!sa.test(d.nodeName)||d.readOnly)){e=c._data(d,"_change_data");f=Ta(d);if(a.type!=="focusout"||d.type!=="radio")c._data(d,"_change_data",f);if(!(e===u||
f===e))if(e!=null||f){a.type="change";a.liveFired=u;c.event.trigger(a,b,d)}}};c.event.special.change={filters:{focusout:ha,beforedeactivate:ha,click:function(a){var b=a.target,d=c.nodeName(b,"input")?b.type:"";if(d==="radio"||d==="checkbox"||c.nodeName(b,"select"))ha.call(this,a)},keydown:function(a){var b=a.target,d=c.nodeName(b,"input")?b.type:"";if(a.keyCode===13&&!c.nodeName(b,"textarea")||a.keyCode===32&&(d==="checkbox"||d==="radio")||d==="select-multiple")ha.call(this,a)},beforeactivate:function(a){a=
a.target;c._data(a,"_change_data",Ta(a))}},setup:function(){if(this.type==="file")return false;for(var a in ba)c.event.add(this,a+".specialChange",ba[a]);return sa.test(this.nodeName)},teardown:function(){c.event.remove(this,".specialChange");return sa.test(this.nodeName)}};ba=c.event.special.change.filters;ba.focus=ba.beforeactivate}c.support.focusinBubbles||c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(f){var g=c.event.fix(f);g.type=b;g.originalEvent={};c.event.trigger(g,null,
g.target);g.isDefaultPrevented()&&f.preventDefault()}var e=0;c.event.special[b]={setup:function(){e++===0&&w.addEventListener(a,d,true)},teardown:function(){--e===0&&w.removeEventListener(a,d,true)}}});c.each(["bind","one"],function(a,b){c.fn[b]=function(d,e,f){var g;if(typeof d==="object"){for(var i in d)this[b](i,e,d[i],f);return this}if(arguments.length===2||e===false){f=e;e=u}if(b==="one"){g=function(m){c(this).unbind(m,g);return f.apply(this,arguments)};g.guid=f.guid||c.guid++}else g=f;if(d===
"unload"&&b!=="one")this.one(d,e,f);else{i=0;for(var l=this.length;i<l;i++)c.event.add(this[i],d,g,e)}return this}});c.fn.extend({unbind:function(a,b){if(typeof a==="object"&&!a.preventDefault)for(var d in a)this.unbind(d,a[d]);else{d=0;for(var e=this.length;d<e;d++)c.event.remove(this[d],a,b)}return this},delegate:function(a,b,d,e){return this.live(b,d,e,a)},undelegate:function(a,b,d){return arguments.length===0?this.unbind("live"):this.die(b,null,d,a)},trigger:function(a,b){return this.each(function(){c.event.trigger(a,
b,this)})},triggerHandler:function(a,b){if(this[0])return c.event.trigger(a,b,this[0],true)},toggle:function(a){var b=arguments,d=a.guid||c.guid++,e=0,f=function(g){var i=(c.data(this,"lastToggle"+a.guid)||0)%e;c.data(this,"lastToggle"+a.guid,i+1);g.preventDefault();return b[i].apply(this,arguments)||false};for(f.guid=d;e<b.length;)b[e++].guid=d;return this.click(f)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var ta={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};
c.each(["live","die"],function(a,b){c.fn[b]=function(d,e,f,g){var i=0,l,m,n=g||this.selector,r=g?this:c(this.context);if(typeof d==="object"&&!d.preventDefault){for(l in d)r[b](l,e,d[l],n);return this}if(b==="die"&&!d&&g&&g.charAt(0)==="."){r.unbind(g);return this}if(e===false||c.isFunction(e)){f=e||S;e=u}for(d=(d||"").split(" ");(g=d[i++])!=null;){l=ka.exec(g);m="";if(l){m=l[0];g=g.replace(ka,"")}if(g==="hover")d.push("mouseenter"+m,"mouseleave"+m);else{l=g;if(ta[g]){d.push(ta[g]+m);g+=m}else g=
(ta[g]||g)+m;if(b==="live"){m=0;for(var A=r.length;m<A;m++)c.event.add(r[m],"live."+da(g,n),{data:e,selector:n,handler:f,origType:g,origHandler:f,preType:l})}else r.unbind("live."+da(g,n),f)}}return this}});c.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){c.fn[b]=function(d,e){if(e==null){e=d;d=null}return arguments.length>0?this.bind(b,
d,e):this.trigger(b)};if(c.attrFn)c.attrFn[b]=true});(function(){function a(h,k,o,p,q,s){q=0;for(var y=p.length;q<y;q++){var v=p[q];if(v){var D=false;for(v=v[h];v;){if(v.sizcache===o){D=p[v.sizset];break}if(v.nodeType===1&&!s){v.sizcache=o;v.sizset=q}if(v.nodeName.toLowerCase()===k){D=v;break}v=v[h]}p[q]=D}}}function b(h,k,o,p,q,s){q=0;for(var y=p.length;q<y;q++){var v=p[q];if(v){var D=false;for(v=v[h];v;){if(v.sizcache===o){D=p[v.sizset];break}if(v.nodeType===1){if(!s){v.sizcache=o;v.sizset=q}if(typeof k!==
"string"){if(v===k){D=true;break}}else if(n.filter(k,[v]).length>0){D=v;break}}v=v[h]}p[q]=D}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e=0,f=Object.prototype.toString,g=false,i=true,l=/\\/g,m=/\W/;[0,0].sort(function(){i=false;return 0});var n=function(h,k,o,p){o=o||[];var q=k=k||w;if(k.nodeType!==1&&k.nodeType!==9)return[];if(!h||typeof h!=="string")return o;var s,y,v,D,M,L=true,N=n.isXML(k),j=[],
t=h;do{d.exec("");if(s=d.exec(t)){t=s[3];j.push(s[1]);if(s[2]){D=s[3];break}}}while(s);if(j.length>1&&A.exec(h))if(j.length===2&&r.relative[j[0]])y=Q(j[0]+j[1],k);else for(y=r.relative[j[0]]?[k]:n(j.shift(),k);j.length;){h=j.shift();if(r.relative[h])h+=j.shift();y=Q(h,y)}else{if(!p&&j.length>1&&k.nodeType===9&&!N&&r.match.ID.test(j[0])&&!r.match.ID.test(j[j.length-1])){s=n.find(j.shift(),k,N);k=s.expr?n.filter(s.expr,s.set)[0]:s.set[0]}if(k){s=p?{expr:j.pop(),set:G(p)}:n.find(j.pop(),j.length===1&&
(j[0]==="~"||j[0]==="+")&&k.parentNode?k.parentNode:k,N);y=s.expr?n.filter(s.expr,s.set):s.set;if(j.length>0)v=G(y);else L=false;for(;j.length;){s=M=j.pop();if(r.relative[M])s=j.pop();else M="";if(s==null)s=k;r.relative[M](v,s,N)}}else v=[]}v||(v=y);v||n.error(M||h);if(f.call(v)==="[object Array]")if(L)if(k&&k.nodeType===1)for(h=0;v[h]!=null;h++){if(v[h]&&(v[h]===true||v[h].nodeType===1&&n.contains(k,v[h])))o.push(y[h])}else for(h=0;v[h]!=null;h++)v[h]&&v[h].nodeType===1&&o.push(y[h]);else o.push.apply(o,
v);else G(v,o);if(D){n(D,q,o,p);n.uniqueSort(o)}return o};n.uniqueSort=function(h){if(I){g=i;h.sort(I);if(g)for(var k=1;k<h.length;k++)h[k]===h[k-1]&&h.splice(k--,1)}return h};n.matches=function(h,k){return n(h,null,null,k)};n.matchesSelector=function(h,k){return n(k,null,null,[h]).length>0};n.find=function(h,k,o){var p;if(!h)return[];for(var q=0,s=r.order.length;q<s;q++){var y,v=r.order[q];if(y=r.leftMatch[v].exec(h)){var D=y[1];y.splice(1,1);if(D.substr(D.length-1)!=="\\"){y[1]=(y[1]||"").replace(l,
"");p=r.find[v](y,k,o);if(p!=null){h=h.replace(r.match[v],"");break}}}}p||(p=typeof k.getElementsByTagName!=="undefined"?k.getElementsByTagName("*"):[]);return{set:p,expr:h}};n.filter=function(h,k,o,p){for(var q,s,y=h,v=[],D=k,M=k&&k[0]&&n.isXML(k[0]);h&&k.length;){for(var L in r.filter)if((q=r.leftMatch[L].exec(h))!=null&&q[2]){var N,j,t=r.filter[L];j=q[1];s=false;q.splice(1,1);if(j.substr(j.length-1)!=="\\"){if(D===v)v=[];if(r.preFilter[L])if(q=r.preFilter[L](q,D,o,v,p,M)){if(q===true)continue}else s=
N=true;if(q)for(var x=0;(j=D[x])!=null;x++)if(j){N=t(j,q,x,D);var z=p^!!N;if(o&&N!=null)if(z)s=true;else D[x]=false;else if(z){v.push(j);s=true}}if(N!==u){o||(D=v);h=h.replace(r.match[L],"");if(!s)return[];break}}}if(h===y)if(s==null)n.error(h);else break;y=h}return D};n.error=function(h){throw"Syntax error, unrecognized expression: "+h;};var r=n.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,
ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(h){return h.getAttribute("href")},
type:function(h){return h.getAttribute("type")}},relative:{"+":function(h,k){var o=typeof k==="string",p=o&&!m.test(k);o=o&&!p;if(p)k=k.toLowerCase();p=0;for(var q=h.length,s;p<q;p++)if(s=h[p]){for(;(s=s.previousSibling)&&s.nodeType!==1;);h[p]=o||s&&s.nodeName.toLowerCase()===k?s||false:s===k}o&&n.filter(k,h,true)},">":function(h,k){var o,p=typeof k==="string",q=0,s=h.length;if(p&&!m.test(k))for(k=k.toLowerCase();q<s;q++){if(o=h[q]){o=o.parentNode;h[q]=o.nodeName.toLowerCase()===k?o:false}}else{for(;q<
s;q++)if(o=h[q])h[q]=p?o.parentNode:o.parentNode===k;p&&n.filter(k,h,true)}},"":function(h,k,o){var p,q=e++,s=b;if(typeof k==="string"&&!m.test(k)){p=k=k.toLowerCase();s=a}s("parentNode",k,q,h,p,o)},"~":function(h,k,o){var p,q=e++,s=b;if(typeof k==="string"&&!m.test(k)){p=k=k.toLowerCase();s=a}s("previousSibling",k,q,h,p,o)}},find:{ID:function(h,k,o){if(typeof k.getElementById!=="undefined"&&!o)return(h=k.getElementById(h[1]))&&h.parentNode?[h]:[]},NAME:function(h,k){if(typeof k.getElementsByName!==
"undefined"){var o=[];k=k.getElementsByName(h[1]);for(var p=0,q=k.length;p<q;p++)k[p].getAttribute("name")===h[1]&&o.push(k[p]);return o.length===0?null:o}},TAG:function(h,k){if(typeof k.getElementsByTagName!=="undefined")return k.getElementsByTagName(h[1])}},preFilter:{CLASS:function(h,k,o,p,q,s){h=" "+h[1].replace(l,"")+" ";if(s)return h;s=0;for(var y;(y=k[s])!=null;s++)if(y)if(q^(y.className&&(" "+y.className+" ").replace(/[\t\n\r]/g," ").indexOf(h)>=0))o||p.push(y);else if(o)k[s]=false;return false},
ID:function(h){return h[1].replace(l,"")},TAG:function(h){return h[1].replace(l,"").toLowerCase()},CHILD:function(h){if(h[1]==="nth"){h[2]||n.error(h[0]);h[2]=h[2].replace(/^\+|\s*/g,"");var k=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(h[2]==="even"&&"2n"||h[2]==="odd"&&"2n+1"||!/\D/.test(h[2])&&"0n+"+h[2]||h[2]);h[2]=k[1]+(k[2]||1)-0;h[3]=k[3]-0}else h[2]&&n.error(h[0]);h[0]=e++;return h},ATTR:function(h,k,o,p,q,s){k=h[1]=h[1].replace(l,"");if(!s&&r.attrMap[k])h[1]=r.attrMap[k];h[4]=(h[4]||h[5]||"").replace(l,
"");if(h[2]==="~=")h[4]=" "+h[4]+" ";return h},PSEUDO:function(h,k,o,p,q){if(h[1]==="not")if((d.exec(h[3])||"").length>1||/^\w/.test(h[3]))h[3]=n(h[3],null,null,k);else{h=n.filter(h[3],k,o,true^q);o||p.push.apply(p,h);return false}else if(r.match.POS.test(h[0])||r.match.CHILD.test(h[0]))return true;return h},POS:function(h){h.unshift(true);return h}},filters:{enabled:function(h){return h.disabled===false&&h.type!=="hidden"},disabled:function(h){return h.disabled===true},checked:function(h){return h.checked===
true},selected:function(h){return h.selected===true},parent:function(h){return!!h.firstChild},empty:function(h){return!h.firstChild},has:function(h,k,o){return!!n(o[3],h).length},header:function(h){return/h\d/i.test(h.nodeName)},text:function(h){var k=h.getAttribute("type"),o=h.type;return h.nodeName.toLowerCase()==="input"&&"text"===o&&(k===o||k===null)},radio:function(h){return h.nodeName.toLowerCase()==="input"&&"radio"===h.type},checkbox:function(h){return h.nodeName.toLowerCase()==="input"&&
"checkbox"===h.type},file:function(h){return h.nodeName.toLowerCase()==="input"&&"file"===h.type},password:function(h){return h.nodeName.toLowerCase()==="input"&&"password"===h.type},submit:function(h){var k=h.nodeName.toLowerCase();return(k==="input"||k==="button")&&"submit"===h.type},image:function(h){return h.nodeName.toLowerCase()==="input"&&"image"===h.type},reset:function(h){var k=h.nodeName.toLowerCase();return(k==="input"||k==="button")&&"reset"===h.type},button:function(h){var k=h.nodeName.toLowerCase();
return k==="input"&&"button"===h.type||k==="button"},input:function(h){return/input|select|textarea|button/i.test(h.nodeName)},focus:function(h){return h===h.ownerDocument.activeElement}},setFilters:{first:function(h,k){return k===0},last:function(h,k,o,p){return k===p.length-1},even:function(h,k){return k%2===0},odd:function(h,k){return k%2===1},lt:function(h,k,o){return k<o[3]-0},gt:function(h,k,o){return k>o[3]-0},nth:function(h,k,o){return o[3]-0===k},eq:function(h,k,o){return o[3]-0===k}},filter:{PSEUDO:function(h,
k,o,p){var q=k[1],s=r.filters[q];if(s)return s(h,o,k,p);else if(q==="contains")return(h.textContent||h.innerText||n.getText([h])||"").indexOf(k[3])>=0;else if(q==="not"){k=k[3];o=0;for(p=k.length;o<p;o++)if(k[o]===h)return false;return true}else n.error(q)},CHILD:function(h,k){var o=k[1],p=h;switch(o){case "only":case "first":for(;p=p.previousSibling;)if(p.nodeType===1)return false;if(o==="first")return true;p=h;case "last":for(;p=p.nextSibling;)if(p.nodeType===1)return false;return true;case "nth":o=
k[2];var q=k[3];if(o===1&&q===0)return true;k=k[0];var s=h.parentNode;if(s&&(s.sizcache!==k||!h.nodeIndex)){var y=0;for(p=s.firstChild;p;p=p.nextSibling)if(p.nodeType===1)p.nodeIndex=++y;s.sizcache=k}h=h.nodeIndex-q;return o===0?h===0:h%o===0&&h/o>=0}},ID:function(h,k){return h.nodeType===1&&h.getAttribute("id")===k},TAG:function(h,k){return k==="*"&&h.nodeType===1||h.nodeName.toLowerCase()===k},CLASS:function(h,k){return(" "+(h.className||h.getAttribute("class"))+" ").indexOf(k)>-1},ATTR:function(h,
k){var o=k[1];h=r.attrHandle[o]?r.attrHandle[o](h):h[o]!=null?h[o]:h.getAttribute(o);o=h+"";var p=k[2];k=k[4];return h==null?p==="!=":p==="="?o===k:p==="*="?o.indexOf(k)>=0:p==="~="?(" "+o+" ").indexOf(k)>=0:!k?o&&h!==false:p==="!="?o!==k:p==="^="?o.indexOf(k)===0:p==="$="?o.substr(o.length-k.length)===k:p==="|="?o===k||o.substr(0,k.length+1)===k+"-":false},POS:function(h,k,o,p){var q=r.setFilters[k[2]];if(q)return q(h,o,k,p)}}},A=r.match.POS,B=function(h,k){return"\\"+(k-0+1)};for(var C in r.match){r.match[C]=
new RegExp(r.match[C].source+/(?![^\[]*\])(?![^\(]*\))/.source);r.leftMatch[C]=new RegExp(/(^(?:.|\r|\n)*?)/.source+r.match[C].source.replace(/\\(\d+)/g,B))}var G=function(h,k){h=Array.prototype.slice.call(h,0);if(k){k.push.apply(k,h);return k}return h};try{Array.prototype.slice.call(w.documentElement.childNodes,0)}catch(T){G=function(h,k){var o=0;k=k||[];if(f.call(h)==="[object Array]")Array.prototype.push.apply(k,h);else if(typeof h.length==="number")for(var p=h.length;o<p;o++)k.push(h[o]);else for(;h[o];o++)k.push(h[o]);
return k}}var I,O;if(w.documentElement.compareDocumentPosition)I=function(h,k){if(h===k){g=true;return 0}if(!h.compareDocumentPosition||!k.compareDocumentPosition)return h.compareDocumentPosition?-1:1;return h.compareDocumentPosition(k)&4?-1:1};else{I=function(h,k){if(h===k){g=true;return 0}else if(h.sourceIndex&&k.sourceIndex)return h.sourceIndex-k.sourceIndex;var o,p,q=[],s=[];o=h.parentNode;p=k.parentNode;var y=o;if(o===p)return O(h,k);else if(o){if(!p)return 1}else return-1;for(;y;){q.unshift(y);
y=y.parentNode}for(y=p;y;){s.unshift(y);y=y.parentNode}o=q.length;p=s.length;for(y=0;y<o&&y<p;y++)if(q[y]!==s[y])return O(q[y],s[y]);return y===o?O(h,s[y],-1):O(q[y],k,1)};O=function(h,k,o){if(h===k)return o;for(h=h.nextSibling;h;){if(h===k)return-1;h=h.nextSibling}return 1}}n.getText=function(h){for(var k="",o,p=0;h[p];p++){o=h[p];if(o.nodeType===3||o.nodeType===4)k+=o.nodeValue;else if(o.nodeType!==8)k+=n.getText(o.childNodes)}return k};(function(){var h=w.createElement("div"),k="script"+(new Date).getTime(),
o=w.documentElement;h.innerHTML="<a name='"+k+"'/>";o.insertBefore(h,o.firstChild);if(w.getElementById(k)){r.find.ID=function(p,q,s){if(typeof q.getElementById!=="undefined"&&!s)return(q=q.getElementById(p[1]))?q.id===p[1]||typeof q.getAttributeNode!=="undefined"&&q.getAttributeNode("id").nodeValue===p[1]?[q]:u:[]};r.filter.ID=function(p,q){var s=typeof p.getAttributeNode!=="undefined"&&p.getAttributeNode("id");return p.nodeType===1&&s&&s.nodeValue===q}}o.removeChild(h);o=h=null})();(function(){var h=
w.createElement("div");h.appendChild(w.createComment(""));if(h.getElementsByTagName("*").length>0)r.find.TAG=function(k,o){o=o.getElementsByTagName(k[1]);if(k[1]==="*"){k=[];for(var p=0;o[p];p++)o[p].nodeType===1&&k.push(o[p]);o=k}return o};h.innerHTML="<a href='#'></a>";if(h.firstChild&&typeof h.firstChild.getAttribute!=="undefined"&&h.firstChild.getAttribute("href")!=="#")r.attrHandle.href=function(k){return k.getAttribute("href",2)};h=null})();w.querySelectorAll&&function(){var h=n,k=w.createElement("div");
k.innerHTML="<p class='TEST'></p>";if(!(k.querySelectorAll&&k.querySelectorAll(".TEST").length===0)){n=function(p,q,s,y){q=q||w;if(!y&&!n.isXML(q)){var v=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(p);if(v&&(q.nodeType===1||q.nodeType===9))if(v[1])return G(q.getElementsByTagName(p),s);else if(v[2]&&r.find.CLASS&&q.getElementsByClassName)return G(q.getElementsByClassName(v[2]),s);if(q.nodeType===9){if(p==="body"&&q.body)return G([q.body],s);else if(v&&v[3]){var D=q.getElementById(v[3]);if(D&&D.parentNode){if(D.id===
v[3])return G([D],s)}else return G([],s)}try{return G(q.querySelectorAll(p),s)}catch(M){}}else if(q.nodeType===1&&q.nodeName.toLowerCase()!=="object"){v=q;var L=(D=q.getAttribute("id"))||"__sizzle__",N=q.parentNode,j=/^\s*[+~]/.test(p);if(D)L=L.replace(/'/g,"\\$&");else q.setAttribute("id",L);if(j&&N)q=q.parentNode;try{if(!j||N)return G(q.querySelectorAll("[id='"+L+"'] "+p),s)}catch(t){}finally{D||v.removeAttribute("id")}}}return h(p,q,s,y)};for(var o in h)n[o]=h[o];k=null}}();(function(){var h=w.documentElement,
k=h.matchesSelector||h.mozMatchesSelector||h.webkitMatchesSelector||h.msMatchesSelector;if(k){var o=!k.call(w.createElement("div"),"div"),p=false;try{k.call(w.documentElement,"[test!='']:sizzle")}catch(q){p=true}n.matchesSelector=function(s,y){y=y.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!n.isXML(s))try{if(p||!r.match.PSEUDO.test(y)&&!/!=/.test(y)){var v=k.call(s,y);if(v||!o||s.document&&s.document.nodeType!==11)return v}}catch(D){}return n(y,null,null,[s]).length>0}}})();(function(){var h=w.createElement("div");
h.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!h.getElementsByClassName||h.getElementsByClassName("e").length===0)){h.lastChild.className="e";if(h.getElementsByClassName("e").length!==1){r.order.splice(1,0,"CLASS");r.find.CLASS=function(k,o,p){if(typeof o.getElementsByClassName!=="undefined"&&!p)return o.getElementsByClassName(k[1])};h=null}}})();n.contains=w.documentElement.contains?function(h,k){return h!==k&&(h.contains?h.contains(k):true)}:w.documentElement.compareDocumentPosition?
function(h,k){return!!(h.compareDocumentPosition(k)&16)}:function(){return false};n.isXML=function(h){return(h=(h?h.ownerDocument||h:0).documentElement)?h.nodeName!=="HTML":false};var Q=function(h,k){var o,p=[],q="";for(k=k.nodeType?[k]:k;o=r.match.PSEUDO.exec(h);){q+=o[0];h=h.replace(r.match.PSEUDO,"")}h=r.relative[h]?h+"*":h;o=0;for(var s=k.length;o<s;o++)n(h,k[o],p);return n.filter(q,p)};c.find=n;c.expr=n.selectors;c.expr[":"]=c.expr.filters;c.unique=n.uniqueSort;c.text=n.getText;c.isXMLDoc=n.isXML;
c.contains=n.contains})();var Hb=/Until$/,Ib=/^(?:parents|prevUntil|prevAll)/,Jb=/,/,nb=/^.[^:#\[\.,]*$/,Kb=Array.prototype.slice,Ua=c.expr.match.POS,Lb={children:true,contents:true,next:true,prev:true};c.fn.extend({find:function(a){var b=this,d,e;if(typeof a!=="string")return c(a).filter(function(){d=0;for(e=b.length;d<e;d++)if(c.contains(b[d],this))return true});var f=this.pushStack("","find",a),g,i,l;d=0;for(e=this.length;d<e;d++){g=f.length;c.find(a,this[d],f);if(d>0)for(i=g;i<f.length;i++)for(l=
0;l<g;l++)if(f[l]===f[i]){f.splice(i--,1);break}}return f},has:function(a){var b=c(a);return this.filter(function(){for(var d=0,e=b.length;d<e;d++)if(c.contains(this,b[d]))return true})},not:function(a){return this.pushStack(Ba(this,a,false),"not",a)},filter:function(a){return this.pushStack(Ba(this,a,true),"filter",a)},is:function(a){return!!a&&(typeof a==="string"?c.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var d=[],e,f,g=this[0];if(c.isArray(a)){var i,l={},m=1;if(g&&
a.length){e=0;for(f=a.length;e<f;e++){i=a[e];l[i]||(l[i]=Ua.test(i)?c(i,b||this.context):i)}for(;g&&g.ownerDocument&&g!==b;){for(i in l){a=l[i];if(a.jquery?a.index(g)>-1:c(g).is(a))d.push({selector:i,elem:g,level:m})}g=g.parentNode;m++}}return d}i=Ua.test(a)||typeof a!=="string"?c(a,b||this.context):0;e=0;for(f=this.length;e<f;e++)for(g=this[e];g;)if(i?i.index(g)>-1:c.find.matchesSelector(g,a)){d.push(g);break}else{g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}d=d.length>1?
c.unique(d):d;return this.pushStack(d,"closest",a)},index:function(a){if(!a||typeof a==="string")return c.inArray(this[0],a?c(a):this.parent().children());return c.inArray(a.jquery?a[0]:a,this)},add:function(a,b){a=typeof a==="string"?c(a,b):c.makeArray(a&&a.nodeType?[a]:a);b=c.merge(this.get(),a);return this.pushStack(Aa(a[0])||Aa(b[0])?b:c.unique(b))},andSelf:function(){return this.add(this.prevObject)}});c.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return c.dir(a,
"parentNode")},parentsUntil:function(a,b,d){return c.dir(a,"parentNode",d)},next:function(a){return c.nth(a,2,"nextSibling")},prev:function(a){return c.nth(a,2,"previousSibling")},nextAll:function(a){return c.dir(a,"nextSibling")},prevAll:function(a){return c.dir(a,"previousSibling")},nextUntil:function(a,b,d){return c.dir(a,"nextSibling",d)},prevUntil:function(a,b,d){return c.dir(a,"previousSibling",d)},siblings:function(a){return c.sibling(a.parentNode.firstChild,a)},children:function(a){return c.sibling(a.firstChild)},
contents:function(a){return c.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:c.makeArray(a.childNodes)}},function(a,b){c.fn[a]=function(d,e){var f=c.map(this,b,d),g=Kb.call(arguments);Hb.test(a)||(e=d);if(e&&typeof e==="string")f=c.filter(e,f);f=this.length>1&&!Lb[a]?c.unique(f):f;if((this.length>1||Jb.test(e))&&Ib.test(a))f=f.reverse();return this.pushStack(f,a,g.join(","))}});c.extend({filter:function(a,b,d){if(d)a=":not("+a+")";return b.length===1?c.find.matchesSelector(b[0],
a)?[b[0]]:[]:c.find.matches(a,b)},dir:function(a,b,d){var e=[];for(a=a[b];a&&a.nodeType!==9&&(d===u||a.nodeType!==1||!c(a).is(d));){a.nodeType===1&&e.push(a);a=a[b]}return e},nth:function(a,b,d){b=b||1;for(var e=0;a;a=a[d])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){for(var d=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&d.push(a);return d}});var Mb=/ jQuery\d+="(?:\d+|null)"/g,ua=/^\s+/,Va=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Wa=/<([\w:]+)/,
Nb=/<tbody/i,Ob=/<|&#?\w+;/,Xa=/<(?:script|object|embed|option|style)/i,Ya=/checked\s*(?:[^=]|=\s*.checked.)/i,Pb=/\/(java|ecma)script/i,qb=/^\s*<!(?:\[CDATA\[|\-\-)/,P={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};P.optgroup=
P.option;P.tbody=P.tfoot=P.colgroup=P.caption=P.thead;P.th=P.td;if(!c.support.htmlSerialize)P._default=[1,"div<div>","</div>"];c.fn.extend({text:function(a){if(c.isFunction(a))return this.each(function(b){var d=c(this);d.text(a.call(this,b,d.text()))});if(typeof a!=="object"&&a!==u)return this.empty().append((this[0]&&this[0].ownerDocument||w).createTextNode(a));return c.text(this)},wrapAll:function(a){if(c.isFunction(a))return this.each(function(d){c(this).wrapAll(a.call(this,d))});if(this[0]){var b=
c(a,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var d=this;d.firstChild&&d.firstChild.nodeType===1;)d=d.firstChild;return d}).append(this)}return this},wrapInner:function(a){if(c.isFunction(a))return this.each(function(b){c(this).wrapInner(a.call(this,b))});return this.each(function(){var b=c(this),d=b.contents();d.length?d.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){c(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){c.nodeName(this,
"body")||c(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,true,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this)});else if(arguments.length){var a=c(arguments[0]);a.push.apply(a,this.toArray());
return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(b){this.parentNode.insertBefore(b,this.nextSibling)});else if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,c(arguments[0]).toArray());return a}},remove:function(a,b){for(var d=0,e;(e=this[d])!=null;d++)if(!a||c.filter(a,[e]).length){if(!b&&e.nodeType===1){c.cleanData(e.getElementsByTagName("*"));c.cleanData([e])}e.parentNode&&
e.parentNode.removeChild(e)}return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&c.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){a=a==null?false:a;b=b==null?a:b;return this.map(function(){return c.clone(this,a,b)})},html:function(a){if(a===u)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Mb,""):null;else if(typeof a==="string"&&!Xa.test(a)&&(c.support.leadingWhitespace||!ua.test(a))&&
!P[(Wa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Va,"<$1></$2>");try{for(var b=0,d=this.length;b<d;b++)if(this[b].nodeType===1){c.cleanData(this[b].getElementsByTagName("*"));this[b].innerHTML=a}}catch(e){this.empty().append(a)}}else c.isFunction(a)?this.each(function(f){var g=c(this);g.html(a.call(this,f,g.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(c.isFunction(a))return this.each(function(b){var d=c(this),e=d.html();d.replaceWith(a.call(this,
b,e))});if(typeof a!=="string")a=c(a).detach();return this.each(function(){var b=this.nextSibling,d=this.parentNode;c(this).remove();b?c(b).before(a):c(d).append(a)})}else return this.length?this.pushStack(c(c.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,true)},domManip:function(a,b,d){var e,f,g,i=a[0],l=[];if(!c.support.checkClone&&arguments.length===3&&typeof i==="string"&&Ya.test(i))return this.each(function(){c(this).domManip(a,b,d,true)});if(c.isFunction(i))return this.each(function(A){var B=
c(this);a[0]=i.call(this,A,b?B.html():u);B.domManip(a,b,d)});if(this[0]){e=i&&i.parentNode;e=c.support.parentNode&&e&&e.nodeType===11&&e.childNodes.length===this.length?{fragment:e}:c.buildFragment(a,this,l);g=e.fragment;if(f=g.childNodes.length===1?(g=g.firstChild):g.firstChild){b=b&&c.nodeName(f,"tr");for(var m=0,n=this.length,r=n-1;m<n;m++)d.call(b?ob(this[m],f):this[m],e.cacheable||n>1&&m<r?c.clone(g,true,true):g)}l.length&&c.each(l,pb)}return this}});c.buildFragment=function(a,b,d){var e,f,g,
i;if(b&&b[0])i=b[0].ownerDocument||b[0];i.createDocumentFragment||(i=w);if(a.length===1&&typeof a[0]==="string"&&a[0].length<512&&i===w&&a[0].charAt(0)==="<"&&!Xa.test(a[0])&&(c.support.checkClone||!Ya.test(a[0]))){f=true;if((g=c.fragments[a[0]])&&g!==1)e=g}if(!e){e=i.createDocumentFragment();c.clean(a,i,e,d)}if(f)c.fragments[a[0]]=g?e:1;return{fragment:e,cacheable:f}};c.fragments={};c.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},
function(a,b){c.fn[a]=function(d){var e=[];d=c(d);var f=this.length===1&&this[0].parentNode;if(f&&f.nodeType===11&&f.childNodes.length===1&&d.length===1){d[b](this[0]);return this}else{f=0;for(var g=d.length;f<g;f++){var i=(f>0?this.clone(true):this).get();c(d[f])[b](i);e=e.concat(i)}return this.pushStack(e,a,d.selector)}}});c.extend({clone:function(a,b,d){var e=a.cloneNode(true),f,g,i;if((!c.support.noCloneEvent||!c.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!c.isXMLDoc(a)){Da(a,
e);f=ea(a);g=ea(e);for(i=0;f[i];++i)Da(f[i],g[i])}if(b){Ca(a,e);if(d){f=ea(a);g=ea(e);for(i=0;f[i];++i)Ca(f[i],g[i])}}return e},clean:function(a,b,d,e){b=b||w;if(typeof b.createElement==="undefined")b=b.ownerDocument||b[0]&&b[0].ownerDocument||w;for(var f=[],g,i=0,l;(l=a[i])!=null;i++){if(typeof l==="number")l+="";if(l){if(typeof l==="string")if(Ob.test(l)){l=l.replace(Va,"<$1></$2>");g=(Wa.exec(l)||["",""])[1].toLowerCase();var m=P[g]||P._default,n=m[0],r=b.createElement("div");for(r.innerHTML=m[1]+
l+m[2];n--;)r=r.lastChild;if(!c.support.tbody){n=Nb.test(l);m=g==="table"&&!n?r.firstChild&&r.firstChild.childNodes:m[1]==="<table>"&&!n?r.childNodes:[];for(g=m.length-1;g>=0;--g)c.nodeName(m[g],"tbody")&&!m[g].childNodes.length&&m[g].parentNode.removeChild(m[g])}!c.support.leadingWhitespace&&ua.test(l)&&r.insertBefore(b.createTextNode(ua.exec(l)[0]),r.firstChild);l=r.childNodes}else l=b.createTextNode(l);var A;if(!c.support.appendChecked)if(l[0]&&typeof(A=l.length)==="number")for(g=0;g<A;g++)Fa(l[g]);
else Fa(l);if(l.nodeType)f.push(l);else f=c.merge(f,l)}}if(d){a=function(B){return!B.type||Pb.test(B.type)};for(i=0;f[i];i++)if(e&&c.nodeName(f[i],"script")&&(!f[i].type||f[i].type.toLowerCase()==="text/javascript"))e.push(f[i].parentNode?f[i].parentNode.removeChild(f[i]):f[i]);else{if(f[i].nodeType===1){b=c.grep(f[i].getElementsByTagName("script"),a);f.splice.apply(f,[i+1,0].concat(b))}d.appendChild(f[i])}}return f},cleanData:function(a){for(var b,d,e=c.cache,f=c.expando,g=c.event.special,i=c.support.deleteExpando,
l=0,m;(m=a[l])!=null;l++)if(!(m.nodeName&&c.noData[m.nodeName.toLowerCase()]))if(d=m[c.expando]){if((b=e[d]&&e[d][f])&&b.events){for(var n in b.events)g[n]?c.event.remove(m,n):c.removeEvent(m,n,b.handle);if(b.handle)b.handle.elem=null}if(i)delete m[c.expando];else m.removeAttribute&&m.removeAttribute(c.expando);delete e[d]}}});var Za=/alpha\([^)]*\)/i,Qb=/opacity=([^)]*)/,Rb=/([A-Z]|^ms)/g,$a=/^-?\d+(?:px)?$/i,Sb=/^-?\d/,Tb=/^[+\-]=/,Ub=/[^+\-\.\de]+/g,Vb={position:"absolute",visibility:"hidden",
display:"block"},rb=["Left","Right"],sb=["Top","Bottom"],X,ab,bb;c.fn.css=function(a,b){if(arguments.length===2&&b===u)return this;return c.access(this,a,b,true,function(d,e,f){return f!==u?c.style(d,e,f):c.css(d,e)})};c.extend({cssHooks:{opacity:{get:function(a,b){if(b){a=X(a,"opacity","opacity");return a===""?"1":a}else return a.style.opacity}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":c.support.cssFloat?
"cssFloat":"styleFloat"},style:function(a,b,d,e){if(!(!a||a.nodeType===3||a.nodeType===8||!a.style)){var f,g=c.camelCase(b),i=a.style,l=c.cssHooks[g];b=c.cssProps[g]||g;if(d!==u){e=typeof d;if(!(e==="number"&&isNaN(d)||d==null)){if(e==="string"&&Tb.test(d)){d=+d.replace(Ub,"")+parseFloat(c.css(a,b));e="number"}if(e==="number"&&!c.cssNumber[g])d+="px";if(!l||!("set"in l)||(d=l.set(a,d))!==u)try{i[b]=d}catch(m){}}}else{if(l&&"get"in l&&(f=l.get(a,false,e))!==u)return f;return i[b]}}},css:function(a,
b,d){var e,f;b=c.camelCase(b);f=c.cssHooks[b];b=c.cssProps[b]||b;if(b==="cssFloat")b="float";if(f&&"get"in f&&(e=f.get(a,true,d))!==u)return e;else if(X)return X(a,b)},swap:function(a,b,d){var e={};for(var f in b){e[f]=a.style[f];a.style[f]=b[f]}d.call(a);for(f in b)a.style[f]=e[f]}});c.curCSS=c.css;c.each(["height","width"],function(a,b){c.cssHooks[b]={get:function(d,e,f){var g;if(e){if(d.offsetWidth!==0)return Ga(d,b,f);else c.swap(d,Vb,function(){g=Ga(d,b,f)});return g}},set:function(d,e){if($a.test(e)){e=
parseFloat(e);if(e>=0)return e+"px"}else return e}}});if(!c.support.opacity)c.cssHooks.opacity={get:function(a,b){return Qb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var d=a.style;a=a.currentStyle;d.zoom=1;b=c.isNaN(b)?"":"alpha(opacity="+b*100+")";a=a&&a.filter||d.filter||"";d.filter=Za.test(a)?a.replace(Za,b):a+" "+b}};c(function(){if(!c.support.reliableMarginRight)c.cssHooks.marginRight={get:function(a,b){var d;c.swap(a,
{display:"inline-block"},function(){d=b?X(a,"margin-right","marginRight"):a.style.marginRight});return d}}});if(w.defaultView&&w.defaultView.getComputedStyle)ab=function(a,b){var d,e;b=b.replace(Rb,"-$1").toLowerCase();if(!(e=a.ownerDocument.defaultView))return u;if(e=e.getComputedStyle(a,null)){d=e.getPropertyValue(b);if(d===""&&!c.contains(a.ownerDocument.documentElement,a))d=c.style(a,b)}return d};if(w.documentElement.currentStyle)bb=function(a,b){var d,e=a.currentStyle&&a.currentStyle[b],f=a.runtimeStyle&&
a.runtimeStyle[b],g=a.style;if(!$a.test(e)&&Sb.test(e)){d=g.left;if(f)a.runtimeStyle.left=a.currentStyle.left;g.left=b==="fontSize"?"1em":e||0;e=g.pixelLeft+"px";g.left=d;if(f)a.runtimeStyle.left=f}return e===""?"auto":e};X=ab||bb;if(c.expr&&c.expr.filters){c.expr.filters.hidden=function(a){var b=a.offsetHeight;return a.offsetWidth===0&&b===0||!c.support.reliableHiddenOffsets&&(a.style.display||c.css(a,"display"))==="none"};c.expr.filters.visible=function(a){return!c.expr.filters.hidden(a)}}var Wb=
/%20/g,tb=/\[\]$/,cb=/\r?\n/g,Xb=/#.*$/,Yb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Zb=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,$b=/^(?:GET|HEAD)$/,ac=/^\/\//,db=/\?/,bc=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,cc=/^(?:select|textarea)/i,Ia=/\s+/,dc=/([?&])_=[^&]*/,eb=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,fb=c.fn.load,la={},gb={},V,W;try{V=zb.href}catch(jc){V=w.createElement("a");V.href="";V=V.href}W=eb.exec(V.toLowerCase())||
[];c.fn.extend({load:function(a,b,d){if(typeof a!=="string"&&fb)return fb.apply(this,arguments);else if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var f=a.slice(e,a.length);a=a.slice(0,e)}e="GET";if(b)if(c.isFunction(b)){d=b;b=u}else if(typeof b==="object"){b=c.param(b,c.ajaxSettings.traditional);e="POST"}var g=this;c.ajax({url:a,type:e,dataType:"html",data:b,complete:function(i,l,m){m=i.responseText;if(i.isResolved()){i.done(function(n){m=n});g.html(f?c("<div>").append(m.replace(bc,"")).find(f):
m)}d&&g.each(d,[m,l,i])}});return this},serialize:function(){return c.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?c.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||cc.test(this.nodeName)||Zb.test(this.type))}).map(function(a,b){a=c(this).val();return a==null?null:c.isArray(a)?c.map(a,function(d){return{name:b.name,value:d.replace(cb,"\r\n")}}):{name:b.name,value:a.replace(cb,"\r\n")}}).get()}});
c.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){c.fn[b]=function(d){return this.bind(b,d)}});c.each(["get","post"],function(a,b){c[b]=function(d,e,f,g){if(c.isFunction(e)){g=g||f;f=e;e=u}return c.ajax({type:b,url:d,data:e,success:f,dataType:g})}});c.extend({getScript:function(a,b){return c.get(a,u,b,"script")},getJSON:function(a,b,d){return c.get(a,b,d,"json")},ajaxSetup:function(a,b){if(b)c.extend(true,a,c.ajaxSettings,b);else{b=a;a=c.extend(true,
c.ajaxSettings,b)}for(var d in{context:1,url:1})if(d in b)a[d]=b[d];else if(d in c.ajaxSettings)a[d]=c.ajaxSettings[d];return a},ajaxSettings:{url:V,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(W[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",
text:"responseText"},converters:{"* text":E.String,"text html":true,"text json":c.parseJSON,"text xml":c.parseXML}},ajaxPrefilter:Ha(la),ajaxTransport:Ha(gb),ajax:function(a,b){function d(p,q,s,y){if(I!==2){I=2;T&&clearTimeout(T);G=u;B=y||"";h.readyState=p?4:0;var v,D,M;s=s?ub(e,h,s):u;if(p>=200&&p<300||p===304){if(e.ifModified){if(y=h.getResponseHeader("Last-Modified"))c.lastModified[n]=y;if(y=h.getResponseHeader("Etag"))c.etag[n]=y}if(p===304){q="notmodified";v=true}else try{D=vb(e,s);q="success";
v=true}catch(L){q="parsererror";M=L}}else{M=q;if(!q||p){q="error";if(p<0)p=0}}h.status=p;h.statusText=q;v?i.resolveWith(f,[D,q,h]):i.rejectWith(f,[h,q,M]);h.statusCode(m);m=u;if(O)g.trigger("ajax"+(v?"Success":"Error"),[h,e,v?D:M]);l.resolveWith(f,[h,q]);if(O){g.trigger("ajaxComplete",[h,e]);--c.active||c.event.trigger("ajaxStop")}}}if(typeof a==="object"){b=a;a=u}b=b||{};var e=c.ajaxSetup({},b),f=e.context||e,g=f!==e&&(f.nodeType||f instanceof c)?c(f):c.event,i=c.Deferred(),l=c._Deferred(),m=e.statusCode||
{},n,r={},A={},B,C,G,T,I=0,O,Q,h={readyState:0,setRequestHeader:function(p,q){if(!I){var s=p.toLowerCase();p=A[s]=A[s]||p;r[p]=q}return this},getAllResponseHeaders:function(){return I===2?B:null},getResponseHeader:function(p){var q;if(I===2){if(!C)for(C={};q=Yb.exec(B);)C[q[1].toLowerCase()]=q[2];q=C[p.toLowerCase()]}return q===u?null:q},overrideMimeType:function(p){if(!I)e.mimeType=p;return this},abort:function(p){p=p||"abort";G&&G.abort(p);d(0,p);return this}};i.promise(h);h.success=h.done;h.error=
h.fail;h.complete=l.done;h.statusCode=function(p){if(p){var q;if(I<2)for(q in p)m[q]=[m[q],p[q]];else{q=p[h.status];h.then(q,q)}}return this};e.url=((a||e.url)+"").replace(Xb,"").replace(ac,W[1]+"//");e.dataTypes=c.trim(e.dataType||"*").toLowerCase().split(Ia);if(e.crossDomain==null){a=eb.exec(e.url.toLowerCase());e.crossDomain=!!(a&&(a[1]!=W[1]||a[2]!=W[2]||(a[3]||(a[1]==="http:"?80:443))!=(W[3]||(W[1]==="http:"?80:443))))}if(e.data&&e.processData&&typeof e.data!=="string")e.data=c.param(e.data,
e.traditional);fa(la,e,b,h);if(I===2)return false;O=e.global;e.type=e.type.toUpperCase();e.hasContent=!$b.test(e.type);O&&c.active++===0&&c.event.trigger("ajaxStart");if(!e.hasContent){if(e.data)e.url+=(db.test(e.url)?"&":"?")+e.data;n=e.url;if(e.cache===false){a=c.now();var k=e.url.replace(dc,"$1_="+a);e.url=k+(k===e.url?(db.test(e.url)?"&":"?")+"_="+a:"")}}if(e.data&&e.hasContent&&e.contentType!==false||b.contentType)h.setRequestHeader("Content-Type",e.contentType);if(e.ifModified){n=n||e.url;c.lastModified[n]&&
h.setRequestHeader("If-Modified-Since",c.lastModified[n]);c.etag[n]&&h.setRequestHeader("If-None-Match",c.etag[n])}h.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!=="*"?", */*; q=0.01":""):e.accepts["*"]);for(Q in e.headers)h.setRequestHeader(Q,e.headers[Q]);if(e.beforeSend&&(e.beforeSend.call(f,h,e)===false||I===2)){h.abort();return false}for(Q in{success:1,error:1,complete:1})h[Q](e[Q]);if(G=fa(gb,e,b,h)){h.readyState=1;O&&g.trigger("ajaxSend",
[h,e]);if(e.async&&e.timeout>0)T=setTimeout(function(){h.abort("timeout")},e.timeout);try{I=1;G.send(r,d)}catch(o){status<2?d(-1,o):c.error(o)}}else d(-1,"No Transport");return h},param:function(a,b){var d=[],e=function(g,i){i=c.isFunction(i)?i():i;d[d.length]=encodeURIComponent(g)+"="+encodeURIComponent(i)};if(b===u)b=c.ajaxSettings.traditional;if(c.isArray(a)||a.jquery&&!c.isPlainObject(a))c.each(a,function(){e(this.name,this.value)});else for(var f in a)ma(f,a[f],b,e);return d.join("&").replace(Wb,
"+")}});c.extend({active:0,lastModified:{},etag:{}});var ec=c.now(),ia=/(\=)\?(&|$)|\?\?/i;c.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return c.expando+"_"+ec++}});c.ajaxPrefilter("json jsonp",function(a,b,d){b=a.contentType==="application/x-www-form-urlencoded"&&typeof a.data==="string";if(a.dataTypes[0]==="jsonp"||a.jsonp!==false&&(ia.test(a.url)||b&&ia.test(a.data))){var e,f=a.jsonpCallback=c.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,g=E[f],i=a.url,l=a.data,m="$1"+
f+"$2";if(a.jsonp!==false){i=i.replace(ia,m);if(a.url===i){if(b)l=l.replace(ia,m);if(a.data===l)i+=(/\?/.test(i)?"&":"?")+a.jsonp+"="+f}}a.url=i;a.data=l;E[f]=function(n){e=[n]};d.always(function(){E[f]=g;e&&c.isFunction(g)&&E[f](e[0])});a.converters["script json"]=function(){e||c.error(f+" was not called");return e[0]};a.dataTypes[0]="json";return"script"}});c.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},
converters:{"text script":function(a){c.globalEval(a);return a}}});c.ajaxPrefilter("script",function(a){if(a.cache===u)a.cache=false;if(a.crossDomain){a.type="GET";a.global=false}});c.ajaxTransport("script",function(a){if(a.crossDomain){var b,d=w.head||w.getElementsByTagName("head")[0]||w.documentElement;return{send:function(e,f){b=w.createElement("script");b.async="async";if(a.scriptCharset)b.charset=a.scriptCharset;b.src=a.url;b.onload=b.onreadystatechange=function(g,i){if(i||!b.readyState||/loaded|complete/.test(b.readyState)){b.onload=
b.onreadystatechange=null;d&&b.parentNode&&d.removeChild(b);b=u;i||f(200,"success")}};d.insertBefore(b,d.firstChild)},abort:function(){b&&b.onload(0,1)}}}});var va=E.ActiveXObject?function(){for(var a in $)$[a](0,1)}:false,fc=0,$;c.ajaxSettings.xhr=E.ActiveXObject?function(){return!this.isLocal&&Ja()||wb()}:Ja;(function(a){c.extend(c.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(c.ajaxSettings.xhr());c.support.ajax&&c.ajaxTransport(function(a){if(!a.crossDomain||c.support.cors){var b;return{send:function(d,
e){var f=a.xhr(),g,i;a.username?f.open(a.type,a.url,a.async,a.username,a.password):f.open(a.type,a.url,a.async);if(a.xhrFields)for(i in a.xhrFields)f[i]=a.xhrFields[i];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType);if(!a.crossDomain&&!d["X-Requested-With"])d["X-Requested-With"]="XMLHttpRequest";try{for(i in d)f.setRequestHeader(i,d[i])}catch(l){}f.send(a.hasContent&&a.data||null);b=function(m,n){var r,A,B,C,G;try{if(b&&(n||f.readyState===4)){b=u;if(g){f.onreadystatechange=c.noop;va&&
delete $[g]}if(n)f.readyState!==4&&f.abort();else{r=f.status;B=f.getAllResponseHeaders();C={};if((G=f.responseXML)&&G.documentElement)C.xml=G;C.text=f.responseText;try{A=f.statusText}catch(T){A=""}if(!r&&a.isLocal&&!a.crossDomain)r=C.text?200:404;else if(r===1223)r=204}}}catch(I){n||e(-1,I)}C&&e(r,A,C,B)};if(!a.async||f.readyState===4)b();else{g=++fc;if(va){if(!$){$={};c(E).unload(va)}$[g]=b}f.onreadystatechange=b}},abort:function(){b&&b(0,1)}}}});var na={},R,Z,gc=/^(?:toggle|show|hide)$/,hc=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,
aa,La=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],ga,wa=E.webkitRequestAnimationFrame||E.mozRequestAnimationFrame||E.oRequestAnimationFrame;c.fn.extend({show:function(a,b,d){if(a||a===0)return this.animate(Y("show",3),a,b,d);else{d=0;for(var e=this.length;d<e;d++){a=this[d];if(a.style){b=a.style.display;if(!c._data(a,"olddisplay")&&b==="none")b=a.style.display="";b===""&&c.css(a,"display")==="none"&&
c._data(a,"olddisplay",Ma(a.nodeName))}}for(d=0;d<e;d++){a=this[d];if(a.style){b=a.style.display;if(b===""||b==="none")a.style.display=c._data(a,"olddisplay")||""}}return this}},hide:function(a,b,d){if(a||a===0)return this.animate(Y("hide",3),a,b,d);else{a=0;for(b=this.length;a<b;a++)if(this[a].style){d=c.css(this[a],"display");d!=="none"&&!c._data(this[a],"olddisplay")&&c._data(this[a],"olddisplay",d)}for(a=0;a<b;a++)if(this[a].style)this[a].style.display="none";return this}},_toggle:c.fn.toggle,
toggle:function(a,b,d){var e=typeof a==="boolean";if(c.isFunction(a)&&c.isFunction(b))this._toggle.apply(this,arguments);else a==null||e?this.each(function(){var f=e?a:c(this).is(":hidden");c(this)[f?"show":"hide"]()}):this.animate(Y("toggle",3),a,b,d);return this},fadeTo:function(a,b,d,e){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,d,e)},animate:function(a,b,d,e){var f=c.speed(b,d,e);if(c.isEmptyObject(a))return this.each(f.complete,[false]);a=c.extend({},a);
return this[f.queue===false?"each":"queue"](function(){f.queue===false&&c._mark(this);var g=c.extend({},f),i=this.nodeType===1,l=i&&c(this).is(":hidden"),m,n,r,A,B;g.animatedProperties={};for(r in a){m=c.camelCase(r);if(r!==m){a[m]=a[r];delete a[r]}n=a[m];if(c.isArray(n)){g.animatedProperties[m]=n[1];n=a[m]=n[0]}else g.animatedProperties[m]=g.specialEasing&&g.specialEasing[m]||g.easing||"swing";if(n==="hide"&&l||n==="show"&&!l)return g.complete.call(this);if(i&&(m==="height"||m==="width")){g.overflow=
[this.style.overflow,this.style.overflowX,this.style.overflowY];if(c.css(this,"display")==="inline"&&c.css(this,"float")==="none")if(c.support.inlineBlockNeedsLayout){n=Ma(this.nodeName);if(n==="inline")this.style.display="inline-block";else{this.style.display="inline";this.style.zoom=1}}else this.style.display="inline-block"}}if(g.overflow!=null)this.style.overflow="hidden";for(r in a){i=new c.fx(this,g,r);n=a[r];if(gc.test(n))i[n==="toggle"?l?"show":"hide":n]();else{m=hc.exec(n);A=i.cur();if(m){n=
parseFloat(m[2]);B=m[3]||(c.cssNumber[r]?"":"px");if(B!=="px"){c.style(this,r,(n||1)+B);A=(n||1)/i.cur()*A;c.style(this,r,A+B)}if(m[1])n=(m[1]==="-="?-1:1)*n+A;i.custom(A,n,B)}else i.custom(A,n,"")}}return true})},stop:function(a,b){a&&this.queue([]);this.each(function(){var d=c.timers,e=d.length;for(b||c._unmark(true,this);e--;)if(d[e].elem===this){b&&d[e](true);d.splice(e,1)}});b||this.dequeue();return this}});c.each({slideDown:Y("show",1),slideUp:Y("hide",1),slideToggle:Y("toggle",1),fadeIn:{opacity:"show"},
fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){c.fn[a]=function(d,e,f){return this.animate(b,d,e,f)}});c.extend({speed:function(a,b,d){var e=a&&typeof a==="object"?c.extend({},a):{complete:d||!d&&b||c.isFunction(a)&&a,duration:a,easing:d&&b||b&&!c.isFunction(b)&&b};e.duration=c.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in c.fx.speeds?c.fx.speeds[e.duration]:c.fx.speeds._default;e.old=e.complete;e.complete=function(f){c.isFunction(e.old)&&e.old.call(this);if(e.queue!==
false)c.dequeue(this);else f!==false&&c._unmark(this)};return e},easing:{linear:function(a,b,d,e){return d+e*a},swing:function(a,b,d,e){return(-Math.cos(a*Math.PI)/2+0.5)*e+d}},timers:[],fx:function(a,b,d){this.options=b;this.elem=a;this.prop=d;b.orig=b.orig||{}}});c.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(c.fx.step[this.prop]||c.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==
null))return this.elem[this.prop];var a,b=c.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,b,d){function e(l){return f.step(l)}var f=this,g=c.fx,i;this.startTime=ga||Ka();this.start=a;this.end=b;this.unit=d||this.unit||(c.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;e.elem=this.elem;if(e()&&c.timers.push(e)&&!aa)if(wa){aa=true;i=function(){if(aa){wa(i);g.tick()}};wa(i)}else aa=setInterval(g.tick,g.interval)},show:function(){this.options.orig[this.prop]=
c.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());c(this.elem).show()},hide:function(){this.options.orig[this.prop]=c.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(a){var b=ga||Ka(),d=true,e=this.elem,f=this.options,g;if(a||b>=f.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();f.animatedProperties[this.prop]=true;for(g in f.animatedProperties)if(f.animatedProperties[g]!==
true)d=false;if(d){f.overflow!=null&&!c.support.shrinkWrapBlocks&&c.each(["","X","Y"],function(l,m){e.style["overflow"+m]=f.overflow[l]});f.hide&&c(e).hide();if(f.hide||f.show)for(var i in f.animatedProperties)c.style(e,i,f.orig[i]);f.complete.call(e)}return false}else{if(f.duration==Infinity)this.now=b;else{a=b-this.startTime;this.state=a/f.duration;this.pos=c.easing[f.animatedProperties[this.prop]](this.state,a,0,1,f.duration);this.now=this.start+(this.end-this.start)*this.pos}this.update()}return true}};
c.extend(c.fx,{tick:function(){for(var a=c.timers,b=0;b<a.length;++b)a[b]()||a.splice(b--,1);a.length||c.fx.stop()},interval:13,stop:function(){clearInterval(aa);aa=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){c.style(a.elem,"opacity",a.now)},_default:function(a){if(a.elem.style&&a.elem.style[a.prop]!=null)a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):a.now)+a.unit;else a.elem[a.prop]=a.now}}});if(c.expr&&c.expr.filters)c.expr.filters.animated=
function(a){return c.grep(c.timers,function(b){return a===b.elem}).length};var ic=/^t(?:able|d|h)$/i,hb=/^(?:body|html)$/i;c.fn.offset="getBoundingClientRect"in w.documentElement?function(a){var b=this[0],d;if(a)return this.each(function(i){c.offset.setOffset(this,a,i)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);try{d=b.getBoundingClientRect()}catch(e){}var f=b.ownerDocument,g=f.documentElement;if(!d||!c.contains(g,b))return d?{top:d.top,left:d.left}:
{top:0,left:0};b=f.body;f=oa(f);return{top:d.top+(f.pageYOffset||c.support.boxModel&&g.scrollTop||b.scrollTop)-(g.clientTop||b.clientTop||0),left:d.left+(f.pageXOffset||c.support.boxModel&&g.scrollLeft||b.scrollLeft)-(g.clientLeft||b.clientLeft||0)}}:function(a){var b=this[0];if(a)return this.each(function(r){c.offset.setOffset(this,a,r)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return c.offset.bodyOffset(b);c.offset.initialize();var d,e=b.offsetParent,f=b,g=b.ownerDocument,
i=g.documentElement,l=g.body;d=(g=g.defaultView)?g.getComputedStyle(b,null):b.currentStyle;for(var m=b.offsetTop,n=b.offsetLeft;(b=b.parentNode)&&b!==l&&b!==i;){if(c.offset.supportsFixedPosition&&d.position==="fixed")break;d=g?g.getComputedStyle(b,null):b.currentStyle;m-=b.scrollTop;n-=b.scrollLeft;if(b===e){m+=b.offsetTop;n+=b.offsetLeft;if(c.offset.doesNotAddBorder&&!(c.offset.doesAddBorderForTableAndCells&&ic.test(b.nodeName))){m+=parseFloat(d.borderTopWidth)||0;n+=parseFloat(d.borderLeftWidth)||
0}f=e;e=b.offsetParent}if(c.offset.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"){m+=parseFloat(d.borderTopWidth)||0;n+=parseFloat(d.borderLeftWidth)||0}d=d}if(d.position==="relative"||d.position==="static"){m+=l.offsetTop;n+=l.offsetLeft}if(c.offset.supportsFixedPosition&&d.position==="fixed"){m+=Math.max(i.scrollTop,l.scrollTop);n+=Math.max(i.scrollLeft,l.scrollLeft)}return{top:m,left:n}};c.offset={initialize:function(){var a=w.body,b=w.createElement("div"),d,e,f,g=parseFloat(c.css(a,
"marginTop"))||0;c.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});b.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.insertBefore(b,a.firstChild);d=b.firstChild;e=d.firstChild;f=
d.nextSibling.firstChild.firstChild;this.doesNotAddBorder=e.offsetTop!==5;this.doesAddBorderForTableAndCells=f.offsetTop===5;e.style.position="fixed";e.style.top="20px";this.supportsFixedPosition=e.offsetTop===20||e.offsetTop===15;e.style.position=e.style.top="";d.style.overflow="hidden";d.style.position="relative";this.subtractsBorderForOverflowNotVisible=e.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==g;a.removeChild(b);c.offset.initialize=c.noop},bodyOffset:function(a){var b=
a.offsetTop,d=a.offsetLeft;c.offset.initialize();if(c.offset.doesNotIncludeMarginInBodyOffset){b+=parseFloat(c.css(a,"marginTop"))||0;d+=parseFloat(c.css(a,"marginLeft"))||0}return{top:b,left:d}},setOffset:function(a,b,d){var e=c.css(a,"position");if(e==="static")a.style.position="relative";var f=c(a),g=f.offset(),i=c.css(a,"top"),l=c.css(a,"left"),m={},n={};if((e==="absolute"||e==="fixed")&&c.inArray("auto",[i,l])>-1){n=f.position();e=n.top;l=n.left}else{e=parseFloat(i)||0;l=parseFloat(l)||0}if(c.isFunction(b))b=
b.call(a,d,g);if(b.top!=null)m.top=b.top-g.top+e;if(b.left!=null)m.left=b.left-g.left+l;"using"in b?b.using.call(a,m):f.css(m)}};c.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),d=this.offset(),e=hb.test(b[0].nodeName)?{top:0,left:0}:b.offset();d.top-=parseFloat(c.css(a,"marginTop"))||0;d.left-=parseFloat(c.css(a,"marginLeft"))||0;e.top+=parseFloat(c.css(b[0],"borderTopWidth"))||0;e.left+=parseFloat(c.css(b[0],"borderLeftWidth"))||0;return{top:d.top-e.top,
left:d.left-e.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||w.body;a&&!hb.test(a.nodeName)&&c.css(a,"position")==="static";)a=a.offsetParent;return a})}});c.each(["Left","Top"],function(a,b){var d="scroll"+b;c.fn[d]=function(e){var f,g;if(e===u){f=this[0];if(!f)return null;return(g=oa(f))?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:c.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:f[d]}return this.each(function(){if(g=oa(this))g.scrollTo(!a?
e:c(g).scrollLeft(),a?e:c(g).scrollTop());else this[d]=e})}});c.each(["Height","Width"],function(a,b){var d=b.toLowerCase();c.fn["inner"+b]=function(){var e=this[0];return e&&e.style?parseFloat(c.css(e,d,"padding")):null};c.fn["outer"+b]=function(e){var f=this[0];return f&&f.style?parseFloat(c.css(f,d,e?"margin":"border")):null};c.fn[d]=function(e){var f=this[0];if(!f)return e==null?null:this;if(c.isFunction(e))return this.each(function(i){var l=c(this);l[d](e.call(this,i,l[d]()))});if(c.isWindow(f)){var g=
f.document.documentElement["client"+b];return f.document.compatMode==="CSS1Compat"&&g||f.document.body["client"+b]||g}else if(f.nodeType===9)return Math.max(f.documentElement["client"+b],f.body["scroll"+b],f.documentElement["scroll"+b],f.body["offset"+b],f.documentElement["offset"+b]);else if(e===u){f=c.css(f,d);g=parseFloat(f);return c.isNaN(g)?f:g}else return this.css(d,typeof e==="string"?e:e+"px")}});E.jQuery=E.$=c})(window);
;
steal.end();
steal.plugins("jquery/controller","editor/menubar","editor/resourcebrowser","editor/pageheadeditor","editor/composer").models("../../models/runtime","../../models/page").then(function(b){b.Controller("Editor.App",{defaults:{mode:0,language:"de"}},{init:function(){if(this._checkRequirements()){Runtime.findOne({},this.callback("_setRuntime"));this._loadCurrentLanguage();this._loadValidateLanguage();Page.findOne({path:window.currentPagePath},this.callback("_initViews"))}},update:function(a){if(a!==undefined)this.options.mode=
a.mode;this.menuBar.editor_menubar({mode:this.options.mode});switch(this.options.mode){case 0:this.pagesTab.hide();this.mediaTab.hide();break;case 1:this.pagesTab.show();this.mediaTab.hide();break;case 2:this.mediaTab.show();this.pagesTab.hide();break}},_checkRequirements:function(){var a=true;if(!this._supportsLocalStorage()){alert("Your browser does not support HTML5! Update your browser to the latest version.");a=false}if(!navigator.cookieEnabled){alert("Your browser has disabled cookies! Enable your browser cookies.");
a=false}return a},_initViews:function(a){a.isWorkVersion()&&this._initComposer(a);this.menuBar=this.find("#wbl-menubar").editor_menubar({page:a,runtime:this.runtime,language:this.options.language});this.pagesTab=this.find("#wbl-pagebrowser");this.mediaTab=this.find("#wbl-mediabrowser");this.update()},_initComposer:function(a){b(".composer:not(.locked)").editor_composer({page:a,language:this.options.language,runtime:this.runtime})},_setRuntime:function(a){this.runtime=a;this.options.language=this.runtime.getDefaultLanguage()},
_loadCurrentLanguage:function(){var a=window.currentLanguage;if(a=="")a=localStorage["weblounge.editor."+this.runtime.getId()+".language"];if(a)this.options.language=a;localStorage["weblounge.editor."+this.runtime.getId()+".language"]=this.options.language},_loadValidateLanguage:function(){this.options.language!=="en"&&b.getScript(this.runtime.getRootPath()+"/editor/resources/localization/messages_"+this.options.language+".js")},_supportsLocalStorage:function(){try{return"localStorage"in window&&
window.localStorage!==null}catch(a){return false}},"a showDesigner":function(){this.update({mode:0})},"a openDesigner":function(a){var c=localStorage["weblounge.editor."+this.runtime.getId()+".language"];location.href=c?a.attr("href")+c+"?edit&_="+(new Date).getTime():a.attr("href")+"?edit&_="+(new Date).getTime()},"a showPages":function(){if(this.options.mode==1)this.pagesTab.editor_resourcebrowser(true);else{this.update({mode:1});this.pagesTab.editor_resourcebrowser({resourceType:"pages",language:this.options.language,
runtime:this.runtime})}},"a showMedia":function(){if(this.options.mode==2)this.mediaTab.editor_resourcebrowser(true);else{this.update({mode:2});this.mediaTab.editor_resourcebrowser({resourceType:"media",language:this.options.language,runtime:this.runtime})}},"div#wbl-mainContainer updateLastMedia":function(){this.mediaTab.editor_resourcebrowser("_updateLast")},"span changeLanguage":function(a,c,d){localStorage["weblounge.editor."+this.runtime.getId()+".language"]=d;location.href=window.currentPagePath+
d+"?edit&_="+(new Date).getTime()}})});
;
steal.end();
steal.plugins("jquery/class","jquery/lang","jquery/event/destroyed").then(function(e){var u=function(a,b,c){var d,f=a.bind&&a.unbind?a:e(j(a)?[a]:a);if(b.indexOf(">")===0){b=b.substr(1);d=function(g){g.target===a&&c.apply(this,arguments)}}f.bind(b,d||c);return function(){f.unbind(b,d||c);a=b=c=d=null}},p=e.makeArray,v=e.isArray,j=e.isFunction,k=e.extend,q=e.String,w=function(a,b,c,d){e(a).delegate(b,c,d);return function(){e(a).undelegate(b,c,d);a=c=d=b=null}},r=function(a,b,c,d){return d?w(a,d,b,
c):u(a,b,c)},l=function(a){return function(){return a.apply(null,[this.nodeName?e(this):this].concat(Array.prototype.slice.call(arguments,0)))}},x=/\./g,y=/_?controllers?/ig,s=function(a){return q.underscore(a.replace("jQuery.","").replace(x,"_").replace(y,""))},z=/[^\w]/,t=/\{([^\}]+)\}/g,A=/^(?:(.*?)\s)?([\w\.\:>]+)$/,m,n=function(a,b){return e.data(a,"controllers",b)};e.Class("jQuery.Controller",{init:function(){if(!(!this.shortName||this.fullName=="jQuery.Controller")){this._fullName=s(this.fullName);
this._shortName=s(this.shortName);var a=this,b=this.pluginName||this._fullName,c;e.fn[b]||(e.fn[b]=function(d){var f=p(arguments),g=typeof d=="string"&&j(a.prototype[d]),B=f[0];return this.each(function(){var h=n(this);if(h=h&&h[b])g?h[B].apply(h,f.slice(1)):h.update.apply(h,f);else a.newInstance.apply(a,[this].concat(f))})});this.actions={};for(c in this.prototype)if(!(c=="constructor"||!j(this.prototype[c])))if(this._isAction(c))this.actions[c]=this._action(c);this.onDocument&&new a(document.documentElement)}},
hookup:function(a){return new this(a)},_isAction:function(a){return z.test(a)?true:e.inArray(a,this.listensTo)>-1||e.event.special[a]||o[a]},_action:function(a,b){t.lastIndex=0;if(!b&&t.test(a))return null;a=b?q.sub(a,[b,window]):a;b=v(a);var c=(b?a[1]:a).match(A);return{processor:o[c[2]]||m,parts:c,delegate:b?a[0]:undefined}},processors:{},listensTo:[],defaults:{}},{setup:function(a,b){var c,d=this.Class;a=a.jquery?a[0]:a;this.element=e(a).addClass(d._fullName);(n(a)||n(a,{}))[d._fullName]=this;
this._bindings=[];this.options=k(k(true,{},d.defaults),b);for(c in d.actions)if(d.actions.hasOwnProperty(c)){b=d.actions[c]||d._action(c,this.options);this._bindings.push(b.processor(b.delegate||a,b.parts[2],b.parts[1],this.callback(c),this))}this.called="init";var f=l(this.callback("destroy"));this.element.bind("destroyed",f);this._bindings.push(function(){e(a).unbind("destroyed",f)});return this.element},bind:function(a,b,c){if(typeof a=="string"){c=b;b=a;a=this.element}return this._binder(a,b,
c)},_binder:function(a,b,c,d){if(typeof c=="string")c=l(this.callback(c));this._bindings.push(r(a,b,c,d));return this._bindings.length},delegate:function(a,b,c,d){if(typeof a=="string"){d=c;c=b;b=a;a=this.element}return this._binder(a,c,d,b)},update:function(a){k(this.options,a)},destroy:function(){if(this._destroyed)throw this.Class.shortName+" controller instance has been deleted";var a=this,b=this.Class._fullName;this._destroyed=true;this.element.removeClass(b);e.each(this._bindings,function(c,
d){d(a.element[0])});delete this._actions;delete this.element.data("controllers")[b];e(this).triggerHandler("destroyed");this.element=null},find:function(a){return this.element.find(a)},_set_called:true});var o=e.Controller.processors;m=function(a,b,c,d,f){var g=f.Class;if(g.onDocument&&!/^Main(Controller)?$/.test(g.shortName)&&a===f.element[0])c=c?"#"+g._shortName+" "+c:"#"+g._shortName;return r(a,b,l(d),c)};e.each("change click contextmenu dblclick keydown keyup keypress mousedown mousemove mouseout mouseover mouseup reset resize scroll select submit focusin focusout mouseenter mouseleave".split(" "),
function(a,b){o[b]=m});var i,C=function(a,b){for(i=0;i<b.length;i++)if(typeof b[i]=="string"?a.Class._shortName==b[i]:a instanceof b[i])return true;return false};e.fn.controllers=function(){var a=p(arguments),b=[],c,d,f;this.each(function(){c=e.data(this,"controllers");for(f in c)if(c.hasOwnProperty(f)){d=c[f];if(!a.length||C(d,a))b.push(d)}});return b};e.fn.controller=function(){return this.controllers.apply(this,arguments)[0]}});
;
steal.end();
steal.plugins("jquery","jquery/lang").then(function(i){var k=false,p=i.makeArray,q=i.isFunction,m=i.isArray,n=i.extend,r=function(a,c){return a.concat(p(c))},t=/xyz/.test(function(){})?/\b_super\b/:/.*/,s=function(a,c,d){d=d||a;for(var b in a)d[b]=q(a[b])&&q(c[b])&&t.test(a[b])?function(g,h){return function(){var f=this._super,e;this._super=c[g];e=h.apply(this,arguments);this._super=f;return e}}(b,a[b]):a[b]},j=i.Class=function(){arguments.length&&j.extend.apply(j,arguments)};n(j,{callback:function(a){var c=
p(arguments),d;a=c.shift();m(a)||(a=[a]);d=this;return function(){for(var b=r(c,arguments),g,h=a.length,f=0,e;f<h;f++)if(e=a[f]){if((g=typeof e=="string")&&d._set_called)d.called=e;b=(g?d[e]:e).apply(d,b||[]);if(f<h-1)b=!m(b)||b._use_call?[b]:b}return b}},getObject:i.String.getObject,newInstance:function(){var a=this.rawInstance(),c;if(a.setup)c=a.setup.apply(a,arguments);if(a.init)a.init.apply(a,m(c)?c:arguments);return a},setup:function(a){this.defaults=n(true,{},a.defaults,this.defaults);return arguments},
rawInstance:function(){k=true;var a=new this;k=false;return a},extend:function(a,c,d){function b(){if(!k)return this.constructor!==b&&arguments.length?arguments.callee.extend.apply(arguments.callee,arguments):this.Class.newInstance.apply(this.Class,arguments)}if(typeof a!="string"){d=c;c=a;a=null}if(!d){d=c;c=null}d=d||{};var g=this,h=this.prototype,f,e,l,o;k=true;o=new this;k=false;s(d,h,o);for(f in this)if(this.hasOwnProperty(f))b[f]=this[f];s(c,this,b);if(a){l=a.split(/\./);e=l.pop();l=h=j.getObject(l.join("."),
window,true);h[e]=b}n(b,{prototype:o,namespace:l,shortName:e,constructor:b,fullName:a});b.prototype.Class=b.prototype.constructor=b;g=b.setup.apply(b,r([g],arguments));if(b.init)b.init.apply(b,g||[]);return b}});j.prototype.callback=j.callback})();
;
steal.end();
steal.plugins("jquery").then(function(j){var g={undHash:/_|-/,colons:/::/,words:/([A-Z]+)([A-Z][a-z])/g,lowUp:/([a-z\d])([A-Z])/g,dash:/([a-z\d])([A-Z])/g,replacer:/\{([^\}]+)\}/g,dot:/\./},l=function(a,c,b){return a[c]||b&&(a[c]={})},m=function(a){return(a=typeof a)&&(a=="function"||a=="object")},n=function(a,c,b){a=a?a.split(g.dot):[];var f=a.length;c=j.isArray(c)?c:[c||window];var d,e,h,o=0;if(f==0)return c[0];for(;d=c[o++];){for(h=0;h<f-1&&m(d);h++)d=l(d,a[h],b);if(m(d)){e=l(d,a[h],b);if(e!==
undefined){b===false&&delete d[a[h]];return e}}}},k=j.String=j.extend(j.String||{},{getObject:n,capitalize:function(a){return a.charAt(0).toUpperCase()+a.substr(1)},camelize:function(a){a=k.classize(a);return a.charAt(0).toLowerCase()+a.substr(1)},classize:function(a,c){a=a.split(g.undHash);for(var b=0;b<a.length;b++)a[b]=k.capitalize(a[b]);return a.join(c||"")},niceName:function(){k.classize(parts[i]," ")},underscore:function(a){return a.replace(g.colons,"/").replace(g.words,"$1_$2").replace(g.lowUp,
"$1_$2").replace(g.dash,"_").toLowerCase()},sub:function(a,c,b){var f=[];f.push(a.replace(g.replacer,function(d,e){d=n(e,c,typeof b=="boolean"?!b:b);e=typeof d;if((e==="object"||e==="function")&&e!==null){f.push(d);return""}else return""+d}));return f.length<=1?f[0]:f}})});
;
steal.end();
steal.plugins("jquery/event").then(function(a){var e=jQuery.cleanData;a.cleanData=function(b){for(var c=0,d;(d=b[c])!==undefined;c++)a(d).triggerHandler("destroyed");e(b)}});
;
steal.end();
steal.plugins("jquery");
;
steal.end();
steal.plugins("jquery/controller","jquery/controller/view","jquery/view","jquery/view/tmpl","editor/pagecreator","editor/pageletcreator","editor/pageheadeditor","jqueryui/dialog","jqueryui/datepicker","jqueryui/draggable","jqueryui/droppable","jqueryui/resizable","jqueryui/mouse","jqueryui/button").views("//editor/menubar/views/menubar.tmpl").css("menubar").then(function(a){a.Controller("Editor.Menubar",{defaults:{mode:1,site:{},language:{}}},{init:function(b){a(b).html("//editor/menubar/views/menubar.tmpl",
{runtime:this.options.runtime,current:this.options.language});this._updateView();this._initDialogs();a("#wbl-pageletcreator").editor_pageletcreator({language:this.options.language,runtime:this.options.runtime});this._initPageLocking()},update:function(b){if(b!==undefined)this.options.mode=b.mode;this._updateView()},_updateView:function(){switch(this.options.mode){case 0:this._toggleTab(this.find(".wbl-tab.wbl-designer"));a(document.body).css("overflow","visible");if(!this.disabled){this.find("img.wbl-add").show();
this.find("img.wbl-more").show();this.find("img.wbl-pageSettings").show()}this.find("span.wbl-editmode").show();this.find("span.wbl-language").show();this.find("div#wbl-pageOptions").show();break;case 1:this._toggleTab(this.find(".wbl-tab.wbl-pages"));a(document.body).css("overflow","hidden");this.find("img.wbl-add").hide();this.find("img.wbl-more").hide();this.find("img.wbl-pageSettings").hide();this.find("span.wbl-language").hide();this.find("span.wbl-editmode").hide();this.find("div#wbl-pageOptions").hide();
window.scrollTo(0,0);break;case 2:this._toggleTab(this.find(".wbl-tab.wbl-media"));a(document.body).css("overflow","hidden");this.find("img.wbl-pageSettings").hide();this.find("img.wbl-add").hide();this.find("img.wbl-more").hide();this.find("span.wbl-language").hide();this.find("span.wbl-editmode").hide();this.find("div#wbl-pageOptions").hide();window.scrollTo(0,0);break}},_initDialogs:function(){this.userDialog=a("<div></div>").load(this.options.runtime.getRootPath()+"/editor/menubar/views/user-dialog.html").dialog({modal:true,
title:"Einstellungen",autoOpen:false,resizable:true,buttons:{Abbrechen:function(){a(this).dialog("close")},OK:a.proxy(function(){this.userDialog.dialog("close")},this)},open:function(){a(document.body).css("overflow","hidden")},beforeClose:function(){a(document.body).css("overflow","visible")}});this.publishDialog=a("<div></div>").load(this.options.runtime.getRootPath()+"/editor/menubar/views/publish-dialog.html").dialog({modal:true,title:"Seite publizieren",autoOpen:false,resizable:false,buttons:{Nein:function(){a(this).dialog("close")},
Ja:a.proxy(function(){this.options.page.publish(a.proxy(function(){},this),function(b,c,e){b.status==412?alert("Publish aborted: Page has invalid references!"):alert("Publish error: "+e)});this.publishDialog.dialog("close")},this)},open:function(){a(document.body).css("overflow","hidden")},beforeClose:function(){a(document.body).css("overflow","visible")}})},_initPageLocking:function(){var b=this.options.page.isLocked(),c=this.options.page.isLockedUser(this.options.runtime.getUserLogin()),e=this.options.runtime.isSystemAdmin(),
d=a("input#wbl-editmode",this.element);if(b&&!c){d.val(["editmode"]);d.attr("disabled","disabled");a("span.wbl-editmodeText",this.element).html("Locked by "+this.options.page.getLockOwner());this._disableEditing()}else if(b&&c){d.removeAttr("disabled");d.val(["editmode"]);this._enableEditing();a("#wbl-pageletcreator").editor_pageletcreator()}else{d.removeAttr("disabled");d.val([]);this._disableEditing()}if(d.is(":disabled")&&e){d.removeAttr("disabled");d.val([])}},_delete_cookie:function(b){a.cookie(b,
null,{path:"/"})},_editorSelectionMode:function(b,c,e,d,g){this.editor=b.parent().hide();a(document).unbind(".dialog-overlay");this.editorOverlay=a("body > div.ui-widget-overlay").hide();this.element.find("a.wbl-designer").hide();this.element.find("span.wbl-language").hide();this.element.find("span.wbl-right").hide();this.element.find("img.wbl-pageSettings").hide();this.element.find("button.wbl-editorSelectionCancel, button.wbl-editorSelectionOK").button().show();this.element.find("button.wbl-editorSelectionOK").button("option",
"disabled",true);this.fromTab=this.element.find("a.wbl-tab.wbl-active");var f;if(c=="pages"){this.element.find("a.wbl-media").hide();this.element.find("a.wbl-pages").click();f=this.element.parent().find("#wbl-pagebrowser").editor_resourcebrowser("_enableEditorSelectionMode",e,g)}else if(c=="media"){this.element.find("a.wbl-pages").hide();this.element.find("a.wbl-media").click();f=this.element.parent().find("#wbl-mediabrowser").editor_resourcebrowser("_enableEditorSelectionMode",e,g)}else if(c=="file"||
c=="image"||c=="movie"){this.element.find("a.wbl-pages").hide();this.element.find("a.wbl-media").click();f=this.element.parent().find("#wbl-mediabrowser").editor_resourcebrowser("_enableEditorSelectionMode",e,g,c)}this.element.find("button.wbl-editorSelectionCancel").click(a.proxy(function(){f.editor_resourcebrowser("_disableEditorSelectionMode");this._normalMode();d(null)},this));this.element.find("button.wbl-editorSelectionOK").click(a.proxy(function(){f.editor_resourcebrowser("_getSelection",function(h){d(h)});
f.editor_resourcebrowser("_disableEditorSelectionMode");this._normalMode()},this))},_normalMode:function(){this.editor.show();this.editorOverlay.show();this.element.find("button.wbl-editorSelectionOK").unbind();this.element.find("button.wbl-editorSelectionCancel").unbind();this.element.find("button.wbl-editorSelectionCancel, button.wbl-editorSelectionOK").hide();this.element.find("a.wbl-designer").show();this.element.find("a.wbl-pages").show();this.element.find("a.wbl-media").show();this.element.find("span.wbl-language").show();
this.element.find("span.wbl-right").show();this.element.find("img.wbl-pageSettings").show();this.fromTab.click();a(document.body).css("overflow","hidden")},_enableEditing:function(){this.disabled=false;if(this.options.page.isWorkVersion()){a(".composer:not(.locked)").editor_composer("enable");a(".composer:not(.locked)").editor_composer("hideGhostComposer")}a("#wbl-pageletcreator").editor_pageletcreator("enable");this.element.find("img.wbl-pageSettings").show()},_disableEditing:function(){this.disabled=
true;if(this.options.page.isWorkVersion()){a(".composer:not(.locked)").editor_composer("disable");a(".composer:not(.locked)").editor_composer("handleGhostComposer")}else a(".composer").each(function(b,c){a(c).find("div.pagelet").lengt>0&&a("div.#"+a(c).attr("id")+"-ghost").hide()});a("#wbl-pageletcreator").editor_pageletcreator("disable");this.element.find("img.wbl-pageSettings").hide()},_toggleTab:function(b){this.element.find(".wbl-tab.wbl-active").removeClass("wbl-active");b.addClass("wbl-active")},
".wbl-tab click":function(b){this._toggleTab(b)},".wbl-tab.wbl-designer click":function(b){b.trigger("showDesigner")},".wbl-tab.wbl-pages click":function(b){b.trigger("showPages")},".wbl-tab.wbl-media click":function(b){b.trigger("showMedia")},"li.wbl-settings click":function(){a(".wbl-menu").hide();this.userDialog.dialog("open")},"li.wbl-publish click":function(){a(".wbl-menu").hide();this.publishDialog.dialog("open")},"img.wbl-pageSettings click":function(){a(".wbl-menu").hide();a("#wbl-pageheadeditor").editor_pageheadeditor({page:this.options.page,
language:this.options.language,runtime:this.options.runtime,success:a.proxy(function(){location.href=this.options.page.getPath()+this.options.language+"?edit&_="+(new Date).getTime()},this)})},"li.wbl-news click":function(){},"img.wbl-logout click":function(){this._delete_cookie("weblounge.editor");var b=this.options.runtime.security?"/system/weblounge/logout?path=":"";a.ajax("/system/weblounge/pages/"+this.options.page.value.id+"?version=0",{success:function(){location.href=b+location.pathname+"?_="+
(new Date).getTime()},error:function(){location.href=b+"/?_="+(new Date).getTime()}})},"li.wbl-newPage click":function(){a(".wbl-menu").hide();a("#wbl-pagecreator").editor_pagecreator({language:this.options.language,runtime:this.options.runtime})},"li.wbl-newUpload click":function(){a(".wbl-menu").hide();a("#wbl-massuploader").editor_massuploader({language:this.options.language,runtime:this.options.runtime})},"li.wbl-newNote click":function(){},"li.wbl-newPagelet click":function(){a(".wbl-menu").hide();
a("#wbl-pageletcreator").editor_pageletcreator()},"span.wbl-languageMenu img click":function(b){b.trigger("changeLanguage",b.attr("title"))},"img.wbl-add click":function(){a(".wbl-menu").hide();a("#wbl-pageletcreator").editor_pageletcreator()},"span.wbl-language click":function(){a(".wbl-menu").hide();a("span.wbl-languageMenu").show().hover(function(){},function(){a(this).hide()})},"img.wbl-more click":function(){a(".wbl-menu").hide();a("div#wbl-moreMenu").show().hover(function(){},function(){a(this).hide()})},
"span.wbl-profileMenu click":function(){},"div#wbl-pageOptions click":function(b){b.toggle(function(){a(this).animate({right:"0"},"slow")},function(){a(this).animate({right:"-200px"},"slow")})},"input focus":function(){},"input blur":function(){a("div#wbl-searchResult").hide()},"div.wbl-searchResult p.wbl-footer click":function(){a("div.wbl-searchResult").hide()},"input#wbl-editmode click":function(b,c){c.preventDefault();b.attr("disabled","disabled");if(b.is(":checked")){var e=this.options.page.isWorkVersion();
this.options.page.lock(this.options.runtime.getUserLogin(),a.proxy(function(){a("input#wbl-editmode",this.element).val(["editmode"]);a("span.wbl-editmodeText",this.element).html("Editiermodus");e||a("#weblounge-editor").editor_app("_initComposer",this.options.page);this._enableEditing();a("#wbl-pageletcreator").editor_pageletcreator();b.removeAttr("disabled")},this),a.proxy(function(){a("input#wbl-editmode",this.element).val([]);alert("Locking failed!");b.removeAttr("disabled")},this))}else this.options.page.unlock(a.proxy(function(){a("input#wbl-editmode",
this.element).val([]);this._disableEditing();this.publishDialog.dialog("open");b.removeAttr("disabled")},this))}})});
;
steal.end();
steal.plugins("jquery/controller","jquery/view").then(function(){jQuery.Controller.getFolder=function(){return jQuery.String.underscore(this.fullName.replace(/\./g,"/")).replace("/Controllers","")};var g=function(a,b,c){var d=a.fullName.replace(/\./g,"/"),e=d.indexOf("/Controllers/"+a.shortName)!=-1;d=jQuery.String.underscore(d.replace("/Controllers/"+a.shortName,""));a=a._shortName;var f=typeof b=="string"&&b.match(/\.[\w\d]+$/)||jQuery.View.ext;if(typeof b=="string"){if(b.substr(0,2)!="//")b="//"+
(new steal.File("views/"+(b.indexOf("/")!==-1?b:(e?a+"/":"")+b))).joinFrom(d)+f}else b||(b="//"+(new steal.File("views/"+(e?a+"/":"")+c.replace(/\.|#/g,"").replace(/ /g,"_"))).joinFrom(d)+f);return b},h=function(a){var b={};if(a)if(jQuery.isArray(a))for(var c=0;c<a.length;c++)jQuery.extend(b,a[c]);else jQuery.extend(b,a);else{if(this._default_helpers)b=this._default_helpers;a=window;c=this.Class.fullName.split(/\./);for(var d=0;d<c.length;d++){typeof a.Helpers=="object"&&jQuery.extend(b,a.Helpers);
a=a[c[d]]}typeof a.Helpers=="object"&&jQuery.extend(b,a.Helpers);this._default_helpers=b}return b};jQuery.Controller.prototype.view=function(a,b,c){if(typeof a!="string"&&!c){c=b;b=a;a=null}a=g(this.Class,a,this.called);b=b||this;c=h.call(this,c);return jQuery.View(a,b,c)}});
;
steal.end();
steal.plugins("jquery","jquery/controller/view","jquery/view","jquery/view/tmpl","jqueryui/widget").models("../../models/workbench").views("//editor/pagecreator/views/init.tmpl").css("pagecreator").then(function(a){a.Controller("Editor.Pagecreator",{defaults:{}},{init:function(d){a(d).html("//editor/pagecreator/views/init.tmpl",{runtime:this.options.runtime});var c={};this.parent=null;Workbench.suggestTags({},a.proxy(function(f){f==null||f==undefined||this.element.find("input[name=tags]").autocomplete({source:function(b,
e){e(a.ui.autocomplete.filter(f,b.term.split(/,\s*/).pop()))},focus:function(){return false},select:function(b,e){b=this.value.split(/,\s*/);b.pop();b.push(e.item.value);b.push("");this.value=b.join(", ");return false}})},this));this.element.dialog({modal:true,title:"Neue Seite anlegen",autoOpen:true,resizable:true,draggable:true,width:700,height:650,buttons:{Abbrechen:a.proxy(function(){this.element.dialog("close")},this),Fertig:a.proxy(function(){if(this.parent!=null){this.element.find("form#wbl-validate").submit();
if(this.element.find("form#wbl-validate").valid()){var f=this.element.find("input[name=url]").val();if(f!=f.match(/[a-zA-Z0-9_-]*/))this.validator.showErrors({url:jQuery.validator.messages.friendlyUrl});else{a.each(this.element.find("form#wbl-validate :input"),function(b,e){c[a(e).attr("name")]=a(e).val()});c.url=this.parent+c.url;Page.create({path:c.url},a.proxy(function(b){this.destroy();var e=b.getPath();b.saveMetadata(c,this.options.language,a.proxy(function(){b.lock(this.options.runtime.getUserLogin(),
function(){location.href=e+window.currentLanguage+"?edit&_="+(new Date).getTime()})},this))},this),a.proxy(function(b,e,g){b.status==409?this.validator.showErrors({url:"Page already exists!"}):alert("Error creating page: "+g)},this))}}}},this)},close:a.proxy(function(){this.destroy()},this)});this.nextButton=this.element.parent().find(".ui-dialog-buttonpane span.ui-button-text:contains('Fertig')").parent();this.nextButton.button("option","disabled",true);this.validator=this.element.find("form#wbl-validate").validate()},
destroy:function(){this.element.dialog("destroy");this._super()},update:function(d){this.options=d;this.element.dialog("open")},_makeFriendlyUrl:function(d){return d.toLowerCase().replace(/^\s+|\s+$/g,"").replace(/[_|\s]+/g,"-").replace(/[^a-z\u0400-\u04FF0-9-]+/g,"").replace(/[-]+/g,"-").replace(/^-+|-+$/g,"").replace(/[-]+/g,"-")},"button#wbl-pageSelectorButton click":function(){a("div#wbl-menubar").editor_menubar("_editorSelectionMode",this.element,"pages",false,a.proxy(function(d){var c=this.element.find("input[name=url]").prev();
if(d==null)c.html()==""&&this.nextButton.button("option","disabled",true);else{this.parent=d[0].getPath();this.nextButton.button("option","disabled",false);c.html(this.parent)}},this))},"input[name=title] change":function(d){var c=this.element.find("input[name=url]");c.val()==""&&c.val(this._makeFriendlyUrl(d.val()))}})});
;
steal.end();
steal("../lib/ui/jquery.ui.widget.js");
;
steal.end();
(function(b,l){var m=Array.prototype.slice,o=b.cleanData;b.cleanData=function(a){for(var c=0,d;(d=a[c])!=null;c++)b(d).triggerHandler("remove");o(a)};b.widget=function(a,c,d){var e=a.split(".")[0],f;a=a.split(".")[1];f=e+"-"+a;if(!d){d=c;c=b.Widget}b.expr[":"][f]=function(g){return!!b.data(g,a)};b[e]=b[e]||{};b[e][a]=b.extend(function(g,i){if(!this._createWidget)return new b[e][a](g,i);arguments.length&&this._createWidget(g,i)},b[e][a]);var h=new c;h.options=b.extend(true,{},h.options);b.each(d,function(g,
i){if(b.isFunction(i))d[g]=function(){var p=function(j){return c.prototype[j].apply(this,m.call(arguments,1))},q=function(j,k){return c.prototype[j].apply(this,k)};return function(){var j=this._super,k=this._superApply,n;this._super=p;this._superApply=q;n=i.apply(this,arguments);this._super=j;this._superApply=k;return n}}()});b[e][a].prototype=b.extend(true,h,{namespace:e,widgetName:a,widgetEventPrefix:a,widgetBaseClass:f},d);b.widget.bridge(a,b[e][a])};b.widget.bridge=function(a,c){b.fn[a]=function(d){var e=
typeof d==="string",f=m.call(arguments,1),h=this;d=!e&&f.length?b.extend.apply(null,[true,d].concat(f)):d;e?this.each(function(){var g=b.data(this,a);if(!g)return b.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+d+"'");if(!b.isFunction(g[d])||d.charAt(0)==="_")return b.error("no such method '"+d+"' for "+a+" widget instance");var i=g[d].apply(g,f);if(i!==g&&i!==l){h=i.jquery?h.pushStack(i.get()):i;return false}}):this.each(function(){var g=b.data(this,a);
g?g.option(d||{})._init():c(d,this)});return h}};b.Widget=function(a,c){if(!this._createWidget)return new b[namespace][name](a,c);arguments.length&&this._createWidget(a,c)};b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false},_createWidget:function(a,c){c=b(c||this.defaultElement||this)[0];this.element=b(c);this.options=b.extend(true,{},this.options,this._getCreateOptions(),a);this.bindings=b();this.hoverable=b();this.focusable=b();if(c!==this){b.data(c,
this.widgetName,this);this._bind({remove:"destroy"})}this._create();this._trigger("create");this._init()},_getCreateOptions:b.noop,_create:b.noop,_init:b.noop,destroy:function(){this._destroy();this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled");this.bindings.unbind("."+this.widgetName);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},
_destroy:b.noop,widget:function(){return this.element},option:function(a,c){var d=a,e,f,h;if(arguments.length===0)return b.extend({},this.options);if(typeof a==="string"){if(c===l)return this.options[a];d={};e=a.split(".");a=e.shift();if(e.length){f=d[a]=b.extend(true,{},this.options[a]);for(h=0;h<e.length-1;h++){f[e[h]]=f[e[h]]||{};f=f[e[h]]}f[e.pop()]=c}else d[a]=c}this._setOptions(d);return this},_setOptions:function(a){var c=this;b.each(a,function(d,e){c._setOption(d,e)});return this},_setOption:function(a,
c){this.options[a]=c;if(a==="disabled"){this.widget().toggleClass(this.widgetBaseClass+"-disabled ui-state-disabled",!!c).attr("aria-disabled",c);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_bind:function(a,c){if(c){a=b(a);this.bindings=this.bindings.add(a)}else{c=a;a=this.element}var d=this;b.each(c,function(e,f){a.bind(e+
"."+d.widgetName,function(){if(!(d.options.disabled===true||b(this).hasClass("ui-state-disabled")))return(typeof f==="string"?d[f]:f).apply(d,arguments)})})},_hoverable:function(a){this.hoverable=this.hoverable.add(a);this._bind(a,{mouseenter:function(c){b(c.currentTarget).addClass("ui-state-hover")},mouseleave:function(c){b(c.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a);this._bind(a,{focusin:function(c){b(c.currentTarget).addClass("ui-state-focus")},
focusout:function(c){b(c.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(a,c,d){var e=this.options[a];c=b.Event(c);c.type=(a===this.widgetEventPrefix?a:this.widgetEventPrefix+a).toLowerCase();d=d||{};if(c.originalEvent){a=b.event.props.length;for(var f;a;){f=b.event.props[--a];c[f]=c.originalEvent[f]}}this.element.trigger(c,d);d=b.isArray(d)?[c].concat(d):[c,d];return!(b.isFunction(e)&&e.apply(this.element[0],d)===false||c.isDefaultPrevented())}};if(b.uiBackCompat!==false)b.Widget.prototype._getCreateOptions=
function(){return b.metadata&&b.metadata.get(this.element[0])[this.widgetName]}})(jQuery);
;
steal.end();
steal.plugins("jquery/model").then(function(d){d.Model("Workbench",{getPageletEditor:function(a,c){var b="/system/weblounge/workbench/edit/"+a.id+"/"+a.composer+"/"+a.pagelet;if("language"in a)b+="?language="+a.language;"id"in a&&d.ajax(b,{success:c})},getRenderer:function(a,c){var b="/system/weblounge/workbench/renderer/"+a.id+"/"+a.composer+"/"+a.pageletId;if("language"in a)b+="?language="+a.language;if("id"in a)a.pagelet!=undefined?d.ajax(b,{type:"GET",data:a.pagelet,success:c}):d.ajax(b,{type:"GET",
success:c})},suggestTags:function(a,c){"seed"in a&&d.get("/system/weblounge/workbench/suggest/tags/"+a.seed,function(b){c(b)},"xml")}},{})});
;
steal.end();
steal.plugins("jquery/class","jquery/lang").then(function(){var m=$.String.underscore,w=$.String.classize,q=$.isArray,r=$.makeArray,o=$.extend,j=$.each,x=/GET|POST|PUT|DELETE/i,k=function(a,b,c,e,f,d,g){g=g||"json";var h="";if(typeof a=="string"){var i=a.indexOf(" ");if(i>2&&i<7){h=a.substr(0,i);if(x.test(h))d=h;else g=h;h=a.substr(i+1)}else h=a}b=o({},b);a=$.String.sub(h,b,true);return $.ajax({url:a,data:b,success:c,error:e,type:d||"post",dataType:g,fixture:f})},s=function(a,b){var c=m(this.shortName),
e="-"+c+(a||"");return $.fixture&&$.fixture[e]?e:b||"//"+m(this.fullName).replace(/\.models\..*/,"").replace(/\./g,"/")+"/fixtures/"+c+(a||"")+".json"},y=function(a,b){a=a||{};var c=this.id;if(a[c]&&a[c]!==b){a["new"+$.String.capitalize(b)]=a[c];delete a[c]}a[c]=b;return a},t=function(a){return new (a||$.Model.List||Array)},n=function(a){return a[a.Class.id]},z=function(a){for(var b=[],c=0;c<a.length;c++)if(!a[c]["__u Nique"]){b.push(a[c]);a[c]["__u Nique"]=true}for(c=0;c<b.length;c++)delete b[c]["__u Nique"];
return b},u=function(a,b,c,e,f){var d=$.Deferred(),g=[a.attrs(),function(h){a[f||b+"d"](h);d.resolveWith(a,[a,h,b])},function(h){d.rejectWith(a,[h])}];b=="destroy"&&g.shift();b!=="create"&&g.unshift(n(a));d.then(c);d.fail(e);a.Class[b].apply(a.Class,g);return d.promise()},p=function(a){return typeof a==="object"&&a!==null&&a},l=function(a){return function(){$.fn[a].apply($([this]),arguments);return this}},v=l("bind");l=l("unbind");ajaxMethods={create:function(a){return function(b,c,e){return k(a,
b,c,e,"-restCreate")}},update:function(a){return function(b,c,e,f){return k(a,y.call(this,c,b),e,f,"-restUpdate","put")}},destroy:function(a){return function(b,c,e){var f={};f[this.id]=b;return k(a,f,c,e,"-restDestroy","delete")}},findAll:function(a){return function(b,c,e){return k(a||this.shortName+"s.json",b,c,e,s.call(this,"s"),"get","json "+this._shortName+".models")}},findOne:function(a){return function(b,c,e){return k(a,b,c,e,s.call(this),"get","json "+this._shortName+".model")}}};jQuery.Class("jQuery.Model",
{setup:function(a){var b=this;j(["attributes","associations","validations"],function(f,d){if(!b[d]||a[d]===b[d])b[d]={}});if(a.convert!=this.convert)this.convert=o(a.convert,this.convert);this._fullName=m(this.fullName.replace(/\./g,"_"));this._shortName=m(this.shortName);if(this.fullName.substr(0,7)!="jQuery."){if(this.listType)this.list=new this.listType([]);for(var c in ajaxMethods)if(typeof this[c]!=="function")this[c]=ajaxMethods[c](this[c]);c={};var e="* "+this._shortName+".model";c[e+"s"]=
this.callback("models");c[e]=this.callback("model");$.ajaxSetup({converters:c})}},attributes:{},model:function(a){if(!a)return null;return new this(p(a[this._shortName])||p(a.data)||p(a.attributes)||a)},models:function(a){if(!a)return null;var b=t(this.List),c=q(a),e=c?a:a.data,f=e.length,d=0;for(b._use_call=true;d<f;d++)b.push(this.model(e[d]));if(!c)for(var g in a)if(g!=="data")b[g]=a[g];return b},id:"id",addAttr:function(a,b){if(!this.associations[a]){this.attributes[a]||(this.attributes[a]=b);
return b}},_models:{},publish:function(a,b){window.OpenAjax&&OpenAjax.hub.publish(this._shortName+"."+a,b)},guessType:function(){return"string"},convert:{date:function(a){return typeof a==="string"?isNaN(Date.parse(a))?null:Date.parse(a):a},number:function(a){return parseFloat(a)},"boolean":function(a){return Boolean(a)}},bind:v,unbind:l},{setup:function(a){this._init=true;this.attrs(o({},this.Class.defaults,a));delete this._init},update:function(a,b,c){this.attrs(a);return this.save(b,c)},errors:function(a){if(a)a=
q(a)?a:r(arguments);var b={},c=this,e=function(d,g){j(g,function(h,i){if(h=i.call(c)){b.hasOwnProperty(d)||(b[d]=[]);b[d].push(h)}})};j(a||this.Class.validations||{},function(d,g){if(typeof d=="number"){d=g;g=c.Class.validations[d]}e(d,g||[])});for(var f in b)if(b.hasOwnProperty(f))return b;return null},attr:function(a,b,c,e){var f=w(a),d="get"+f;if(b!==undefined){this._setProperty(a,b,c,e,f);return this}return this[d]?this[d]():this[a]},bind:v,unbind:l,_setProperty:function(a,b,c,e,f){f="set"+f;
var d=this[a],g=this,h=function(i){e&&e.call(g,i);$(g).triggerHandler("error."+a,i)};this[f]&&(b=this[f](b,this.callback("_updateProperty",a,b,d,c,h),h))===undefined||this._updateProperty(a,b,d,c,h)},_updateProperty:function(a,b,c,e,f){var d=this.Class,g=d.attributes[a]||d.addAttr(a,d.guessType(b)),h=d.convert[g];g=null;b=this[a]=b===null?null:h?h.call(d,b):b;this._init||(g=this.errors(a));if(g)f(g);else{if(c!==b&&!this._init){$(this).triggerHandler(a,[b]);$(this).triggerHandler("updated.attr",[a,
b,c])}e&&e(this)}if(a===d.id&&b!==null&&d.list)if(c){if(c!=b){d.list.remove(c);d.list.push(this)}}else d.list.push(this)},attrs:function(a){var b;if(a){var c=this.Class.id;for(b in a)b!=c&&this.attr(b,a[b]);c in a&&this.attr(c,a[c])}else{a={};for(b in this.Class.attributes)if(this.Class.attributes.hasOwnProperty(b))a[b]=this.attr(b)}return a},isNew:function(){var a=n(this);return a===undefined||a===null},save:function(a,b){return u(this,this.isNew()?"create":"update",a,b)},destroy:function(a,b){return u(this,
"destroy",a,b,"destroyed")},identity:function(){var a=n(this);return this.Class._fullName+"_"+(this.Class.escapeIdentity?encodeURIComponent(a):a)},elements:function(a){return $("."+this.identity(),a)},publish:function(a,b){this.Class.publish(a,b||this)},hookup:function(a){var b=this.Class._shortName,c=$.data(a,"models")||$.data(a,"models",{});$(a).addClass(b+" "+this.identity());c[b]=this}});$.Model.wrapMany=$.Model.models;$.Model.wrap=$.Model.model;j(["created","updated","destroyed"],function(a,
b){$.Model.prototype[b]=function(c){b==="destroyed"&&this.Class.list&&this.Class.list.remove(n(this));c&&typeof c=="object"&&this.attrs(c.attrs?c.attrs():c);$(this).triggerHandler(b);this.publish(b,this);$([this.Class]).triggerHandler(b,this);return[this].concat(r(arguments))}});$.fn.models=function(){var a=[],b,c;this.each(function(){j($.data(this,"models")||{},function(e,f){b=b===undefined?f.Class.List||null:f.Class.List===b?b:null;a.push(f)})});c=t(b);c.push.apply(c,z(a));return c};$.fn.model=
function(a){if(a&&a instanceof $.Model){a.hookup(this[0]);return this}else return this.models.apply(this,arguments)[0]}});
;
steal.end();
$.View.preload('editor_pagecreator_views_init_tmpl',function(data){return (
function anonymous(jQuery, $item) {
    var $ = jQuery, call, _ = [], $data = $item.data;
    with ($data) {
        _.push("<form id=\"wbl-validate\" onsubmit=\"return false;\"> <button id=\"wbl-pageSelectorButton\" type=\"button\">Elternseite ausw&auml;hlen</button><br /><br /> Seitentitel: <input type=\"text\" name=\"title\" class=\"required\" /><br /><br /> URL: <span></span><input type=\"text\" name=\"url\" class=\"required\" /><br /><br /> Layout: <select name=\"layout\" >  ");
        if (typeof (runtime.getSiteLayouts) !== "undefined" && (runtime.getSiteLayouts) != null) {
            $.each(runtime.getSiteLayouts(), function ($index, $value) {
                with (this) {
                    _.push("   ");
                    if ((typeof ($value._default) !== "undefined" && ($value._default) != null) && (typeof ($value._default) === "function" ? ($value._default).call($item) : ($value._default))) {
                        _.push("   <option selected=\"selected\" value=\"");
                        if (typeof ($value.id) !== "undefined" && ($value.id) != null) {
                            _.push($.encode((typeof ($value.id) === "function" ? ($value.id).call($item) : ($value.id))));
                        }
                        _.push("\">");
                        if (typeof ($value.id) !== "undefined" && ($value.id) != null) {
                            _.push($.encode((typeof ($value.id) === "function" ? ($value.id).call($item) : ($value.id))));
                        }
                        _.push("</option>   ");
                    } else {
                        if ((true) && true) {
                            _.push("   <option value=\"");
                            if (typeof ($value.id) !== "undefined" && ($value.id) != null) {
                                _.push($.encode((typeof ($value.id) === "function" ? ($value.id).call($item) : ($value.id))));
                            }
                            _.push("\">");
                            if (typeof ($value.id) !== "undefined" && ($value.id) != null) {
                                _.push($.encode((typeof ($value.id) === "function" ? ($value.id).call($item) : ($value.id))));
                            }
                            _.push("</option>   ");
                        }
                    }
                    _.push("     ");
                }
            });
        }
        _.push(" </select><br /><br /> Beschreibung: <input type=\"text\" name=\"description\" /><br /><br /> Tags: <input type=\"text\" name=\"tags\" /> </form>");
    }
    return _;
}
).call(jQuery, jQuery, {data: data}).join(''); });;
steal.end();
steal.plugins("jquery","jquery/controller/view","jquery/view","jquery/view/tmpl").views("//editor/pageletcreator/views/init.tmpl").css("pageletcreator").models("../../models/site").then(function(a){a.Controller("Editor.Pageletcreator",{defaults:{}},{init:function(b){this.enabled=true;this._hide();this.options.runtime.getSiteModules(this.callback("_initViews",b));var c=a("div#weblounge-editor a.wbl-tab.wbl-designer");a(window).resize(a.proxy(function(){this.element.is(":visible")&&c.hasClass("wbl-active")&&
this._calculateHeight()},this))},_initViews:function(b,c){this.options.runtime.getId();a.each(c,a.proxy(function(d,e){this.options.runtime.getModulePagelets(e.id,function(f){c[d].pagelets=f})},this));a(b).html("//editor/pageletcreator/views/init.tmpl",{modules:c,favorites:{}});this.element.tabs("div.wbl-panes > div");this._loadContent(c)},_initDraggable:function(b){b.find(".wbl-draggable").draggable({connectToSortable:".composer",helper:"clone",revert:"invalid",cursor:"move",cursorAt:{top:-8,left:-10},
start:function(c,d){a(d.helper).removeClass("wbl-draggable");a(d.helper).addClass("wbl-draggableHelper")},stop:function(){a(".composer:not(.locked)").editor_composer("enable")}}).disableSelection()},_bodyAbsoluteTop:function(b){a("body > *").each(function(c,d){if(a(d).css("position")=="absolute"){c=a(d).css("top");if(c!=""){parseFloat(c);a(d).css("top",b+"px")}}})},update:function(){if(this.enabled){a("div#weblounge-editor").css("height","185px");this._bodyAbsoluteTop(185);this.element.show();this._calculateHeight()}},
enable:function(){this.enabled=true},disable:function(){this.enabled=false;this._hide()},_hide:function(){this.element.hide();a("div#weblounge-editor").css("height","45px");this._bodyAbsoluteTop(45)},_loadContent:function(b){a.each(b,a.proxy(function(c,d){var e=this.element.find("div.wbl-pane"+d.id);if(!(e.length<1)){a.each(d.pagelets,function(f,g){e.append('<div id="'+g.id+'" class="wbl-draggable ui-widget-content" module="'+d.id+'">'+g.id+"</div>")});this._calculateHeight();this._initDraggable(e)}},
this))},_calculateHeight:function(){if(this.enabled){var b=this.element.find("div.wbl-panes > div:visible").children();if(!(b.length<2)){var c=b.first().position().top;b=b.last().position().top;if(c==b){this.element.find("div.wbl-panes").css("height","80px");a("div#weblounge-editor").css("height","185px");this._bodyAbsoluteTop(185)}else{this.element.find("div.wbl-panes").css("height","120px");a("div#weblounge-editor").css("height","225px");this._bodyAbsoluteTop(225)}}}}})});
;
steal.end();
$.View.preload('editor_pageletcreator_views_init_tmpl',function(data){return (
function anonymous(jQuery, $item) {
    var $ = jQuery, call, _ = [], $data = $item.data;
    with ($data) {
        _.push("<!-- the tabs --> <ul class=\"wbl-tabs\">  ");
        if (typeof (modules) !== "undefined" && (modules) != null) {
            $.each((typeof (modules) === "function" ? (modules).call($item) : (modules)), function ($index, $value) {
                with (this) {
                    _.push("   ");
                    if ((typeof ($value.pagelets.length > 0) !== "undefined" && ($value.pagelets.length > 0) != null) && (typeof ($value.pagelets.length > 0) === "function" ? ($value.pagelets.length > 0).call($item) : ($value.pagelets.length > 0))) {
                        _.push("   <li><a href=\"#");
                        if (typeof ($value.id) !== "undefined" && ($value.id) != null) {
                            _.push($.encode((typeof ($value.id) === "function" ? ($value.id).call($item) : ($value.id))));
                        }
                        _.push("\">");
                        if (typeof ($value.name) !== "undefined" && ($value.name) != null) {
                            _.push($.encode((typeof ($value.name) === "function" ? ($value.name).call($item) : ($value.name))));
                        }
                        _.push("</a></li>   ");
                    }
                    _.push("  ");
                }
            });
        }
        _.push(" </ul> <!-- tab \"panes\" --> <div class=\"wbl-panes\">  ");
        if (typeof (modules) !== "undefined" && (modules) != null) {
            $.each((typeof (modules) === "function" ? (modules).call($item) : (modules)), function ($index, $value) {
                with (this) {
                    _.push("   ");
                    if ((typeof ($value.pagelets.length > 0) !== "undefined" && ($value.pagelets.length > 0) != null) && (typeof ($value.pagelets.length > 0) === "function" ? ($value.pagelets.length > 0).call($item) : ($value.pagelets.length > 0))) {
                        _.push("   <div class=\"wbl-pane");
                        if (typeof ($value.id) !== "undefined" && ($value.id) != null) {
                            _.push($.encode((typeof ($value.id) === "function" ? ($value.id).call($item) : ($value.id))));
                        }
                        _.push("\"></div>   ");
                    }
                    _.push("  ");
                }
            });
        }
        _.push(" </div>");
    }
    return _;
}
).call(jQuery, jQuery, {data: data}).join(''); });;
steal.end();
steal.then("jsonix").then(function(c){c.Model("Site",{findOne:function(d,a){c.ajax("/system/weblounge/sites/"+d.id,{success:this.callback(["parseXML","wrap",a])})},getModules:function(d,a){c.ajax("/system/weblounge/sites/"+d.id+"/modules",{success:function(b){a(Site.parseModules(b))}})},getModule:function(d,a){c.ajax("/system/weblounge/sites/"+d.id+"/modules/"+d.module,{async:false,success:function(b){b=Site.parseModule(b);if(d.composeable==true)b=c.grep(b,function(e){return e.composeable});a(b)}})},
parseModules:function(d){var a=[];c(d).find("module").each(function(b){a[b]={};a[b].id=c(this).attr("id");a[b].enable=c(this).find("enable:first").text()=="true";a[b].name=c(this).find("name:first").text()});return a},parseModule:function(d){var a=[];c(d).find("pagelet").each(function(b){a[b]={};a[b].id=c(this).attr("id");a[b].composeable=c(this).attr("composeable")=="true";a[b].renderer=[];var e=a[b].renderer;c(this).find("renderer").each(function(f){e[f]={};e[f].type=c(this).attr("type");e[f].value=
c(this).text()});a[b].editor=c(this).find("editor:first").text();a[b].recheck=c(this).find("recheck:first").text();a[b].valid=c(this).find("valid:first").text();a[b].preview=c(this).find("preview:first").text()});return a},parseXML:function(d){var a={};a.id=c(d).attr("id");a.languages=[];c(d).find("language").each(function(b){a.languages[b]={};a.languages[b].language=c(this).text();a.languages[b]._default=c(this).attr("default")=="true"});a.domains=[];c(d).find("url").each(function(b){a.domains[b]=
{};a.domains[b].url=c(this).text();a.domains[b]._default=c(this).attr("default")=="true"});return a}},{getLanguages:function(){return this.languages},getId:function(){return this.id},getDefaultLanguage:function(){var d;c.each(this.languages,function(a,b){if(b._default){d=b.language;return false}});return d}})});
;
steal.end();
steal.plugins("jquery/model").resources("../../resources/Jsonix-all-1.1-SNAPSHOT").then("page-mappings","file-mappings","image-mappings").then(function(a){a.Class("Editor.Jsonix",{context:function(){return new Jsonix.Context([PageMappings,FileMappings,ImageMappings],{})}},{})});
;
steal.end();
var Jsonix={singleFile:true};Jsonix.Util={};Jsonix.Util.extend=function(a,b){a=a||{};if(b){for(var c in b){var d=b[c];if(d!==undefined)a[c]=d}if(!(typeof window.Event=="function"&&b instanceof window.Event)&&b.hasOwnProperty&&b.hasOwnProperty("toString"))a.toString=b.toString}return a};
Jsonix.Class=function(){for(var a=function(){this.initialize.apply(this,arguments)},b={},c=function(){},d,e,f=0,g=arguments.length;f<g;++f){e=arguments[f];if(typeof e=="function"){if(f===0&&g>1){d=e.prototype.initialize;e.prototype.initialize=c;b=new e;if(d===undefined)delete e.prototype.initialize;else e.prototype.initialize=d}d=e.prototype}else d=e;Jsonix.Util.extend(b,d)}a.prototype=b;return a};Jsonix.XML={};
Jsonix.DOM={createDocument:function(){return document.implementation&&document.implementation.createDocument?document.implementation.createDocument("","",null):new ActiveXObject("MSXML2.DOMDocument")},serialize:function(a){Jsonix.Util.Ensure.ensureExists(a);if(typeof XMLSerializer!=="undefined")return(new XMLSerializer).serializeToString(a);else if(Jsonix.Util.Type.exists(a.xml))return a.xml;else throw"Could not serialize the node, neither XMLSerializer nor the [xml] property were found.";},parse:function(a){Jsonix.Util.Ensure.ensureExists(a);
if(typeof DOMParser!="undefined")return(new DOMParser).parseFromString(a,"application/xml");else if(typeof ActiveXObject!="undefined"){var b=Jsonix.DOM.createDocument("","");b.loadXML(a);return b}else{a="data:text/xml;charset=utf-8,"+encodeURIComponent(a);b=new XMLHttpRequest;b.open("GET",a,false);b.overrideMimeType&&b.overrideMimeType("text/xml");b.send(null);return b.responseXML}},load:function(a,b,c){Jsonix.Request.INSTANCE.issue(a,function(d){if(Jsonix.Util.Type.exists(d.responseXML)&&Jsonix.Util.Type.exists(d.responseXML.documentElement))d=
d.responseXML;else if(Jsonix.Util.Type.isString(d.responseText))d=Jsonix.DOM.parse(d.responseText);else throw"Response does not have valid [responseXML] or [responseText].";b(d)},function(){throw"Could not retrieve XML from URL ["+a+"].";},c)}};
Jsonix.Request=Jsonix.Class({factories:[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],initialize:function(){},issue:function(a,b,c,d){Jsonix.Util.Ensure.ensureString(a);if(Jsonix.Util.Type.exists(b))Jsonix.Util.Ensure.ensureFunction(b);else b=function(){};if(Jsonix.Util.Type.exists(c))Jsonix.Util.Ensure.ensureFunction(c);
else c=function(){};if(Jsonix.Util.Type.exists(d))Jsonix.Util.Ensure.ensureObject(d);else d={};var e=this.createTransport(),f=Jsonix.Util.Type.isString(d.method)?d.method:"GET",g=Jsonix.Util.Type.isBoolean(d.async)?d.async:true,l=Jsonix.Util.Type.isString(d.proxy)?d.proxy:Jsonix.Request.PROXY,h=Jsonix.Util.Type.isString(d.user)?d.user:null,i=Jsonix.Util.Type.isString(d.password)?d.password:null;if(Jsonix.Util.Type.isString(l)&&a.indexOf("http")===0)a=l+encodeURIComponent(a);Jsonix.Util.Type.isString(h)?
e.open(f,a,g,h,i):e.open(f,a,g);if(Jsonix.Util.Type.isObject(d.headers))for(var j in d.headers)d.headers.hasOwnProperty(j)&&e.setRequestHeader(j,d.headers[j]);var k=Jsonix.Util.Type.exists(d.data)?d.data:null;if(g){var m=this;e.onreadystatechange=function(){m.handleTransport(e,b,c)};window.setTimeout(function(){e.send(k)},0)}else{e.send(k);this.handleTransport(e,b,c)}return e},handleTransport:function(a,b,c){if(a.readyState==4){if(!a.status||a.status>=200&&a.status<300)b(a);if(a.status&&(a.status<
200||a.status>=300))c(a)}},createTransport:function(){for(var a=0,b=this.factories.length;a<b;a++)try{return this.factories[a]()}catch(c){}throw"Could not create XML HTTP transport.";},CLASS_NAME:"Jsonix.Request"});Jsonix.Request.INSTANCE=new Jsonix.Request;Jsonix.Request.PROXY=null;Jsonix.Schema={};Jsonix.Model={};
Jsonix.Util.Type={exists:function(a){return typeof a!=="undefined"&&a!==null},isString:function(a){return typeof a==="string"},isBoolean:function(a){return typeof a==="boolean"},isObject:function(a){return typeof a==="object"},isFunction:function(a){return typeof a==="function"},isNumber:function(a){return typeof a==="number"&&!isNaN(a)},isNumberOrNaN:function(a){return a===+a||Object.prototype.toString.call(a)==="[object Number]"},isNaN:function(a){return Jsonix.Util.Type.isNumberOrNaN(a)&&isNaN(a)},
isArray:function(a){return!!(a&&a.concat&&a.unshift&&!a.callee)},isDate:function(a){return!!(a&&a.getTimezoneOffset&&a.setUTCFullYear)},isRegExp:function(a){return!!(a&&a.test&&a.exec&&(a.ignoreCase||a.ignoreCase===false))},equals:function(a,b,c){var d=Jsonix.Util.Type.isFunction(c),e=function(){var i=slice.call(arguments),j=i.length<=1,k=j?0:i[0],m=i[2]||1;i=Math.max(Math.ceil(((j?i[0]:i[1])-k)/m),0);j=0;for(var n=new Array(i);j<i;){n[j++]=k;k+=m}return n},f=Object.keys||function(i){if(Jsonix.Util.Type.isArray(i))return e(0,
i.length);var j=[];for(var k in i)if(i.hasOwnProperty(k))j[j.length]=k;return j};if(a===b)return true;if(Jsonix.Util.Type.isNaN(a)&&Jsonix.Util.Type.isNaN(b))return true;var g=typeof a,l=typeof b;if(g!=l){d&&c("Types differ ["+g+"], ["+l+"].");return false}if(a==b)return true;if(!a&&b||a&&!b){d&&c("One is falsy, the other is truthy.");return false}if(Jsonix.Util.Type.isDate(a)&&Jsonix.Util.Type.isDate(b))return a.getTime()===b.getTime();if(Jsonix.Util.Type.isNaN(a)&&Jsonix.Util.Type.isNaN(b))return false;
if(Jsonix.Util.Type.isRegExp(a)&&Jsonix.Util.Type.isRegExp(b))return a.source===b.source&&a.global===b.global&&a.ignoreCase===b.ignoreCase&&a.multiline===b.multiline;if(g!=="object")return false;if(a.length&&a.length!==b.length)return false;g=f(a);f=f(b);if(g.length!=f.length){d&&c("Different number of properties ["+g.length+"], ["+f.length+"].");for(var h=0;h<g.length;h++)d&&c("A ["+g[h]+"]="+a[g[h]]);for(a=0;a<f.length;a++)d&&c("B ["+f[a]+"]="+b[f[a]]);return false}for(h in a)if(a.hasOwnProperty[h])if(!(h in
b)||!Jsonix.Util.Type.isEqual(a[h],b[h])){if(d){c("One of the properties differ.");c("Key: ["+h+"].");c("Left: ["+a[h]+"].");c("Right: ["+b[h]+"].")}return false}return true}};Jsonix.Util.NumberUtils={isInteger:function(a){return Jsonix.Util.Type.isNumber(a)&&a%1===0}};
Jsonix.Util.StringUtils={trim:function(a){Jsonix.Util.Ensure.ensureString(a);return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},isEmpty:function(a){return Jsonix.Util.StringUtils.trim(a).length===0},isBlank:function(a){return!Jsonix.Util.Type.exists(a)||Jsonix.Util.StringUtils.trim(a).length===0},isNotBlank:function(a){return Jsonix.Util.Type.isString(a)&&Jsonix.Util.StringUtils.trim(a).length!==0}};
Jsonix.Util.Ensure={ensureBoolean:function(a){if(!Jsonix.Util.Type.isBoolean(a))throw"Argument ["+a+"] must be a boolean.";},ensureString:function(a){if(!Jsonix.Util.Type.isString(a))throw"Argument ["+a+"] must be a string.";},ensureNumber:function(a){if(!Jsonix.Util.Type.isNumber(a))throw"Argument ["+a+"] must be a number.";},ensureNumberOrNaN:function(a){if(!Jsonix.Util.Type.isNumberOrNaN(a))throw"Argument ["+a+"] must be a number or NaN.";},ensureInteger:function(a){if(Jsonix.Util.Type.isNumber(a)){if(!Jsonix.Util.NumberUtils.isInteger(a))throw"Argument ["+
a+"] must be an integer.";}else throw"Argument must be an integer, but it is not a number.";},ensureDate:function(a){if(!(a instanceof Date))throw"Argument ["+a+"] must be a date.";},ensureObject:function(a){if(!Jsonix.Util.Type.isObject(a))throw"Argument ["+a+"] must be an object.";},ensureArray:function(a){if(!Jsonix.Util.Type.isArray(a))throw"Argument ["+a+"] must be an array.";},ensureFunction:function(a){if(!Jsonix.Util.Type.isFunction(a))throw"Argument ["+a+"] must be a function.";},ensureExists:function(a){if(!Jsonix.Util.Type.exists(a))throw"Argument ["+
a+"] does not exist.";}};
Jsonix.XML.QName=Jsonix.Class({key:null,namespaceURI:null,localPart:null,prefix:null,string:null,initialize:function(a,b,c){var d;if(Jsonix.Util.Type.exists(b))if(Jsonix.Util.Type.exists(c)){d=Jsonix.Util.Type.exists(a)?a:"";b=b;c=Jsonix.Util.Type.exists(c)?c:""}else{d=Jsonix.Util.Type.exists(a)?a:"";a=b.indexOf(":");if(a>0&&a<b.length){c=b.substring(0,a);b=b.substring(a+1)}else{c="";b=b}}else{d="";b=a;c=""}this.namespaceURI=d;this.localPart=b;this.prefix=c;this.key=(d!==""?"{"+d+"}":"")+b;this.string=
(d!==""?"{"+d+"}":"")+(c!==""?c+":":"")+b},toString:function(){return this.string},clone:function(){return new Jsonix.XML.QName(this.namespaceURI,this.localPart,this.prefix)},equals:function(a){return a?this.namespaceURI==a.namespaceURI&&this.localPart==a.localPart:false},CLASS_NAME:"Jsonix.XML.QName"});
Jsonix.XML.QName.fromString=function(a){var b=a.indexOf("{"),c=a.lastIndexOf("}");if(b===0&&c>0&&c<a.length){b=a.substring(1,c);c=a.substring(c+1)}else{b="";c=a}var d=c.indexOf(":");if(d>0&&d<c.length){a=c.substring(0,d);c=c.substring(d+1)}else{a="";c=c}return new Jsonix.XML.QName(b,c,a)};
Jsonix.XML.QName.fromObject=function(a){Jsonix.Util.Ensure.ensureObject(a);if(Jsonix.Util.Type.isString(a.CLASS_NAME)&&a.CLASS_NAME==="Jsonix.XML.QName")return a;Jsonix.Util.Ensure.ensureString(a.localPart);var b=Jsonix.Util.Type.isString(a.namespaceURI)?a.namespaceURI:"",c=a.localPart;a=Jsonix.Util.Type.isString(a.prefix)?a.prefix:"";return new Jsonix.XML.QName(b,c,a)};Jsonix.XML.QName.key=function(a,b){Jsonix.Util.Ensure.ensureString(b);return Jsonix.Util.StringUtils.isNotBlank(a)?"{"+a+"}"+b:b};
Jsonix.XML.Calendar=Jsonix.Class({year:NaN,month:NaN,day:NaN,hour:NaN,minute:NaN,second:NaN,fractionalSecond:NaN,timezone:NaN,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);if(Jsonix.Util.Type.exists(a.year)){Jsonix.Util.Ensure.ensureInteger(a.year);if(a.year>=-9999&&a.year<=9999)this.year=a.year;else throw"Invalid year ["+a.year+"].";}else this.year=NaN;if(Jsonix.Util.Type.exists(a.month)){Jsonix.Util.Ensure.ensureInteger(a.month);if(a.month>=1&&a.month<=12)this.month=a.month;else throw"Invalid month ["+
a.month+"].";}else this.month=NaN;if(Jsonix.Util.Type.exists(a.day)){Jsonix.Util.Ensure.ensureInteger(a.day);if(a.day>=1&&a.day<=31)this.day=a.day;else throw"Invalid day ["+a.day+"].";}else this.day=NaN;if(Jsonix.Util.Type.exists(a.hour)){Jsonix.Util.Ensure.ensureInteger(a.hour);if(a.hour>=0&&a.hour<=23)this.hour=a.hour;else throw"Invalid hour ["+a.hour+"].";}else this.hour=NaN;if(Jsonix.Util.Type.exists(a.minute)){Jsonix.Util.Ensure.ensureInteger(a.minute);if(a.minute>=0&&a.minute<=59)this.minute=
a.minute;else throw"Invalid minute ["+a.minute+"].";}else this.minute=NaN;if(Jsonix.Util.Type.exists(a.second)){Jsonix.Util.Ensure.ensureInteger(a.second);if(a.second>=0&&a.second<=59)this.second=a.second;else throw"Invalid second ["+a.second+"].";}else this.second=NaN;if(Jsonix.Util.Type.exists(a.fractionalSecond)){Jsonix.Util.Ensure.ensureNumber(a.fractionalSecond);if(a.fractionalSecond>=0&&a.fractionalSecond<1)this.fractionalSecond=a.fractionalSecond;else throw"Invalid fractional second ["+a.fractionalSecond+
"].";}else this.fractionalSecond=NaN;if(Jsonix.Util.Type.exists(a.timezone))if(Jsonix.Util.Type.isNaN(a.timezone))this.timezone=NaN;else{Jsonix.Util.Ensure.ensureInteger(a.timezone);if(a.timezone>=-1440&&a.timezone<1440)this.timezone=a.timezone;else throw"Invalid timezone ["+a.timezone+"].";}else this.timezone=NaN},CLASS_NAME:"Jsonix.XML.Calendar"});
Jsonix.XML.Calendar.fromObject=function(a){Jsonix.Util.Ensure.ensureObject(a);if(Jsonix.Util.Type.isString(a.CLASS_NAME)&&a.CLASS_NAME==="Jsonix.XML.Calendar")return a;return new Jsonix.XML.Calendar(a)};
Jsonix.XML.Input=Jsonix.Class({root:null,node:null,eventType:null,initialize:function(a){Jsonix.Util.Ensure.ensureExists(a);this.root=a},hasNext:function(){return this.node===null?true:this.node===this.root?this.node.nodeType===9&&this.eventType===8?false:this.node.nodeType===1&&this.eventType===2?false:true:true},next:function(){if(this.eventType===null)return this.enter(this.root);return this.eventType===7?Jsonix.Util.Type.exists(this.node.documentElement)?this.enter(this.node.documentElement):
this.leave(this.node):this.eventType===1?Jsonix.Util.Type.exists(this.node.firstChild)?this.enter(this.node.firstChild):this.leave(this.node):this.eventType===2?Jsonix.Util.Type.exists(this.node.nextSibling)?this.enter(this.node.nextSibling):this.leave(this.node):this.leave(this.node)},enter:function(a){var b=a.nodeType;if(b===1){this.node=a;return this.eventType=1}else if(b===2){this.node=a;return this.eventType=10}else if(b===3){this.node=a;return this.eventType=Jsonix.Util.StringUtils.isEmpty(a.nodeValue)?
6:4}else if(b===4){this.node=a;return this.eventType=12}else if(b===5){this.node=a;return this.eventType=9}else if(b===6){this.node=a;return this.eventType=15}else if(b===7){this.node=a;return this.eventType=3}else if(b===8){this.node=a;return this.eventType=5}else if(b===9){this.node=a;return this.eventType=7}else if(b===10){this.node=a;return this.eventType=12}else if(b===12){this.node=a;return this.eventType=14}else throw"Node type ["+b+"] is not supported.";},leave:function(a){if(a.nodeType===
9)if(this.eventType==8)throw"Invalid state.";else{this.node=a;return this.eventType=8}else if(a.nodeType===1)if(this.eventType==2){if(Jsonix.Util.Type.exists(a.nextSibling))return this.enter(a.nextSibling)}else{this.node=a;return this.eventType=2}if(Jsonix.Util.Type.exists(a.nextSibling))return this.enter(a.nextSibling);else{this.node=a=a.parentNode;return this.eventType=a.nodeType===9?8:2}},getName:function(){var a=this.node;return Jsonix.Util.Type.isString(a.nodeName)?Jsonix.Util.Type.isString(a.namespaceURI)?
new Jsonix.XML.QName(a.namespaceURI,a.nodeName):new Jsonix.XML.QName(a.nodeName):null},getText:function(){return this.node.nodeValue},nextTag:function(){for(var a=this.next();a===7||a===4||a===12||a===6||a===3||a===5;)a=this.next();if(a!==1&&a!==2)throw"Expected start or end tag.";return a},getElementText:function(){if(this.eventType!=1)throw"Parser must be on START_ELEMENT to read next text.";for(var a=this.next(),b="";a!==2;){if(a===4||a===12||a===6||a===9)b+=this.getText();else if(!(a===3||a===
5))if(a===8)throw"Unexpected end of document when reading element text content.";else if(a===1)throw"Element text content may not contain START_ELEMENT.";else throw"Unexpected event type ["+a+"].";a=this.next()}return b},getAttributeCount:function(){var a;if(this.eventType===1)a=this.node.attributes;else if(this.eventType===10)a=this.node.parentNode.attributes;else throw"Number of attributes can only be retrieved for START_ELEMENT or ATTRIBUTE.";return a.length},getAttributeName:function(a){var b;
if(this.eventType===1)b=this.node.attributes;else if(this.eventType===10)b=this.node.parentNode.attributes;else throw"Number of attributes can only be retrieved for START_ELEMENT or ATTRIBUTE.";if(a<0||a>=b.length)throw"Invalid attribute index ["+a+"].";a=b[a];return Jsonix.Util.Type.isString(a.namespaceURI)?new Jsonix.XML.QName(a.namespaceURI,a.nodeName):new Jsonix.XML.QName(a.nodeName)},getAttributeValue:function(a){var b;if(this.eventType===1)b=this.node.attributes;else if(this.eventType===10)b=
this.node.parentNode.attributes;else throw"Number of attributes can only be retrieved for START_ELEMENT or ATTRIBUTE.";if(a<0||a>=b.length)throw"Invalid attribute index ["+a+"].";return b[a].nodeValue},getElement:function(){if(this.eventType===1||this.eventType===2){this.eventType=2;return this.node}else throw"Parser must be on START_ELEMENT or END_ELEMENT to return current element.";},CLASS_NAME:"Jsonix.XML.Input"});Jsonix.XML.Input.START_ELEMENT=1;Jsonix.XML.Input.END_ELEMENT=2;
Jsonix.XML.Input.PROCESSING_INSTRUCTION=3;Jsonix.XML.Input.CHARACTERS=4;Jsonix.XML.Input.COMMENT=5;Jsonix.XML.Input.SPACE=6;Jsonix.XML.Input.START_DOCUMENT=7;Jsonix.XML.Input.END_DOCUMENT=8;Jsonix.XML.Input.ENTITY_REFERENCE=9;Jsonix.XML.Input.ATTRIBUTE=10;Jsonix.XML.Input.DTD=11;Jsonix.XML.Input.CDATA=12;Jsonix.XML.Input.NAMESPACE=13;Jsonix.XML.Input.NOTATION_DECLARATION=14;Jsonix.XML.Input.ENTITY_DECLARATION=15;
Jsonix.XML.Output=Jsonix.Class({document:null,node:null,nodes:null,xmldom:null,namespacePrefixes:null,namespacePrefixIndex:0,initialize:function(a){this.xmldom=window.ActiveXObject?new ActiveXObject("Microsoft.XMLDOM"):null;this.nodes=[];this.namespacePrefixes={"":""};if(Jsonix.Util.Type.isObject(a))if(Jsonix.Util.Type.isObject(a.namespacePrefixes))for(var b in a.namespacePrefixes)if(a.namespacePrefixes.hasOwnProperty(b))this.namespacePrefixes[b]=a.namespacePrefixes[b]},destroy:function(){this.xmldom=
null},writeStartDocument:function(){var a=Jsonix.DOM.createDocument();this.document=a;return this.push(a)},writeEndDocument:function(){return this.pop()},writeStartElement:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.localPart);var b=Jsonix.Util.Type.isString(a.namespaceURI)?a.namespaceURI:"",c=a.localPart;a=Jsonix.Util.StringUtils.isNotBlank(a.prefix)?a.prefix:this.getPrefix(b);c=a===""?c:a+":"+c;b=this.xmldom?this.xmldom.createNode(1,c,b):this.document.createElementNS(b,
c);this.peek().appendChild(b);return this.push(b)},writeEndElement:function(){return this.pop()},writeCharacters:function(a){a=this.xmldom?this.xmldom.createTextNode(a):this.document.createTextNode(a);this.peek().appendChild(a);return a},writeAttribute:function(a,b){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.localPart);Jsonix.Util.Ensure.ensureString(b);var c=Jsonix.Util.Type.isString(a.namespaceURI)?a.namespaceURI:"",d=a.localPart;a=Jsonix.Util.StringUtils.isNotBlank(a.prefix)?
a.prefix:this.getPrefix(c);a=a===""?d:a+":"+d;d=this.peek();if(c==="")d.setAttribute(a,b);else if(d.setAttributeNS)d.setAttributeNS(c,a,b);else if(this.xmldom){c=this.document.createNode(2,a,c);c.nodeValue=b;d.setAttributeNode(c)}else throw"setAttributeNS not implemented";},writeNode:function(a){a=Jsonix.Util.Type.exists(this.document.importNode)?this.document.importNode(a,true):a;this.peek().appendChild(a);return a},push:function(a){this.nodes.push(a);return a},peek:function(){return this.nodes[this.nodes.length-
1]},pop:function(){return this.nodes.pop()},getPrefix:function(a){var b=this.namespacePrefixes[a];if(!Jsonix.Util.Type.exists(b)){b="p"+this.namespacePrefixIndex++;this.namespacePrefixes[a]=b}return b},CLASS_NAME:"Jsonix.XML.Output"});Jsonix.Schema.XSD={};Jsonix.Schema.XSD.NAMESPACE_URI="http://www.w3.org/2001/XMLSchema";Jsonix.Schema.XSD.PREFIX="xsd";Jsonix.Schema.XSD.qname=function(a){Jsonix.Util.Ensure.ensureString(a);return new Jsonix.XML.QName(Jsonix.Schema.XSD.NAMESPACE_URI,a,Jsonix.Schema.XSD.PREFIX)};
Jsonix.Schema.XSD.AnyType=Jsonix.Class({typeName:Jsonix.Schema.XSD.qname("anyType"),initialize:function(){},isInstance:function(){throw"Abstract method [isInstance].";},CLASS_NAME:"Jsonix.Schema.XSD.AnyType"});
Jsonix.Schema.XSD.AnySimpleType=Jsonix.Class(Jsonix.Schema.XSD.AnyType,{typeName:Jsonix.Schema.XSD.qname("anySimpleType"),simpleType:true,print:function(){throw new Error("Abstract method [print].");},parse:function(){throw new Error("Abstract method [parse].");},unmarshal:function(a,b){a=b.getElementText();return Jsonix.Util.StringUtils.isNotBlank(a)?this.parse(a):null},marshal:function(a,b,c){Jsonix.Util.Type.exists(b)&&c.writeCharacters(this.print(b))},CLASS_NAME:"Jsonix.Schema.XSD.AnySimpleType"});
Jsonix.Schema.XSD.List=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:null,typeInfo:null,separator:" ",trimmedSeparator:" ",simpleType:true,initialize:function(a,b,c){Jsonix.Util.Ensure.ensureObject(a);this.typeInfo=a;if(Jsonix.Util.Type.exists(b))this.typeName=b;this.separator=Jsonix.Util.Type.isString(c)?c:" ";a=Jsonix.Util.StringUtils.trim(this.separator);this.trimmedSeparator=a.length===0?" ":a},print:function(a){if(!Jsonix.Util.Type.exists(a))return null;Jsonix.Util.Ensure.ensureArray(a);
for(var b="",c=0;c<a.length;c++){if(c>0)b+=this.separator;b+=this.typeInfo.print(a[c])}return b},parse:function(a){Jsonix.Util.Ensure.ensureString(a);a=a.split(this.trimmedSeparator);for(var b=[],c=0;c<a.length;c++)b.push(this.typeInfo.parse(Jsonix.Util.StringUtils.trim(a[c])));return b},CLASS_NAME:"Jsonix.Schema.XSD.List"});
Jsonix.Schema.XSD.String=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("string"),print:function(a){Jsonix.Util.Ensure.ensureString(a);return a},parse:function(a){Jsonix.Util.Ensure.ensureString(a);return a},isInstance:function(a){return Jsonix.Util.Type.isString(a)},CLASS_NAME:"Jsonix.Schema.XSD.String"});Jsonix.Schema.XSD.String.INSTANCE=new Jsonix.Schema.XSD.String;Jsonix.Schema.XSD.String.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.String.INSTANCE);
Jsonix.Schema.XSD.Strings=Jsonix.Class(Jsonix.Schema.XSD.List,{initialize:function(){Jsonix.Schema.XSD.List.prototype.initialize.apply(this,[Jsonix.Schema.XSD.String.INSTANCE,Jsonix.Schema.XSD.qname("strings")," "])},CLASS_NAME:"Jsonix.Schema.XSD.Strings"});Jsonix.Schema.XSD.Strings.INSTANCE=new Jsonix.Schema.XSD.Strings;Jsonix.Schema.XSD.NormalizedString=Jsonix.Class(Jsonix.Schema.XSD.String,{typeName:Jsonix.Schema.XSD.qname("normalizedString"),CLASS_NAME:"Jsonix.Schema.XSD.NormalizedString"});
Jsonix.Schema.XSD.NormalizedString.INSTANCE=new Jsonix.Schema.XSD.NormalizedString;Jsonix.Schema.XSD.NormalizedString.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NormalizedString.INSTANCE);Jsonix.Schema.XSD.Token=Jsonix.Class(Jsonix.Schema.XSD.NormalizedString,{typeName:Jsonix.Schema.XSD.qname("token"),CLASS_NAME:"Jsonix.Schema.XSD.Token"});Jsonix.Schema.XSD.Token.INSTANCE=new Jsonix.Schema.XSD.Token;Jsonix.Schema.XSD.Token.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Token.INSTANCE);
Jsonix.Schema.XSD.Language=Jsonix.Class(Jsonix.Schema.XSD.Token,{typeName:Jsonix.Schema.XSD.qname("language"),CLASS_NAME:"Jsonix.Schema.XSD.Language"});Jsonix.Schema.XSD.Language.INSTANCE=new Jsonix.Schema.XSD.Language;Jsonix.Schema.XSD.Language.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Language.INSTANCE);Jsonix.Schema.XSD.Name=Jsonix.Class(Jsonix.Schema.XSD.Token,{typeName:Jsonix.Schema.XSD.qname("Name"),CLASS_NAME:"Jsonix.Schema.XSD.Name"});Jsonix.Schema.XSD.Name.INSTANCE=new Jsonix.Schema.XSD.Name;
Jsonix.Schema.XSD.Name.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Name.INSTANCE);Jsonix.Schema.XSD.NCName=Jsonix.Class(Jsonix.Schema.XSD.Name,{typeName:Jsonix.Schema.XSD.qname("NCName"),CLASS_NAME:"Jsonix.Schema.XSD.NCName"});Jsonix.Schema.XSD.NCName.INSTANCE=new Jsonix.Schema.XSD.NCName;Jsonix.Schema.XSD.NCName.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NCName.INSTANCE);
Jsonix.Schema.XSD.NMToken=Jsonix.Class(Jsonix.Schema.XSD.Token,{typeName:Jsonix.Schema.XSD.qname("NMTOKEN"),CLASS_NAME:"Jsonix.Schema.XSD.NMToken"});Jsonix.Schema.XSD.NMToken.INSTANCE=new Jsonix.Schema.XSD.NMToken;Jsonix.Schema.XSD.NMTokens=Jsonix.Class(Jsonix.Schema.XSD.List,{initialize:function(){Jsonix.Schema.XSD.List.prototype.initialize.apply(this,[Jsonix.Schema.XSD.NMToken.INSTANCE,Jsonix.Schema.XSD.qname("NMTOKEN")," "])},CLASS_NAME:"Jsonix.Schema.XSD.NMTokens"});
Jsonix.Schema.XSD.NMTokens.INSTANCE=new Jsonix.Schema.XSD.NMTokens;
Jsonix.Schema.XSD.Boolean=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("boolean"),print:function(a){Jsonix.Util.Ensure.ensureBoolean(a);return a?"true":"false"},parse:function(a){Jsonix.Util.Ensure.ensureString(a);if(a==="true"||a==="1")return true;else if(a==="false"||a==="0")return false;else throw"Either [true], [1], [0] or [false] expected as boolean value.";},isInstance:function(a){return Jsonix.Util.Type.isBoolean(a)},CLASS_NAME:"Jsonix.Schema.XSD.Boolean"});
Jsonix.Schema.XSD.Boolean.INSTANCE=new Jsonix.Schema.XSD.Boolean;Jsonix.Schema.XSD.Boolean.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Boolean.INSTANCE);Jsonix.Schema.XSD.Base64Binary=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("base64Binary"),CLASS_NAME:"Jsonix.Schema.XSD.Base64Binary"});Jsonix.Schema.XSD.Base64Binary.INSTANCE=new Jsonix.Schema.XSD.Base64Binary;Jsonix.Schema.XSD.Base64Binary.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Base64Binary.INSTANCE);
Jsonix.Schema.XSD.HexBinary=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("hexBinary"),CLASS_NAME:"Jsonix.Schema.XSD.HexBinary"});Jsonix.Schema.XSD.HexBinary.INSTANCE=new Jsonix.Schema.XSD.HexBinary;Jsonix.Schema.XSD.HexBinary.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.HexBinary.INSTANCE);
Jsonix.Schema.XSD.Number=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("number"),print:function(a){Jsonix.Util.Ensure.ensureNumberOrNaN(a);return Jsonix.Util.Type.isNaN(a)?"NaN":a===Infinity?"INF":a===-Infinity?"-INF":String(a)},parse:function(a){Jsonix.Util.Ensure.ensureString(a);if(a==="-INF")return-Infinity;else if(a==="INF")return Infinity;else if(a==="NaN")return NaN;else{a=Number(a);Jsonix.Util.Ensure.ensureNumber(a);return a}},isInstance:function(a){return Jsonix.Util.Type.isNumberOrNaN(a)},
CLASS_NAME:"Jsonix.Schema.XSD.Number"});Jsonix.Schema.XSD.Number.INSTANCE=new Jsonix.Schema.XSD.Number;Jsonix.Schema.XSD.Number.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Number.INSTANCE);
Jsonix.Schema.XSD.Float=Jsonix.Class(Jsonix.Schema.XSD.Number,{typeName:Jsonix.Schema.XSD.qname("float"),isInstance:function(a){return Jsonix.Util.Type.isNaN(a)||a===-Infinity||a===Infinity||Jsonix.Util.Type.isNumber(a)&&a>=this.MIN_VALUE&&a<=this.MAX_VALUE},MIN_VALUE:-3.4028235E38,MAX_VALUE:3.4028235E38,CLASS_NAME:"Jsonix.Schema.XSD.Float"});Jsonix.Schema.XSD.Float.INSTANCE=new Jsonix.Schema.XSD.Float;Jsonix.Schema.XSD.Float.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Float.INSTANCE);
Jsonix.Schema.XSD.Decimal=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("decimal"),print:function(a){Jsonix.Util.Ensure.ensureNumber(a);return String(a)},parse:function(a){Jsonix.Util.Ensure.ensureString(a);a=Number(a);Jsonix.Util.Ensure.ensureNumber(a);return a},isInstance:function(a){return Jsonix.Util.Type.isNumber(a)},CLASS_NAME:"Jsonix.Schema.XSD.Decimal"});Jsonix.Schema.XSD.Decimal.INSTANCE=new Jsonix.Schema.XSD.Decimal;
Jsonix.Schema.XSD.Decimal.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Decimal.INSTANCE);
Jsonix.Schema.XSD.Integer=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("integer"),print:function(a){Jsonix.Util.Ensure.ensureInteger(a);return String(a)},parse:function(a){Jsonix.Util.Ensure.ensureString(a);a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},isInstance:function(a){return Jsonix.Util.NumberUtils.isInteger(a)&&a>=this.MIN_VALUE&&a<=this.MAX_VALUE},MIN_VALUE:-9223372036854775808,MAX_VALUE:9223372036854775E3,CLASS_NAME:"Jsonix.Schema.XSD.Integer"});
Jsonix.Schema.XSD.Integer.INSTANCE=new Jsonix.Schema.XSD.Integer;Jsonix.Schema.XSD.Integer.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Integer.INSTANCE);Jsonix.Schema.XSD.NonPositiveInteger=Jsonix.Class(Jsonix.Schema.XSD.Integer,{typeName:Jsonix.Schema.XSD.qname("nonPositiveInteger"),MIN_VALUE:-9223372036854775808,MAX_VALUE:0,CLASS_NAME:"Jsonix.Schema.XSD.NonPositiveInteger"});Jsonix.Schema.XSD.NonPositiveInteger.INSTANCE=new Jsonix.Schema.XSD.NonPositiveInteger;
Jsonix.Schema.XSD.NonPositiveInteger.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NonPositiveInteger.INSTANCE);Jsonix.Schema.XSD.NegativeInteger=Jsonix.Class(Jsonix.Schema.XSD.NonPositiveInteger,{typeName:Jsonix.Schema.XSD.qname("negativeInteger"),MIN_VALUE:-9223372036854775808,MAX_VALUE:-1,CLASS_NAME:"Jsonix.Schema.XSD.NegativeInteger"});Jsonix.Schema.XSD.NegativeInteger.INSTANCE=new Jsonix.Schema.XSD.NegativeInteger;Jsonix.Schema.XSD.NegativeInteger.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NegativeInteger.INSTANCE);
Jsonix.Schema.XSD.Long=Jsonix.Class(Jsonix.Schema.XSD.Integer,{typeName:Jsonix.Schema.XSD.qname("long"),MIN_VALUE:-9223372036854775808,MAX_VALUE:9223372036854775E3,CLASS_NAME:"Jsonix.Schema.XSD.Long"});Jsonix.Schema.XSD.Long.INSTANCE=new Jsonix.Schema.XSD.Long;Jsonix.Schema.XSD.Long.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Long.INSTANCE);Jsonix.Schema.XSD.Int=Jsonix.Class(Jsonix.Schema.XSD.Long,{typeName:Jsonix.Schema.XSD.qname("int"),MIN_VALUE:-2147483648,MAX_VALUE:2147483647,CLASS_NAME:"Jsonix.Schema.XSD.Int"});
Jsonix.Schema.XSD.Int.INSTANCE=new Jsonix.Schema.XSD.Int;Jsonix.Schema.XSD.Int.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Int.INSTANCE);Jsonix.Schema.XSD.Short=Jsonix.Class(Jsonix.Schema.XSD.Int,{typeName:Jsonix.Schema.XSD.qname("short"),MIN_VALUE:-32768,MAX_VALUE:32767,CLASS_NAME:"Jsonix.Schema.XSD.Short"});Jsonix.Schema.XSD.Short.INSTANCE=new Jsonix.Schema.XSD.Short;Jsonix.Schema.XSD.Short.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Short.INSTANCE);
Jsonix.Schema.XSD.Byte=Jsonix.Class(Jsonix.Schema.XSD.Short,{typeName:Jsonix.Schema.XSD.qname("byte"),MIN_VALUE:-128,MAX_VALUE:127,CLASS_NAME:"Jsonix.Schema.XSD.Byte"});Jsonix.Schema.XSD.Byte.INSTANCE=new Jsonix.Schema.XSD.Byte;Jsonix.Schema.XSD.Byte.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Byte.INSTANCE);Jsonix.Schema.XSD.NonNegativeInteger=Jsonix.Class(Jsonix.Schema.XSD.Integer,{typeName:Jsonix.Schema.XSD.qname("nonNegativeInteger"),MIN_VALUE:0,MAX_VALUE:9223372036854775E3,CLASS_NAME:"Jsonix.Schema.XSD.NonNegativeInteger"});
Jsonix.Schema.XSD.NonNegativeInteger.INSTANCE=new Jsonix.Schema.XSD.NonNegativeInteger;Jsonix.Schema.XSD.NonNegativeInteger.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NonNegativeInteger.INSTANCE);Jsonix.Schema.XSD.UnsignedLong=Jsonix.Class(Jsonix.Schema.XSD.NonNegativeInteger,{typeName:Jsonix.Schema.XSD.qname("unsignedLong"),MIN_VALUE:0,MAX_VALUE:1.8446744073709552E19,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedLong"});Jsonix.Schema.XSD.UnsignedLong.INSTANCE=new Jsonix.Schema.XSD.UnsignedLong;
Jsonix.Schema.XSD.UnsignedLong.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedLong.INSTANCE);Jsonix.Schema.XSD.UnsignedInt=Jsonix.Class(Jsonix.Schema.XSD.UnsignedLong,{typeName:Jsonix.Schema.XSD.qname("unsignedInt"),MIN_VALUE:0,MAX_VALUE:4294967295,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedInt"});Jsonix.Schema.XSD.UnsignedInt.INSTANCE=new Jsonix.Schema.XSD.UnsignedInt;Jsonix.Schema.XSD.UnsignedInt.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedInt.INSTANCE);
Jsonix.Schema.XSD.UnsignedShort=Jsonix.Class(Jsonix.Schema.XSD.UnsignedInt,{typeName:Jsonix.Schema.XSD.qname("unsignedShort"),MIN_VALUE:0,MAX_VALUE:65535,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedShort"});Jsonix.Schema.XSD.UnsignedShort.INSTANCE=new Jsonix.Schema.XSD.UnsignedShort;Jsonix.Schema.XSD.UnsignedShort.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedShort.INSTANCE);
Jsonix.Schema.XSD.UnsignedByte=Jsonix.Class(Jsonix.Schema.XSD.UnsignedShort,{typeName:Jsonix.Schema.XSD.qname("unsignedByte"),MIN_VALUE:0,MAX_VALUE:255,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedByte"});Jsonix.Schema.XSD.UnsignedByte.INSTANCE=new Jsonix.Schema.XSD.UnsignedByte;Jsonix.Schema.XSD.UnsignedByte.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedByte.INSTANCE);
Jsonix.Schema.XSD.PositiveInteger=Jsonix.Class(Jsonix.Schema.XSD.NonNegativeInteger,{typeName:Jsonix.Schema.XSD.qname("positiveInteger"),MIN_VALUE:1,MAX_VALUE:9223372036854775E3,CLASS_NAME:"Jsonix.Schema.XSD.PositiveInteger"});Jsonix.Schema.XSD.PositiveInteger.INSTANCE=new Jsonix.Schema.XSD.PositiveInteger;Jsonix.Schema.XSD.PositiveInteger.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.PositiveInteger.INSTANCE);
Jsonix.Schema.XSD.Double=Jsonix.Class(Jsonix.Schema.XSD.Number,{typeName:Jsonix.Schema.XSD.qname("double"),isInstance:function(a){return Jsonix.Util.Type.isNaN(a)||a===-Infinity||a===Infinity||Jsonix.Util.Type.isNumber(a)&&a>=this.MIN_VALUE&&a<=this.MAX_VALUE},MIN_VALUE:-1.7976931348623157E308,MAX_VALUE:1.7976931348623157E308,CLASS_NAME:"Jsonix.Schema.XSD.Double"});Jsonix.Schema.XSD.Double.INSTANCE=new Jsonix.Schema.XSD.Double;Jsonix.Schema.XSD.Double.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Double.INSTANCE);
Jsonix.Schema.XSD.AnyURI=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("anyURI"),print:function(a){Jsonix.Util.Ensure.ensureString(a);return a},parse:function(a){Jsonix.Util.Ensure.ensureString(a);return a},isInstance:function(a){return Jsonix.Util.Type.isString(a)},CLASS_NAME:"Jsonix.Schema.XSD.AnyURI"});Jsonix.Schema.XSD.AnyURI.INSTANCE=new Jsonix.Schema.XSD.AnyURI;Jsonix.Schema.XSD.AnyURI.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.AnyURI.INSTANCE);
Jsonix.Schema.XSD.QName=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("QName"),CLASS_NAME:"Jsonix.Schema.XSD.QName"});Jsonix.Schema.XSD.QName.INSTANCE=new Jsonix.Schema.XSD.QName;Jsonix.Schema.XSD.QName.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.QName.INSTANCE);
Jsonix.Schema.XSD.Calendar=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("calendar"),parse:function(a){Jsonix.Util.Ensure.ensureString(a);var b=a.charAt(0)==="-"?a.substring(1):a;if(b.length>=19&&b.charAt(4)==="-"&&b.charAt(7)==="-"&&b.charAt(10)==="T"&&b.charAt(13)===":"&&b.charAt(16)===":")return this.parseDateTime(a);else if(b.length>=10&&b.charAt(4)==="-"&&b.charAt(7)==="-")return this.parseDate(a);else if(b.length>=8&&b.charAt(2)===":"&&b.charAt(5)===":")return this.parseTime(a);
else throw"Value ["+a+"] does not match dateTime, date or time patterns.";},parseDateTime:function(a){Jsonix.Util.Ensure.ensureString(a);var b=a.charAt(0)==="-",c=b?-1:1;a=b?a.substring(1):a;if(a.length<19||a.charAt(4)!=="-"||a.charAt(7)!=="-"||a.charAt(10)!=="T"||a.charAt(13)!==":"||a.charAt(16)!==":")throw"Date time string ["+a+"] must be a string in format ['-'? yyyy '-' mm '-' dd 'T' hh ':' mm ':' ss ('.' s+)? (zzzzzz)?].";var d;b=a.indexOf("+",19);if(b>=0)d=b;else{b=a.indexOf("-",19);if(b>=0)d=
b;else{b=a.indexOf("Z",19);d=b>=0?b:a.length}}var e=d>0&&d<a.length,f=a.substring(0,10);b=e?a.substring(11,d):a.substring(11);a=e?a.substring(d):"";f=this.parseDateString(f);b=this.parseTimeString(b);a=this.parseTimeZoneString(a);return Jsonix.XML.Calendar.fromObject({year:c*f.year,month:f.month,day:f.day,hour:b.hour,minute:b.minute,second:b.second,fractionalSecond:b.fractionalSecond,timezone:a})},parseDate:function(a){Jsonix.Util.Ensure.ensureString(a);var b=a.charAt(0)==="-",c=b?-1:1;b=b?a.substring(1):
a;var d;d=b.indexOf("+",10);if(d>=0)d=d;else{d=b.indexOf("-",10);if(d>=0)d=d;else{d=b.indexOf("Z",10);d=d>=0?d:b.length}}var e=d>0&&d<b.length;b=this.parseDateString(e?b.substring(0,d):b);a=this.parseTimeZoneString(e?a.substring(d):"");return Jsonix.XML.Calendar.fromObject({year:c*b.year,month:b.month,day:b.day,timezone:a})},parseTime:function(a){Jsonix.Util.Ensure.ensureString(a);var b,c=a.indexOf("+",7);if(c>=0)b=c;else{c=a.indexOf("-",7);if(c>=0)b=c;else{c=a.indexOf("Z",7);b=c>=0?c:a.length}}var d=
b>0&&b<a.length;c=this.parseTimeString(d?a.substring(0,b):a);a=this.parseTimeZoneString(d?a.substring(b):"");return Jsonix.XML.Calendar.fromObject({hour:c.hour,minute:c.minute,second:c.second,fractionalSecond:c.fractionalSecond,timezone:a})},parseDateString:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==10)throw"Date string ["+a+"] must be 10 characters long.";if(a.charAt(4)!=="-"||a.charAt(7)!=="-")throw"Date string ["+a+"] must be a string in format [yyyy '-' mm '-' ss ].";var b=this.parseYear(a.substring(0,
4)),c=this.parseMonth(a.substring(5,7));a=this.parseDay(a.substring(8,10));return{year:b,month:c,day:a}},parseTimeString:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length<8||a.charAt(2)!==":"||a.charAt(5)!==":")throw"Time string ["+a+"] must be a string in format [hh ':' mm ':' ss ('.' s+)?].";var b=a.substring(0,2),c=a.substring(3,5),d=a.substring(6,8);a=a.length>=9?a.substring(8):"";b=this.parseHour(b);c=this.parseHour(c);d=this.parseSecond(d);a=this.parseFractionalSecond(a);return{hour:b,
minute:c,second:d,fractionalSecond:a}},parseTimeZoneString:function(a){Jsonix.Util.Ensure.ensureString(a);if(a==="")return NaN;else if(a==="Z")return 0;else{if(a.length!==6)throw"Time zone must be an empty string, 'Z' or a string in format [('+' | '-') hh ':' mm].";var b=a.charAt(0);if(b==="+")b=1;else if(b==="-")b=-1;else throw"First character of the time zone ["+a+"] must be '+' or '-'.";var c=this.parseHour(a.substring(1,3));a=this.parseMinute(a.substring(4,6));return b*(c*60+a)}},parseYear:function(a){Jsonix.Util.Ensure.ensureString(a);
if(a.length!==4)throw"Year ["+a+"] must be a four-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseMonth:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==2)throw"Month ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseDay:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==2)throw"Day ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseHour:function(a){Jsonix.Util.Ensure.ensureString(a);
if(a.length!==2)throw"Hour ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseMinute:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==2)throw"Minute ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseSecond:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==2)throw"Second ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureNumber(a);return a},parseFractionalSecond:function(a){Jsonix.Util.Ensure.ensureString(a);
if(a==="")return 0;else{a=Number(a);Jsonix.Util.Ensure.ensureNumber(a);return a}},print:function(a){Jsonix.Util.Ensure.ensureObject(a);if(Jsonix.Util.NumberUtils.isInteger(a.year)&&Jsonix.Util.NumberUtils.isInteger(a.month)&&Jsonix.Util.NumberUtils.isInteger(a.day)&&Jsonix.Util.NumberUtils.isInteger(a.hour)&&Jsonix.Util.NumberUtils.isInteger(a.minute)&&Jsonix.Util.NumberUtils.isInteger(a.second))return this.printDateTime(a);else if(Jsonix.Util.NumberUtils.isInteger(a.year)&&Jsonix.Util.NumberUtils.isInteger(a.month)&&
Jsonix.Util.NumberUtils.isInteger(a.day))return this.printDate(a);else if(Jsonix.Util.NumberUtils.isInteger(a.hour)&&Jsonix.Util.NumberUtils.isInteger(a.minute)&&Jsonix.Util.NumberUtils.isInteger(a.second))return this.printTime(a);else throw"Value ["+a+"] is not recognized as dateTime, date or time.";},printDateTime:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureInteger(a.year);Jsonix.Util.Ensure.ensureInteger(a.month);Jsonix.Util.Ensure.ensureInteger(a.day);Jsonix.Util.Ensure.ensureInteger(a.hour);
Jsonix.Util.Ensure.ensureInteger(a.minute);Jsonix.Util.Ensure.ensureNumber(a.second);Jsonix.Util.Type.exists(a.fractionalString)&&Jsonix.Util.Ensure.ensureNumber(a.fractionalString);Jsonix.Util.Type.exists(a.timezone)&&!Jsonix.Util.Type.isNaN(a.timezone)&&Jsonix.Util.Ensure.ensureInteger(a.timezone);var b=this.printDateString(a);b+="T";b+=this.printTimeString(a);if(Jsonix.Util.Type.exists(a.timezone))b+=this.printTimeZoneString(a.timezone);return b},printDate:function(a){Jsonix.Util.Ensure.ensureObject(a);
Jsonix.Util.Ensure.ensureNumber(a.year);Jsonix.Util.Ensure.ensureNumber(a.month);Jsonix.Util.Ensure.ensureNumber(a.day);Jsonix.Util.Type.exists(a.timezone)&&!Jsonix.Util.Type.isNaN(a.timezone)&&Jsonix.Util.Ensure.ensureInteger(a.timezone);var b=this.printDateString(a);if(Jsonix.Util.Type.exists(a.timezone))b+=this.printTimeZoneString(a.timezone);return b},printTime:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureNumber(a.hour);Jsonix.Util.Ensure.ensureNumber(a.minute);Jsonix.Util.Ensure.ensureNumber(a.second);
Jsonix.Util.Type.exists(a.fractionalString)&&Jsonix.Util.Ensure.ensureNumber(a.fractionalString);Jsonix.Util.Type.exists(a.timezone)&&!Jsonix.Util.Type.isNaN(a.timezone)&&Jsonix.Util.Ensure.ensureInteger(a.timezone);var b=this.printTimeString(a);if(Jsonix.Util.Type.exists(a.timezone))b+=this.printTimeZoneString(a.timezone);return b},printDateString:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureInteger(a.year);Jsonix.Util.Ensure.ensureInteger(a.month);Jsonix.Util.Ensure.ensureInteger(a.day);
return(a.year<0?"-"+this.printYear(-a.year):this.printYear(a.year))+"-"+this.printMonth(a.month)+"-"+this.printDay(a.day)},printTimeString:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureInteger(a.hour);Jsonix.Util.Ensure.ensureInteger(a.minute);Jsonix.Util.Ensure.ensureInteger(a.second);Jsonix.Util.Type.exists(a.fractionalSecond)&&Jsonix.Util.Ensure.ensureNumber(a.fractionalSecond);var b=this.printHour(a.hour);b+=":";b+=this.printMinute(a.minute);b+=":";b+=this.printSecond(a.second);
if(Jsonix.Util.Type.exists(a.fractionalSecond))b+=this.printFractionalSecond(a.fractionalSecond);return b},printTimeZoneString:function(a){if(!Jsonix.Util.Type.exists(a)||Jsonix.Util.Type.isNaN(a))return"";else{Jsonix.Util.Ensure.ensureInteger(a);var b=a<0?-1:a>0?1:0,c=a*b;a=c%60;c=Math.floor(c/60);var d;if(b===0)return"Z";else{if(b>0)d="+";else if(b<0)d="-";d+=this.printHour(c);d+=":";d+=this.printMinute(a);return d}}},printYear:function(a){return this.printInteger(a,4)},printMonth:function(a){return this.printInteger(a,
2)},printDay:function(a){return this.printInteger(a,2)},printHour:function(a){return this.printInteger(a,2)},printMinute:function(a){return this.printInteger(a,2)},printSecond:function(a){return this.printInteger(a,2)},printFractionalSecond:function(a){Jsonix.Util.Ensure.ensureNumber(a);if(a<0||a>=1)throw"Fractional second ["+a+"] must be between 0 and 1.";else if(a===0)return"";else{a=String(a);var b=a.indexOf(".");return b<0?"":a.substring(b)}},printInteger:function(a,b){Jsonix.Util.Ensure.ensureInteger(a);
Jsonix.Util.Ensure.ensureInteger(b);if(b<=0)throw"Length ["+a+"] must be positive.";if(a<0)throw"Value ["+a+"] must not be negative.";if(a>=Math.pow(10,b))throw"Value ["+a+"] must be less than ["+Math.pow(10,b)+"].";a=String(a);for(var c=a.length;c<b;c++)a="0"+a;return a},isInstance:function(a){return Jsonix.Util.Type.isObject(a)&&(Jsonix.Util.NumberUtils.isInteger(a.year)&&Jsonix.Util.NumberUtils.isInteger(a.month)&&Jsonix.Util.NumberUtils.isInteger(a.day)||Jsonix.Util.NumberUtils.isInteger(a.hour)&&
Jsonix.Util.NumberUtils.isInteger(a.minute)&&Jsonix.Util.NumberUtils.isInteger(a.second))},CLASS_NAME:"Jsonix.Schema.XSD.Calendar"});Jsonix.Schema.XSD.Calendar.INSTANCE=new Jsonix.Schema.XSD.Calendar;Jsonix.Schema.XSD.Calendar.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Calendar.INSTANCE);Jsonix.Schema.XSD.Duration=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("duration"),CLASS_NAME:"Jsonix.Schema.XSD.Duration"});
Jsonix.Schema.XSD.Duration.INSTANCE=new Jsonix.Schema.XSD.Duration;Jsonix.Schema.XSD.Duration.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Duration.INSTANCE);
Jsonix.Schema.XSD.DateTime=Jsonix.Class(Jsonix.Schema.XSD.Calendar,{typeName:Jsonix.Schema.XSD.qname("dateTime"),parse:function(a){a=this.parseDateTime(a);var b=new Date;b.setFullYear(a.year);b.setMonth(a.month-1);b.setDate(a.day);b.setHours(a.hour);b.setMinutes(a.minute);b.setSeconds(a.second);Jsonix.Util.Type.isNumber(a.fractionalSecond)&&b.setMilliseconds(Math.floor(1E3*a.fractionalSecond));return Jsonix.Util.NumberUtils.isInteger(a.timezone)?new Date(b.getTime()-6E4*b.getTimezoneOffset()+a.timezone*
6E4):b},print:function(a){Jsonix.Util.Ensure.ensureDate(a);return this.printDateTime(new Jsonix.XML.Calendar({year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds(),fractionalSecond:a.getMilliseconds()/1E3}))},isInstance:function(a){return Jsonix.Util.Type.isDate(a)},CLASS_NAME:"Jsonix.Schema.XSD.DateTime"});Jsonix.Schema.XSD.DateTime.INSTANCE=new Jsonix.Schema.XSD.DateTime;Jsonix.Schema.XSD.DateTime.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.DateTime.INSTANCE);
Jsonix.Schema.XSD.Time=Jsonix.Class(Jsonix.Schema.XSD.Calendar,{typeName:Jsonix.Schema.XSD.qname("time"),parse:function(a){a=this.parseTime(a);if(Jsonix.Util.NumberUtils.isInteger(a.timezone)){var b=new Date(70,0,1,a.hour,a.minute,a.second);Jsonix.Util.Type.isNumber(a.fractionalSecond)&&b.setMilliseconds(Math.floor(1E3*a.fractionalSecond));a=b.getTime()-a.timezone*6E4;return new Date(a-6E4*b.getTimezoneOffset())}else{b=new Date(70,0,1,a.hour,a.minute,a.second);Jsonix.Util.Type.isNumber(a.fractionalSecond)&&
b.setMilliseconds(Math.floor(1E3*a.fractionalSecond));return b}},print:function(a){Jsonix.Util.Ensure.ensureDate(a);var b=a.getTime();if(b<=-86400000&&b>=864E5)throw"Invalid time ["+a+"].";if(b>=0)return this.printTime(new Jsonix.XML.Calendar({hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds(),fractionalSecond:a.getMilliseconds()/1E3}));else{b=Math.ceil(-b/36E5);return this.printTime(new Jsonix.XML.Calendar({hour:(a.getUTCHours()+b)%24,minute:a.getUTCMinutes(),second:a.getUTCSeconds(),
fractionalSecond:a.getUTCMilliseconds()/1E3,timezone:b*60}))}},isInstance:function(a){return Jsonix.Util.Type.isDate(a)&&a.getTime()>-86400000&&a.getTime()<864E5},CLASS_NAME:"Jsonix.Schema.XSD.Time"});Jsonix.Schema.XSD.Time.INSTANCE=new Jsonix.Schema.XSD.Time;Jsonix.Schema.XSD.Time.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Time.INSTANCE);
Jsonix.Schema.XSD.Date=Jsonix.Class(Jsonix.Schema.XSD.Calendar,{typeName:Jsonix.Schema.XSD.qname("date"),parse:function(a){a=this.parseDate(a);if(Jsonix.Util.NumberUtils.isInteger(a.timezone)){var b=new Date;b.setFullYear(a.year);b.setMonth(a.month-1);b.setDate(a.day);b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);return new Date(b.getTime()-6E4*b.getTimezoneOffset()+a.timezone*6E4)}else{b=new Date;b.setFullYear(a.year);b.setMonth(a.month-1);b.setDate(a.day);b.setHours(0);b.setMinutes(0);
b.setSeconds(0);b.setMilliseconds(0);return b}},print:function(a){Jsonix.Util.Ensure.ensureDate(a);var b=new Date(a.getTime());b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);b=a.getTime()-b.getTime();if(b===0)return this.printDate(new Jsonix.XML.Calendar({year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate()}));else{b=b+6E4*a.getTimezoneOffset();if(b<=432E5)return this.printDate(new Jsonix.XML.Calendar({year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),timezone:Math.floor(b/
6E4)}));else{a=new Date(a.getTime()+864E5);return this.printDate(new Jsonix.XML.Calendar({year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),timezone:Math.floor(b/6E4)-1440}))}}},isInstance:function(a){return Jsonix.Util.Type.isDate(a)},CLASS_NAME:"Jsonix.Schema.XSD.Date"});Jsonix.Schema.XSD.Date.INSTANCE=new Jsonix.Schema.XSD.Date;Jsonix.Schema.XSD.Date.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Date.INSTANCE);
Jsonix.Schema.XSD.GYearMonth=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gYearMonth"),CLASS_NAME:"Jsonix.Schema.XSD.GYearMonth"});Jsonix.Schema.XSD.GYearMonth.INSTANCE=new Jsonix.Schema.XSD.GYearMonth;Jsonix.Schema.XSD.GYearMonth.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GYearMonth.INSTANCE);Jsonix.Schema.XSD.GYear=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gYear"),CLASS_NAME:"Jsonix.Schema.XSD.GYear"});
Jsonix.Schema.XSD.GYear.INSTANCE=new Jsonix.Schema.XSD.GYear;Jsonix.Schema.XSD.GYear.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GYear.INSTANCE);Jsonix.Schema.XSD.GMonthDay=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gMonthDay"),CLASS_NAME:"Jsonix.Schema.XSD.GMonthDay"});Jsonix.Schema.XSD.GMonthDay.INSTANCE=new Jsonix.Schema.XSD.GMonthDay;Jsonix.Schema.XSD.GMonthDay.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GMonthDay.INSTANCE);
Jsonix.Schema.XSD.GDay=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gDay"),CLASS_NAME:"Jsonix.Schema.XSD.GDay"});Jsonix.Schema.XSD.GDay.INSTANCE=new Jsonix.Schema.XSD.GDay;Jsonix.Schema.XSD.GDay.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GDay.INSTANCE);Jsonix.Schema.XSD.GMonth=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gMonth"),CLASS_NAME:"Jsonix.Schema.XSD.GMonth"});Jsonix.Schema.XSD.GMonth.INSTANCE=new Jsonix.Schema.XSD.GMonth;
Jsonix.Schema.XSD.GMonth.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GMonth.INSTANCE);
Jsonix.Model.ClassInfo=Jsonix.Class({name:null,baseTypeInfo:null,properties:null,structure:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.name);this.name=a.name;if(Jsonix.Util.Type.exists(a.baseTypeInfo)){Jsonix.Util.Ensure.ensureObject(a.baseTypeInfo);this.baseTypeInfo=a.baseTypeInfo}this.properties=[];if(Jsonix.Util.Type.exists(a.properties)){Jsonix.Util.Ensure.ensureArray(a.properties);for(var b=0;b<a.properties.length;b++)this.properties[b]=a.properties[b]}},
destroy:function(){},build:function(a){if(this.structure===null){var b={elements:null,attributes:{},anyAttribute:null,value:null,any:null};Jsonix.Util.Type.exists(this.baseTypeInfo)&&this.baseTypeInfo.buildStructure(a,b);this.buildStructure(a,b);this.structure=b}},buildStructure:function(a,b){for(var c=0;c<this.properties.length;c++)this.properties[c].buildStructure(a,b)},unmarshal:function(a,b){this.build(a);var c={};if(b.eventType!==1)throw"Parser must be on START_ELEMENT to read a class info.";
if(Jsonix.Util.Type.exists(this.structure.attributes)){var d=b.getAttributeCount();if(d!==0)for(var e=0;e<d;e++){var f=b.getAttributeName(e).key;Jsonix.Util.Type.exists(this.structure.attributes[f])&&this.unmarshalProperty(a,b,this.structure.attributes[f],c)}}Jsonix.Util.Type.exists(this.structure.anyAttribute)&&this.unmarshalProperty(a,b,this.structure.anyAttribute,c);if(Jsonix.Util.Type.exists(this.structure.elements))for(d=b.next();d!==Jsonix.XML.Input.END_ELEMENT;){if(d===Jsonix.XML.Input.START_ELEMENT){d=
b.getName().key;if(Jsonix.Util.Type.exists(this.structure.elements[d]))this.unmarshalProperty(a,b,this.structure.elements[d],c);else if(Jsonix.Util.Type.exists(this.structure.any))this.unmarshalProperty(a,b,this.structure.any,c);else throw"Unexpected element ["+d+"].";}else if((d===Jsonix.XML.Input.CHARACTERS||d===Jsonix.XML.Input.CDATA||d===Jsonix.XML.Input.ENTITY_REFERENCE)&&Jsonix.Util.Type.exists(this.structure.mixed))this.unmarshalProperty(a,b,this.structure.mixed,c);else if(!(d===Jsonix.XML.Input.SPACE||
d===Jsonix.XML.Input.COMMENT||d===Jsonix.XML.Input.PROCESSING_INSTRUCTION))throw"Illegal state: unexpected event type ["+d+"].";d=b.next()}else Jsonix.Util.Type.exists(this.structure.value)?this.unmarshalProperty(a,b,this.structure.value,c):b.nextTag();if(b.eventType!==2)throw"Illegal state: must be END_ELEMENT.";return c},unmarshalProperty:function(a,b,c,d){a=c.unmarshal(a,this,b);c.setProperty(d,a)},marshal:function(a,b,c){Jsonix.Util.Type.exists(this.baseTypeInfo)&&this.baseTypeInfo.marshal(a,
b,c);for(var d=0;d<this.properties.length;d++){var e=this.properties[d],f=b[e.name];Jsonix.Util.Type.exists(f)&&e.marshal(a,this,f,c)}},isInstance:function(a){return Jsonix.Util.Type.isObject(a)&&Jsonix.Util.Type.isString(a.TYPE_NAME)&&a.TYPE_NAME===this.name}});
Jsonix.Model.PropertyInfo=Jsonix.Class({name:null,collection:false,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.name);this.name=a.name;this.collection=Jsonix.Util.Type.isBoolean(a.collection)?a.collection:false},buildStructure:function(){throw"Abstract method [buildStructure].";},setProperty:function(a,b){if(Jsonix.Util.Type.exists(b))if(this.collection){Jsonix.Util.Ensure.ensureArray(b,"Collection property requires an array value.");Jsonix.Util.Type.exists(a[this.name])||
(a[this.name]=[]);for(var c=0;c<b.length;c++)a[this.name].push(b[c])}else a[this.name]=b},CLASS_NAME:"Jsonix.Model.PropertyInfo"});
Jsonix.Model.AnyAttributePropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a])},unmarshal:function(a,b,c){a=c.getAttributeCount();if(a===0)return null;else{b={};for(var d=0;d<a;d++){var e=c.getAttributeName(d),f=c.getAttributeValue(d);if(Jsonix.Util.Type.isString(f))b[e.key]=f}return b}},marshal:function(a,b,c,d){if(Jsonix.Util.Type.isObject(c))for(var e in c)if(c.hasOwnProperty(e)){a=
c[e];Jsonix.Util.Type.isString(a)&&d.writeAttribute(Jsonix.XML.QName.fromString(e),a)}},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);b.anyAttribute=this},CLASS_NAME:"Jsonix.Model.AnyAttributePropertyInfo"});
Jsonix.Model.SingleTypePropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{typeInfo:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureObject(a.typeInfo);this.typeInfo=a.typeInfo},CLASS_NAME:"Jsonix.Model.SingleTypePropertyInfo"});
Jsonix.Model.AttributePropertyInfo=Jsonix.Class(Jsonix.Model.SingleTypePropertyInfo,{attributeName:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.SingleTypePropertyInfo.prototype.initialize.apply(this,[a]);this.attributeName=Jsonix.Util.Type.isObject(a.attributeName)?a.attributeName:new Jsonix.XML.QName(this.name)},unmarshal:function(a,b,c){a=c.getAttributeCount();b=null;for(var d=0;d<a;d++)if(this.attributeName.key===c.getAttributeName(d).key){var e=c.getAttributeValue(d);
if(Jsonix.Util.Type.isString(e))b=this.typeInfo.parse(e)}return b},marshal:function(a,b,c,d){Jsonix.Util.Type.exists(c)&&d.writeAttribute(this.attributeName,this.typeInfo.print(c))},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);Jsonix.Util.Ensure.ensureObject(b.attributes);b.attributes[this.attributeName.key]=this},CLASS_NAME:"Jsonix.Model.AttributePropertyInfo"});
Jsonix.Model.ValuePropertyInfo=Jsonix.Class(Jsonix.Model.SingleTypePropertyInfo,{initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.SingleTypePropertyInfo.prototype.initialize.apply(this,[a])},unmarshal:function(a,b,c){a=c.getElementText();return Jsonix.Util.StringUtils.isNotBlank(a)?this.typeInfo.parse(a):null},marshal:function(a,b,c,d){Jsonix.Util.Type.exists(c)&&d.writeCharacters(this.typeInfo.print(c))},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);if(Jsonix.Util.Type.exists(b.elements))throw"The structure already defines element mappings, it cannot define a value property.";
else b.value=this},CLASS_NAME:"Jsonix.Model.ValuePropertyInfo"});
Jsonix.Model.AbstractElementsPropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{wrapperElementName:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a]);this.wrapperElementName=Jsonix.Util.Type.isObject(a.wrapperElementName)?a.wrapperElementName:null},unmarshal:function(a,b,c){var d=null,e=this;b=function(f){if(e.collection){if(d===null)d=[];d.push(f)}else if(d===null)d=f;else throw"Value already set.";};Jsonix.Util.Type.exists(this.wrapperElementName)?
this.unmarshalWrapperElement(a,c,b):this.unmarshalElement(a,c,b);return d},unmarshalWrapperElement:function(a,b,c){for(var d=b.next();d!==Jsonix.XML.Input.END_ELEMENT;){if(d===Jsonix.XML.Input.START_ELEMENT)this.unmarshalElement(a,b,c);else if(!(d===Jsonix.XML.Input.SPACE||d===Jsonix.XML.Input.COMMENT||d===Jsonix.XML.Input.PROCESSING_INSTRUCTION))throw"Illegal state: unexpected event type ["+d+"].";d=b.next()}},unmarshalElement:function(){throw"Abstract method [unmarshalElement].";},marshal:function(a,
b,c,d){if(Jsonix.Util.Type.exists(c)){Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeStartElement(this.wrapperElementName);if(this.collection){Jsonix.Util.Ensure.ensureArray(c);for(b=0;b<c.length;b++)this.marshalElement(a,c[b],d)}else this.marshalElement(a,c,d);Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeEndElement()}},marshalElement:function(){throw"Abstract method [marshalElement].";},marshalElementTypeInfo:function(a,b,c,d,e){e.writeStartElement(c);d.marshal(a,b,e);e.writeEndElement()},
buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);if(Jsonix.Util.Type.exists(b.value))throw"The structure already defines a value property.";else if(!Jsonix.Util.Type.exists(b.elements))b.elements={};if(Jsonix.Util.Type.exists(this.wrapperElementName))b.elements[this.wrapperElementName.key]=this;else this.buildStructureElements(a,b)},buildStructureElements:function(){throw"Abstract method [buildStructureElements].";},CLASS_NAME:"Jsonix.Model.AbstractElementsPropertyInfo"});
Jsonix.Model.ElementPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementsPropertyInfo,{typeInfo:null,elementName:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureObject(a.typeInfo);this.typeInfo=a.typeInfo;this.elementName=Jsonix.Util.Type.isObject(a.elementName)?a.elementName:new Jsonix.XML.QName(this.name)},unmarshalElement:function(a,b,c){return c(this.typeInfo.unmarshal(a,b))},
marshalElement:function(a,b,c){this.marshalElementTypeInfo(a,b,this.elementName,this.typeInfo,c)},buildStructureElements:function(a,b){b.elements[this.elementName.key]=this},CLASS_NAME:"Jsonix.Model.ElementPropertyInfo"});
Jsonix.Model.ElementsPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementsPropertyInfo,{elementTypeInfos:null,elementTypeInfosMap:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureArray(a.elementTypeInfos);this.elementTypeInfos=a.elementTypeInfos;this.elementTypeInfosMap={};for(a=0;a<this.elementTypeInfos.length;a++){var b=this.elementTypeInfos[a];Jsonix.Util.Ensure.ensureObject(b);
this.elementTypeInfosMap[b.elementName.key]=b.typeInfo}},unmarshalElement:function(a,b,c){var d=b.getName().key,e=this.elementTypeInfosMap[d];if(Jsonix.Util.Type.exists(e))return c(e.unmarshal(a,b));throw"Element ["+d+"] is not known in this context";},marshalElement:function(a,b,c){for(var d=0;d<this.elementTypeInfos.length;d++){var e=this.elementTypeInfos[d],f=e.typeInfo;if(f.isInstance(b)){this.marshalElementTypeInfo(a,b,e.elementName,f,c);return}}throw"Could not find an element with type info supporting the value ["+
b+"].";},buildStructureElements:function(a,b){for(a=0;a<this.elementTypeInfos.length;a++)b.elements[this.elementTypeInfos[a].elementName.key]=this},CLASS_NAME:"Jsonix.Model.ElementsPropertyInfo"});
Jsonix.Model.ElementMapPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementsPropertyInfo,{elementName:null,key:null,value:null,entryTypeInfo:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureObject(a.key);this.key=a.key;Jsonix.Util.Ensure.ensureObject(a.value);this.value=a.value;this.elementName=Jsonix.Util.Type.isObject(a.elementName)?a.elementName:new Jsonix.XML.QName(this.name);
this.entryTypeInfo=new Jsonix.Model.ClassInfo({name:"",properties:[this.key,this.value]})},unmarshalWrapperElement:function(){Jsonix.Model.AbstractElementsPropertyInfo.prototype.unmarshalWrapperElement.apply(this,arguments)},unmarshal:function(a,b,c){var d=null,e=this;b=function(f){if(Jsonix.Util.Type.exists(f)){Jsonix.Util.Ensure.ensureObject(f,"Map property requires an object.");Jsonix.Util.Type.exists(d)||(d={});for(var g in f)if(f.hasOwnProperty(g)){var l=f[g];if(e.collection){Jsonix.Util.Type.exists(d[g])||
(d[g]=[]);d[g].push(l)}else if(Jsonix.Util.Type.exists(d[g]))throw"Value already set.";else d[g]=l}}};Jsonix.Util.Type.exists(this.wrapperElementName)?this.unmarshalWrapperElement(a,c,b):this.unmarshalElement(a,c,b);return d},unmarshalElement:function(a,b,c){a=this.entryTypeInfo.unmarshal(a,b);b={};if(a[this.key.name])b[a[this.key.name]]=a[this.value.name];return c(b)},marshal:function(a,b,c,d){if(Jsonix.Util.Type.exists(c)){Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeStartElement(this.wrapperElementName);
this.marshalElement(a,c,d);Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeEndElement()}},marshalElement:function(a,b,c){if(b)for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];if(this.collection)for(var f=0;f<e.length;f++){var g={};g[this.key.name]=d;g[this.value.name]=e[f];c.writeStartElement(this.elementName);this.entryTypeInfo.marshal(a,g,c);c.writeEndElement()}else{f={};f[this.key.name]=d;f[this.value.name]=e;c.writeStartElement(this.elementName);this.entryTypeInfo.marshal(a,f,c);c.writeEndElement()}}},
buildStructureElements:function(a,b){b.elements[this.elementName.key]=this},setProperty:function(a,b){if(Jsonix.Util.Type.exists(b)){Jsonix.Util.Ensure.ensureObject(b,"Map property requires an object.");Jsonix.Util.Type.exists(a[this.name])||(a[this.name]={});a=a[this.name];for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];if(this.collection){Jsonix.Util.Type.exists(a[c])||(a[c]=[]);for(var e=0;e<d.length;e++)a[c].push(d[e])}else a[c]=d}}},CLASS_NAME:"Jsonix.Model.ElementMapPropertyInfo"});
Jsonix.Model.AbstractElementRefsPropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{wrapperElementName:null,mixed:false,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a,"Options argument must be an object.");Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a]);if(Jsonix.Util.Type.isObject(a.wrapperElementName)){Jsonix.Util.Ensure.ensureString(a.wrapperElementName.localPart,"Wrapper element name must contain a string property [localPart].");this.wrapperElementName=Jsonix.XML.QName.fromObject(a.wrapperElementName)}else this.wrapperElementName=
null;this.mixed=Jsonix.Util.Type.isBoolean(a.mixed)?a.mixed:false},unmarshal:function(a,b,c){var d=c.eventType;if(d===Jsonix.XML.Input.START_ELEMENT)return Jsonix.Util.Type.exists(this.wrapperElementName)?this.unmarshalWrapperElement(a,b,c):this.unmarshalElement(a,b,c);else if(this.mixed&&(d===Jsonix.XML.Input.CHARACTERS||d===Jsonix.XML.Input.CDATA||d===Jsonix.XML.Input.ENTITY_REFERENCE)){a=c.getText();return this.collection?[a]:a}else if(!(d===Jsonix.XML.Input.SPACE||d===Jsonix.XML.Input.COMMENT||
d===Jsonix.XML.Input.PROCESSING_INSTRUCTION))throw"Illegal state: unexpected event type ["+d+"].";},unmarshalWrapperElement:function(a,b,c){for(var d=null,e=c.next();e!==Jsonix.XML.Input.END_ELEMENT;){if(e===Jsonix.XML.Input.START_ELEMENT){c.getName();e=this.unmarshalElement(a,b,c);if(this.collection){if(d===null)d=[];for(var f=0;f<e.length;f++)d.push(e[f])}else if(d===null)d=e;else throw"Value already set.";}else if(this.mixed&&(e===Jsonix.XML.Input.CHARACTERS||e===Jsonix.XML.Input.CDATA||e===Jsonix.XML.Input.ENTITY_REFERENCE)){e=
c.getText();if(this.collection){if(d===null)d=[];d.push(e)}else if(d===null)d=e;else throw"Value already set.";}else if(!(e===Jsonix.XML.Input.SPACE||e===Jsonix.XML.Input.COMMENT||e===Jsonix.XML.Input.PROCESSING_INSTRUCTION))throw"Illegal state: unexpected event type ["+e+"].";e=c.next()}return d},unmarshalElement:function(a,b,c){var d=c.getName();b=this.getElementTypeInfo(a,b,d);a={name:c.getName(),value:b.unmarshal(a,c)};return this.collection?[a]:a},marshal:function(a,b,c,d){if(Jsonix.Util.Type.exists(c)){Jsonix.Util.Type.exists(this.wrapperElementName)&&
d.writeStartElement(this.wrapperElementName);if(this.collection){Jsonix.Util.Ensure.ensureArray(c,"Collection property requires an array value.");for(var e=0;e<c.length;e++)this.marshalItem(a,b,c[e],d)}else this.marshalItem(a,b,c,d);Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeEndElement()}},marshalItem:function(a,b,c,d){if(Jsonix.Util.Type.isString(c))if(this.mixed)d.writeCharacters(c);else throw"Property is not mixed, can't handle string values.";else if(Jsonix.Util.Type.isObject(c))this.marshalElement(a,
b,c,d);else if(this.mixed)throw"Unsupported content type, either objects or strings are supported.";else throw"Unsupported content type, only objects are supported.";},marshalElement:function(a,b,c,d){var e=Jsonix.XML.QName.fromObject(c.name);b=this.getElementTypeInfo(a,b,e);return this.marshalElementTypeInfo(a,c,e,b,d)},marshalElementTypeInfo:function(a,b,c,d,e){e.writeStartElement(c);Jsonix.Util.Type.exists(b.value)&&d.marshal(a,b.value,e);e.writeEndElement()},getElementTypeInfo:function(a,b,c){var d=
this.getPropertyElementTypeInfo(c);if(Jsonix.Util.Type.exists(d))return d.typeInfo;else{a=a.getElementInfo(c,b);if(Jsonix.Util.Type.exists(a))return a.typeInfo;else throw"Element ["+c.key+"] is not known in this context.";}},getPropertyElementTypeInfo:function(){throw"Abstract method [getPropertyElementTypeInfo].";},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);if(Jsonix.Util.Type.exists(b.value))throw"The structure already defines a value property.";else if(!Jsonix.Util.Type.exists(b.elements))b.elements=
{};if(Jsonix.Util.Type.exists(this.wrapperElementName))b.elements[this.wrapperElementName.key]=this;else this.buildStructureElements(a,b);if(this.mixed&&!Jsonix.Util.Type.exists(this.wrapperElementName))b.mixed=this},buildStructureElements:function(){throw"Abstract method [buildStructureElements].";},buildStructureElementTypeInfos:function(a,b,c){b.elements[c.elementName.key]=this;c=a.getSubstitutionMembers(c.elementName);if(Jsonix.Util.Type.isArray(c))for(var d=0;d<c.length;d++)this.buildStructureElementTypeInfos(a,
b,c[d])},CLASS_NAME:"Jsonix.Model.ElementRefPropertyInfo"});
Jsonix.Model.ElementRefPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementRefsPropertyInfo,{typeInfo:null,elementName:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementRefsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureObject(a.typeInfo);this.typeInfo=a.typeInfo;this.elementName=Jsonix.Util.Type.isObject(a.elementName)?a.elementName:new Jsonix.XML.QName(this.name)},getPropertyElementTypeInfo:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.localPart);
return Jsonix.XML.QName.fromObject(a).key===this.elementName.key?this:null},buildStructureElements:function(a,b){this.buildStructureElementTypeInfos(a,b,this)},CLASS_NAME:"Jsonix.Model.ElementRefPropertyInfo"});
Jsonix.Model.ElementRefsPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementRefsPropertyInfo,{elementTypeInfos:null,elementTypeInfosMap:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementRefsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureArray(a.elementTypeInfos);this.elementTypeInfos=a.elementTypeInfos;this.elementTypeInfosMap={};for(a=0;a<this.elementTypeInfos.length;a++){var b=this.elementTypeInfos[a];Jsonix.Util.Ensure.ensureObject(b);
this.elementTypeInfosMap[b.elementName.key]=b.typeInfo}},getPropertyElementTypeInfo:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.localPart);a=Jsonix.XML.QName.fromObject(a);var b=this.elementTypeInfosMap[a.key];return Jsonix.Util.Type.exists(b)?{elementName:a,typeInfo:b}:null},buildStructureElements:function(a,b){for(var c=0;c<this.elementTypeInfos.length;c++)this.buildStructureElementTypeInfos(a,b,this.elementTypeInfos[c])},CLASS_NAME:"Jsonix.Model.ElementRefsPropertyInfo"});
Jsonix.Model.AnyElementPropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{allowDom:true,allowTypedObject:true,mixed:true,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a]);this.allowDom=Jsonix.Util.Type.isBoolean(a.allowDom)?a.allowDom:true;this.allowTypedObject=Jsonix.Util.Type.isBoolean(a.allowTypedObject)?a.allowTypedObject:true;this.mixed=Jsonix.Util.Type.isBoolean(a.mixed)?a.mixed:true},unmarshal:function(a,b,c){var d=c.eventType;
if(d===Jsonix.XML.Input.START_ELEMENT)return this.unmarshalElement(a,b,c);else if(this.mixed&&(d===4||d===12||d===9)){a=c.getText();return this.collection?[a]:a}else if(this.mixed&&d===Jsonix.XML.Input.SPACE)return null;else if(d===Jsonix.XML.Input.COMMENT||d===Jsonix.XML.Input.PROCESSING_INSTRUCTION)return null;else throw"Illegal state: unexpected event type ["+d+"].";},unmarshalElement:function(a,b,c){var d=c.getName();if(this.allowTypedObject&&Jsonix.Util.Type.exists(a.getElementInfo(d,b))){b=
a.getElementInfo(d,b).typeInfo;a={name:d,value:b.unmarshal(a,c)}}else if(this.allowDom)a=c.getElement();else throw"Element ["+d.toString()+"] is not known in this context and property does not allow DOM.";return this.collection?[a]:a},marshal:function(a,b,c,d){if(Jsonix.Util.Type.exists(c))if(this.collection){Jsonix.Util.Ensure.ensureArray(c);for(b=0;b<c.length;b++)this.marshalItem(a,c[b],d)}else this.marshalItem(a,c,d)},marshalItem:function(a,b,c){if(this.mixed&&Jsonix.Util.Type.isString(b))c.writeCharacters(b);
else if(this.allowDom&&Jsonix.Util.Type.exists(b.nodeType))c.writeNode(b);else{var d=Jsonix.XML.QName.fromObject(b.name);if(this.allowTypedObject&&Jsonix.Util.Type.exists(a.getElementInfo(d))){var e=a.getElementInfo(d).typeInfo;c.writeStartElement(d);e.marshal(a,b.value,c);c.writeEndElement()}else throw"Element ["+d.toString()+"] is not known in this context";}},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);if(Jsonix.Util.Type.exists(b.value))throw"The structure already defines a value property.";
else if(!Jsonix.Util.Type.exists(b.elements))b.elements={};if(this.allowDom||this.allowTypedObject)b.any=this;if(this.mixed)b.mixed=this},CLASS_NAME:"Jsonix.Model.AnyElementPropertyInfo"});
Jsonix.Context=Jsonix.Class({elementInfos:null,properties:null,substitutionMembersMap:null,scopedElementInfosMap:null,initialize:function(a,b){this.elementInfos=[];this.properties={namespacePrefixes:{}};Jsonix.Util.Ensure.ensureArray(a);for(var c=0;c<a.length;c++){var d=a[c];Jsonix.Util.Ensure.ensureArray(d.elementInfos);for(var e=0;e<d.elementInfos.length;e++)this.elementInfos.push(d.elementInfos[e])}if(Jsonix.Util.Type.isObject(b))if(Jsonix.Util.Type.isObject(b.namespacePrefixes))this.properties.namespacePrefixes=
b.namespacePrefixes;this.substitutionMembersMap={};this.scopedElementInfosMap={};for(a=0;a<this.elementInfos.length;a++){b=this.elementInfos[a];if(Jsonix.Util.Type.exists(b.substitutionHead)){c=Jsonix.XML.QName.fromObject(b.substitutionHead).key;d=this.substitutionMembersMap[c];if(!Jsonix.Util.Type.isArray(d)){d=[];this.substitutionMembersMap[c]=d}d.push(b)}c=Jsonix.Util.Type.exists(b.scope)?b.scope.name:"##global";d=this.scopedElementInfosMap[c];if(!Jsonix.Util.Type.isObject(d)){d={};this.scopedElementInfosMap[c]=
d}d[b.elementName.key]=b}},getElementInfo:function(a,b){if(Jsonix.Util.Type.exists(b)){b=this.scopedElementInfosMap[b.name];if(Jsonix.Util.Type.exists(b)){b=b[a.key];if(Jsonix.Util.Type.exists(b))return b}}b=this.scopedElementInfosMap["##global"];if(Jsonix.Util.Type.exists(b)){a=b[a.key];if(Jsonix.Util.Type.exists(a))return a}return null},getSubstitutionMembers:function(a){return this.substitutionMembersMap[Jsonix.XML.QName.fromObject(a).key]},createMarshaller:function(){return new Jsonix.Context.Marshaller(this)},
createUnmarshaller:function(){return new Jsonix.Context.Unmarshaller(this)},CLASS_NAME:"Jsonix.Context"});
Jsonix.Context.Marshaller=Jsonix.Class({context:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);this.context=a},marshalString:function(a){a=this.marshalDocument(a);return Jsonix.DOM.serialize(a)},marshalDocument:function(a){var b=new Jsonix.XML.Output({namespacePrefixes:this.context.properties.namespacePrefixes}),c=b.writeStartDocument();this.marshalElementNode(a,b);b.writeEndDocument();return c},marshalElementNode:function(a,b){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureObject(a.name);
Jsonix.Util.Ensure.ensureString(a.name.localPart);Jsonix.Util.Ensure.ensureExists(a.value);var c=Jsonix.XML.QName.fromObject(a.name),d=this.context.getElementInfo(c);if(!Jsonix.Util.Type.exists(d))throw"Could not find element declaration for the element ["+c.key+"].";Jsonix.Util.Ensure.ensureObject(d.typeInfo);c=d.typeInfo;d=b.writeStartElement(a.name);c.marshal(this.context,a.value,b);b.writeEndElement();return d},CLASS_NAME:"Jsonix.Context.Marshaller"});
Jsonix.Context.Unmarshaller=Jsonix.Class({context:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);this.context=a},unmarshalString:function(a){Jsonix.Util.Ensure.ensureString(a);return this.unmarshalDocument(Jsonix.DOM.parse(a))},unmarshalURL:function(a,b,c){Jsonix.Util.Ensure.ensureString(a);Jsonix.Util.Ensure.ensureFunction(b);Jsonix.Util.Type.exists(c)&&Jsonix.Util.Ensure.ensureObject(c);that=this;Jsonix.DOM.load(a,function(d){b(that.unmarshalDocument(d))},c)},unmarshalDocument:function(a){a=
new Jsonix.XML.Input(a);a.nextTag();return this.unmarshalElementNode(a)},unmarshalElementNode:function(a){if(a.eventType!=1)throw"Parser must be on START_ELEMENT to read next text.";var b=null;b=Jsonix.XML.QName.fromObject(a.getName());var c=this.context.getElementInfo(b);if(!Jsonix.Util.Type.exists(c))throw"Could not find element declaration for the element ["+b.key+"].";Jsonix.Util.Ensure.ensureObject(c.typeInfo);a=c.typeInfo.unmarshal(this.context,a);return b={name:b,value:a}},CLASS_NAME:"Jsonix.Context.Unmarshaller"});
;
steal.end();
var PageMappings={};PageMappings.PagesCollection=new Jsonix.Model.ClassInfo({name:"PageMappings.PagesCollection"});PageMappings.PageType=new Jsonix.Model.ClassInfo({name:"PageMappings.PageType"});PageMappings.User=new Jsonix.Model.ClassInfo({name:"PageMappings.User"});PageMappings.CreatedModified=new Jsonix.Model.ClassInfo({name:"PageMappings.CreatedModified"});PageMappings.Published=new Jsonix.Model.ClassInfo({name:"PageMappings.Published"});PageMappings.Security=new Jsonix.Model.ClassInfo({name:"PageMappings.Security"});
PageMappings.Security.Owner=new Jsonix.Model.ClassInfo({name:"PageMappings.Security.Owner"});PageMappings.Locked=new Jsonix.Model.ClassInfo({name:"PageMappings.Locked"});PageMappings.Head=new Jsonix.Model.ClassInfo({name:"PageMappings.Head"});PageMappings.Head.Metadata=new Jsonix.Model.ClassInfo({name:"PageMappings.Head.Metadata"});PageMappings.Body=new Jsonix.Model.ClassInfo({name:"PageMappings.Body"});PageMappings.Body.Composer=new Jsonix.Model.ClassInfo({name:"PageMappings.Body.Composer"});
PageMappings.Body.Composer.Pagelet=new Jsonix.Model.ClassInfo({name:"PageMappings.Body.Composer.Pagelet"});PageMappings.Body.Composer.Pagelet.Locale=new Jsonix.Model.ClassInfo({name:"PageMappings.Body.Composer.Pagelet.Locale"});PageMappings.Body.Composer.Pagelet.Property=new Jsonix.Model.ClassInfo({name:"PageMappings.Body.Composer.Pagelet.Property"});
PageMappings.User.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"realm",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ValuePropertyInfo({name:"name",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];PageMappings.CreatedModified.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:PageMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"date",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];
PageMappings.Published.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:PageMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"from",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"to",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];PageMappings.Security.properties=[new Jsonix.Model.ElementPropertyInfo({name:"owner",typeInfo:PageMappings.Security.Owner})];
PageMappings.Security.Owner.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:PageMappings.User})];PageMappings.Locked.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:PageMappings.User})];PageMappings.PagesCollection.properties=[new Jsonix.Model.ElementPropertyInfo({name:"page",collection:true,typeInfo:PageMappings.PageType})];
PageMappings.PageType.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"path",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"version",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"head",typeInfo:PageMappings.Head}),new Jsonix.Model.ElementPropertyInfo({name:"body",typeInfo:PageMappings.Body})];
PageMappings.Head.properties=[new Jsonix.Model.ElementPropertyInfo({name:"template",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"layout",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"promote",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"index",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"metadata",typeInfo:PageMappings.Head.Metadata}),
new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:PageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"modified",typeInfo:PageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"published",typeInfo:PageMappings.Published}),new Jsonix.Model.ElementPropertyInfo({name:"security",typeInfo:PageMappings.Security}),new Jsonix.Model.ElementPropertyInfo({name:"locked",typeInfo:PageMappings.Locked})];
PageMappings.Head.Metadata.properties=[new Jsonix.Model.ElementMapPropertyInfo({name:"title",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"subject",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"series",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementMapPropertyInfo({name:"description",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"type",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementMapPropertyInfo({name:"coverage",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementMapPropertyInfo({name:"rights",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];
PageMappings.Body.properties=[new Jsonix.Model.ElementPropertyInfo({name:"composers",collection:true,elementName:new Jsonix.XML.QName("composer"),typeInfo:PageMappings.Body.Composer})];PageMappings.Body.Composer.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"pagelets",collection:true,elementName:new Jsonix.XML.QName("pagelet"),typeInfo:PageMappings.Body.Composer.Pagelet})];
PageMappings.Body.Composer.Pagelet.properties=[new Jsonix.Model.AttributePropertyInfo({name:"module",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"security",typeInfo:PageMappings.Security}),new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:PageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"published",typeInfo:PageMappings.Published}),
new Jsonix.Model.ElementPropertyInfo({name:"locale",collection:true,typeInfo:PageMappings.Body.Composer.Pagelet.Locale}),new Jsonix.Model.ElementPropertyInfo({name:"properties",typeInfo:PageMappings.Body.Composer.Pagelet.Property})];
PageMappings.Body.Composer.Pagelet.Locale.properties=[new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"original",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"modified",typeInfo:PageMappings.CreatedModified}),new Jsonix.Model.ElementMapPropertyInfo({name:"text",collection:true,key:new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];PageMappings.Body.Composer.Pagelet.Property.properties=[new Jsonix.Model.ElementMapPropertyInfo({name:"property",collection:true,key:new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];PageMappings.typeInfos=[PageMappings.Head];
PageMappings.elementInfos=[{elementName:new Jsonix.XML.QName("pages"),typeInfo:PageMappings.PagesCollection},{elementName:new Jsonix.XML.QName("page"),typeInfo:PageMappings.PageType},{elementName:new Jsonix.XML.QName("head"),typeInfo:PageMappings.Head},{elementName:new Jsonix.XML.QName("pagelet"),typeInfo:PageMappings.Body.Composer.Pagelet}];
;
steal.end();
var FileMappings={};FileMappings.FilesCollection=new Jsonix.Model.ClassInfo({name:"FileMappings.FilesCollection"});FileMappings.FileType=new Jsonix.Model.ClassInfo({name:"FileMappings.FileType"});FileMappings.User=new Jsonix.Model.ClassInfo({name:"FileMappings.User"});FileMappings.GPS=new Jsonix.Model.ClassInfo({name:"FileMappings.GPS"});FileMappings.CreatedModified=new Jsonix.Model.ClassInfo({name:"FileMappings.CreatedModified"});FileMappings.Published=new Jsonix.Model.ClassInfo({name:"FileMappings.Published"});
FileMappings.Security=new Jsonix.Model.ClassInfo({name:"FileMappings.Security"});FileMappings.Security.Owner=new Jsonix.Model.ClassInfo({name:"FileMappings.Security.Owner"});FileMappings.Locked=new Jsonix.Model.ClassInfo({name:"FileMappings.Locked"});FileMappings.Head=new Jsonix.Model.ClassInfo({name:"FileMappings.Head"});FileMappings.Head.Metadata=new Jsonix.Model.ClassInfo({name:"FileMappings.Head.Metadata"});FileMappings.Body=new Jsonix.Model.ClassInfo({name:"FileMappings.Body"});
FileMappings.Body.Content=new Jsonix.Model.ClassInfo({name:"FileMappings.Body.Content"});FileMappings.Body.Content.Video=new Jsonix.Model.ClassInfo({name:"FileMappings.Body.Content.Video"});FileMappings.Body.Content.Audio=new Jsonix.Model.ClassInfo({name:"FileMappings.Body.Content.Audio"});
FileMappings.User.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"realm",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ValuePropertyInfo({name:"name",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];FileMappings.GPS.properties=[new Jsonix.Model.AttributePropertyInfo({name:"lat",typeInfo:Jsonix.Schema.XSD.Double.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"lng",typeInfo:Jsonix.Schema.XSD.Double.INSTANCE})];
FileMappings.CreatedModified.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:FileMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"date",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];FileMappings.Published.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:FileMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"from",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"to",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];
FileMappings.Security.properties=[new Jsonix.Model.ElementPropertyInfo({name:"owner",typeInfo:FileMappings.Security.Owner})];FileMappings.Security.Owner.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:FileMappings.User})];FileMappings.Locked.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:FileMappings.User})];
FileMappings.FilesCollection.properties=[new Jsonix.Model.ElementPropertyInfo({name:"file",collection:true,typeInfo:FileMappings.FileType}),new Jsonix.Model.ElementPropertyInfo({name:"image",collection:true,typeInfo:FileMappings.FileType}),new Jsonix.Model.ElementPropertyInfo({name:"movie",collection:true,typeInfo:FileMappings.FileType})];
FileMappings.FileType.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"path",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"version",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"head",typeInfo:FileMappings.Head}),new Jsonix.Model.ElementPropertyInfo({name:"body",typeInfo:FileMappings.Body})];
FileMappings.Head.properties=[new Jsonix.Model.ElementPropertyInfo({name:"template",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"layout",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"promote",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"index",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"metadata",typeInfo:FileMappings.Head.Metadata}),
new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:FileMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"modified",typeInfo:FileMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"published",typeInfo:FileMappings.Published}),new Jsonix.Model.ElementPropertyInfo({name:"security",typeInfo:FileMappings.Security}),new Jsonix.Model.ElementPropertyInfo({name:"locked",typeInfo:FileMappings.Locked})];
FileMappings.Head.Metadata.properties=[new Jsonix.Model.ElementMapPropertyInfo({name:"title",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"subject",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"series",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementMapPropertyInfo({name:"description",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"type",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementMapPropertyInfo({name:"coverage",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementMapPropertyInfo({name:"rights",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];
FileMappings.Body.properties=[new Jsonix.Model.ElementPropertyInfo({name:"contents",collection:true,elementName:new Jsonix.XML.QName("content"),typeInfo:FileMappings.Body.Content})];
FileMappings.Body.Content.properties=[new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:FileMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"filename",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"source",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"external",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementPropertyInfo({name:"mimetype",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"size",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"width",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"height",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"author",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"datetaken",
typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"location",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"gps",typeInfo:FileMappings.GPS}),new Jsonix.Model.ElementPropertyInfo({name:"filmspeed",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"fnumber",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"focalwidth",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),
new Jsonix.Model.ElementPropertyInfo({name:"exposuretime",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"duration",typeInfo:Jsonix.Schema.XSD.Long.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"audio",typeInfo:FileMappings.Body.Content.Audio}),new Jsonix.Model.ElementPropertyInfo({name:"video",typeInfo:FileMappings.Body.Content.Video})];
FileMappings.Body.Content.Audio.properties=[new Jsonix.Model.ElementPropertyInfo({name:"bitdepth",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"bitrate",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"channels",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"samplingrate",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"format",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];
FileMappings.Body.Content.Video.properties=[new Jsonix.Model.ElementPropertyInfo({name:"bitrate",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"format",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"framerate",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"resolution",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"scantype",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];
FileMappings.typeInfos=[FileMappings.Head];FileMappings.elementInfos=[{elementName:new Jsonix.XML.QName("files"),typeInfo:FileMappings.FilesCollection},{elementName:new Jsonix.XML.QName("file"),typeInfo:FileMappings.FileType},{elementName:new Jsonix.XML.QName("image"),typeInfo:FileMappings.FileType},{elementName:new Jsonix.XML.QName("movie"),typeInfo:FileMappings.FileType},{elementName:new Jsonix.XML.QName("head"),typeInfo:FileMappings.Head},{elementName:new Jsonix.XML.QName("content"),typeInfo:FileMappings.Body.Content}];
;
steal.end();
var ImageMappings={};ImageMappings.ImagesCollection=new Jsonix.Model.ClassInfo({name:"ImageMappings.ImagesCollection"});ImageMappings.ImageType=new Jsonix.Model.ClassInfo({name:"ImageMappings.ImageType"});ImageMappings.User=new Jsonix.Model.ClassInfo({name:"ImageMappings.User"});ImageMappings.GPS=new Jsonix.Model.ClassInfo({name:"ImageMappings.GPS"});ImageMappings.CreatedModified=new Jsonix.Model.ClassInfo({name:"ImageMappings.CreatedModified"});ImageMappings.Published=new Jsonix.Model.ClassInfo({name:"ImageMappings.Published"});
ImageMappings.Security=new Jsonix.Model.ClassInfo({name:"ImageMappings.Security"});ImageMappings.Security.Owner=new Jsonix.Model.ClassInfo({name:"ImageMappings.Security.Owner"});ImageMappings.Locked=new Jsonix.Model.ClassInfo({name:"ImageMappings.Locked"});ImageMappings.Head=new Jsonix.Model.ClassInfo({name:"ImageMappings.Head"});ImageMappings.Head.Metadata=new Jsonix.Model.ClassInfo({name:"ImageMappings.Head.Metadata"});ImageMappings.Body=new Jsonix.Model.ClassInfo({name:"ImageMappings.Body"});
ImageMappings.Body.Content=new Jsonix.Model.ClassInfo({name:"ImageMappings.Body.Content"});ImageMappings.User.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"realm",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ValuePropertyInfo({name:"name",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];
ImageMappings.GPS.properties=[new Jsonix.Model.AttributePropertyInfo({name:"lat",typeInfo:Jsonix.Schema.XSD.Double.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"lng",typeInfo:Jsonix.Schema.XSD.Double.INSTANCE})];ImageMappings.CreatedModified.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:ImageMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"date",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];
ImageMappings.Published.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:ImageMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"from",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"to",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];ImageMappings.Security.properties=[new Jsonix.Model.ElementPropertyInfo({name:"owner",typeInfo:ImageMappings.Security.Owner})];
ImageMappings.Security.Owner.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:ImageMappings.User})];ImageMappings.Locked.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:ImageMappings.User})];ImageMappings.ImagesCollection.properties=[new Jsonix.Model.ElementPropertyInfo({name:"image",collection:true,typeInfo:ImageMappings.ImageType})];
ImageMappings.ImageType.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"path",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"version",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"head",typeInfo:ImageMappings.Head}),new Jsonix.Model.ElementPropertyInfo({name:"body",typeInfo:ImageMappings.Body})];
ImageMappings.Head.properties=[new Jsonix.Model.ElementPropertyInfo({name:"template",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"layout",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"promote",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"index",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"metadata",typeInfo:ImageMappings.Head.Metadata}),
new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:ImageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"modified",typeInfo:ImageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"published",typeInfo:ImageMappings.Published}),new Jsonix.Model.ElementPropertyInfo({name:"security",typeInfo:ImageMappings.Security}),new Jsonix.Model.ElementPropertyInfo({name:"locked",typeInfo:ImageMappings.Locked})];
ImageMappings.Head.Metadata.properties=[new Jsonix.Model.ElementMapPropertyInfo({name:"title",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"subject",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"series",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementMapPropertyInfo({name:"description",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"type",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementMapPropertyInfo({name:"coverage",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementMapPropertyInfo({name:"rights",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];
ImageMappings.Body.properties=[new Jsonix.Model.ElementPropertyInfo({name:"contents",collection:true,elementName:new Jsonix.XML.QName("content"),typeInfo:ImageMappings.Body.Content})];
ImageMappings.Body.Content.properties=[new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:ImageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"filename",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"source",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"external",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementPropertyInfo({name:"mimetype",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"size",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"width",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"height",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"author",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"datetaken",
typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"location",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"gps",typeInfo:FileMappings.GPS}),new Jsonix.Model.ElementPropertyInfo({name:"filmspeed",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"fnumber",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"focalwidth",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),
new Jsonix.Model.ElementPropertyInfo({name:"exposuretime",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE})];ImageMappings.typeInfos=[ImageMappings.Head];ImageMappings.elementInfos=[{elementName:new Jsonix.XML.QName("images"),typeInfo:ImageMappings.ImagesCollection},{elementName:new Jsonix.XML.QName("image"),typeInfo:ImageMappings.ImageType},{elementName:new Jsonix.XML.QName("head"),typeInfo:ImageMappings.Head},{elementName:new Jsonix.XML.QName("content"),typeInfo:ImageMappings.Body.Content}];
;
steal.end();
steal.plugins("jquery","jquery/controller/view","jquery/view","jquery/view/tmpl","jqueryui/autocomplete","jqueryui/dialog","jqueryui/draggable","jqueryui/resizable","jqueryui/mouse").models("../../models/workbench").views("//editor/pageheadeditor/views/init.tmpl").css("pageheadeditor").then(function(a){a.Controller("Editor.Pageheadeditor",{defaults:{}},{init:function(d){var f={};a(d).html("//editor/pageheadeditor/views/init.tmpl",{page:this.options.page,language:this.options.language,options:this.options.runtime.getSiteLayouts()});
this.element.find("select[name=layout]").val(this.options.page.getTemplate());Page.findReferrer({id:this.options.page.value.id},a.proxy(function(c){c==undefined?this.element.find("div.wbl-referrerPageSettings").html("No references"):a.each(c,a.proxy(function(b,e){b=new Page({value:e});this.element.find("div.wbl-referrerPageSettings").append(b.getTitle(this.options.language)).append(': <a href="'+b.getPath()+"?_="+(new Date).getTime()+'">'+b.getPath()+"</a><br />")},this))},this));Workbench.suggestTags({},
a.proxy(function(c){c==null||c==undefined||this.element.find("input[name=tags]").autocomplete({source:function(b,e){e(a.ui.autocomplete.filter(c,b.term.split(/,\s*/).pop()))},focus:function(){return false},select:function(b,e){b=this.value.split(/,\s*/);b.pop();b.push(e.item.value);b.push("");this.value=b.join(", ");return false}})},this));this.element.dialog({modal:true,title:"Page Properties",autoOpen:true,resizable:true,draggable:true,width:700,height:650,buttons:{Abbrechen:a.proxy(function(){this.element.dialog("close")},
this),Speichern:a.proxy(function(){this.element.find("form#wbl-validatePageSettings").submit();if(this.element.find("form#wbl-validatePageSettings").valid()){a.each(this.element.find(":input"),function(c,b){f[a(b).attr("name")]=a(b).val()});this.options.page.saveMetadata(f,this.options.language,a.proxy(function(){a.isFunction(this.options.success)&&this.options.success()},this));this.element.dialog("destroy");this.destroy()}},this)},close:a.proxy(function(){this.element.dialog("destroy");this.destroy()},
this)});this.element.find("form#wbl-validatePageSettings").validate()},update:function(d){this.options=d;this.element.dialog("open")},"input[name=url] change":function(d){var f=d.val().trim().toLowerCase();d.val(encodeURI(f))}})});
;
steal.end();
steal.plugins("jqueryui/core","jqueryui/widget","jqueryui/position","jqueryui/menu").then("../lib/ui/jquery.ui.autocomplete.js");
;
steal.end();
steal("../lib/ui/jquery.ui.core.js");
;
steal.end();
(function(c,j){function k(a){return!c(a).parents().andSelf().filter(function(){return c.curCSS(this,"visibility")==="hidden"||c.expr.filters.hidden(this)}).length}c.ui=c.ui||{};if(!c.ui.version){c.extend(c.ui,{version:"@VERSION",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,
NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});c.fn.extend({_focus:c.fn.focus,focus:function(a,b){return typeof a==="number"?this.each(function(){var d=this;setTimeout(function(){c(d).focus();b&&b.call(d)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;a=c.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(c.curCSS(this,
"position",1))&&/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(c.curCSS(this,"overflow",1)+c.curCSS(this,"overflow-y",1)+c.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?c(document):a},zIndex:function(a){if(a!==j)return this.css("zIndex",a);if(this.length){a=c(this[0]);for(var b;a.length&&a[0]!==document;){b=a.css("position");
if(b==="absolute"||b==="relative"||b==="fixed"){b=parseInt(a.css("zIndex"),10);if(!isNaN(b)&&b!==0)return b}a=a.parent()}}return 0},disableSelection:function(){return this.bind((c.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});c.each(["Width","Height"],function(a,b){function d(f,g,l,m){c.each(e,function(){g-=parseFloat(c.curCSS(f,"padding"+this,true))||0;if(l)g-=parseFloat(c.curCSS(f,
"border"+this+"Width",true))||0;if(m)g-=parseFloat(c.curCSS(f,"margin"+this,true))||0});return g}var e=b==="Width"?["Left","Right"]:["Top","Bottom"],h=b.toLowerCase(),i={innerWidth:c.fn.innerWidth,innerHeight:c.fn.innerHeight,outerWidth:c.fn.outerWidth,outerHeight:c.fn.outerHeight};c.fn["inner"+b]=function(f){if(f===j)return i["inner"+b].call(this);return this.each(function(){c(this).css(h,d(this,f)+"px")})};c.fn["outer"+b]=function(f,g){if(typeof f!=="number")return i["outer"+b].call(this,f);return this.each(function(){c(this).css(h,
d(this,f,true,g)+"px")})}});c.extend(c.expr[":"],{data:function(a,b,d){return!!c.data(a,d[3])},focusable:function(a){var b=a.nodeName.toLowerCase(),d=c.attr(a,"tabindex");if("area"===b){b=a.parentNode;d=b.name;if(!a.href||!d||b.nodeName.toLowerCase()!=="map")return false;a=c("img[usemap=#"+d+"]")[0];return!!a&&k(a)}return(/input|select|textarea|button|object/.test(b)?!a.disabled:"a"==b?a.href||!isNaN(d):!isNaN(d))&&k(a)},tabbable:function(a){var b=c.attr(a,"tabindex");return(isNaN(b)||b>=0)&&c(a).is(":focusable")}});
c(function(){var a=document.body,b=a.appendChild(b=document.createElement("div"));c.extend(b.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});c.support.minHeight=b.offsetHeight===100;c.support.selectstart="onselectstart"in b;a.removeChild(b).style.display="none"});c.extend(c.ui,{plugin:{add:function(a,b,d){a=c.ui[a].prototype;for(var e in d){a.plugins[e]=a.plugins[e]||[];a.plugins[e].push([b,d[e]])}},call:function(a,b,d){if((b=a.plugins[b])&&a.element[0].parentNode)for(var e=0;e<b.length;e++)a.options[b[e][0]]&&
b[e][1].apply(a.element,d)}},contains:c.contains,hasScroll:function(a,b){if(c(a).css("overflow")==="hidden")return false;b=b&&b==="left"?"scrollLeft":"scrollTop";var d=false;if(a[b]>0)return true;a[b]=1;d=a[b]>0;a[b]=0;return d},isOverAxis:function(a,b,d){return a>b&&a<b+d},isOver:function(a,b,d,e,h,i){return c.ui.isOverAxis(a,d,h)&&c.ui.isOverAxis(b,e,i)}})}})(jQuery);
;
steal.end();
steal("../lib/ui/jquery.ui.position.js");
;
steal.end();
(function(d,y){d.ui=d.ui||{};var q=/left|center|right/,r=/top|center|bottom/,s=/[+-]\d+%?/,t=/^\w+/,o=/%$/,z=d.fn.position;d.fn.position=function(b){if(!b||!b.of)return z.apply(this,arguments);b=d.extend({},b);var a=d(b.of),c=a[0],f=(b.collision||"flip").split(" "),e={},i,k,l,j;if(c.nodeType===9){k=a.width();l=a.height();j={top:0,left:0}}else if(d.isWindow(c)){k=a.width();l=a.height();j={top:a.scrollTop(),left:a.scrollLeft()}}else if(c.preventDefault){b.at="left top";k=l=0;j={top:b.of.pageY,left:b.of.pageX}}else{k=
a.outerWidth();l=a.outerHeight();j=a.offset()}d.each(["my","at"],function(){var g=(b[this]||"").split(" "),m,n;if(g.length===1)g=q.test(g[0])?g.concat(["center"]):r.test(g[0])?["center"].concat(g):["center","center"];g[0]=q.test(g[0])?g[0]:"center";g[1]=r.test(g[1])?g[1]:"center";m=s.exec(g[0]);n=s.exec(g[1]);e[this]=[m?m[0]:0,n?n[0]:0];b[this]=[t.exec(g[0])[0],t.exec(g[1])[0]]});if(f.length===1)f[1]=f[0];if(b.at[0]==="right")j.left+=k;else if(b.at[0]==="center")j.left+=k/2;if(b.at[1]==="bottom")j.top+=
l;else if(b.at[1]==="center")j.top+=l/2;i=[parseInt(e.at[0],10)*(o.test(e.at[0])?k/100:1),parseInt(e.at[1],10)*(o.test(e.at[1])?l/100:1)];j.left+=i[0];j.top+=i[1];return this.each(function(){var g=d(this),m=g.outerWidth(),n=g.outerHeight(),u=parseInt(d.curCSS(this,"marginLeft",true))||0,v=parseInt(d.curCSS(this,"marginTop",true))||0,A=m+u+(parseInt(d.curCSS(this,"marginRight",true))||0),B=n+v+(parseInt(d.curCSS(this,"marginBottom",true))||0),h=d.extend({},j),p=[parseInt(e.my[0],10)*(o.test(e.my[0])?
g.outerWidth()/100:1),parseInt(e.my[1],10)*(o.test(e.my[1])?g.outerHeight()/100:1)],w;if(b.my[0]==="right")h.left-=m;else if(b.my[0]==="center")h.left-=m/2;if(b.my[1]==="bottom")h.top-=n;else if(b.my[1]==="center")h.top-=n/2;h.left+=p[0];h.top+=p[1];h.left=Math.round(h.left);h.top=Math.round(h.top);w={left:h.left-u,top:h.top-v};d.each(["left","top"],function(x,C){d.ui.position[f[x]]&&d.ui.position[f[x]][C](h,{targetWidth:k,targetHeight:l,elemWidth:m,elemHeight:n,collisionPosition:w,collisionWidth:A,
collisionHeight:B,offset:[i[0]+p[0],i[1]+p[1]],my:b.my,at:b.at})});d.fn.bgiframe&&g.bgiframe();g.offset(d.extend(h,{using:b.using}))})};d.ui.position={fit:{left:function(b,a){var c=d(window);c=a.collisionPosition.left+a.collisionWidth-c.width()-c.scrollLeft();b.left=c>0?b.left-c:Math.max(b.left-a.collisionPosition.left,b.left)},top:function(b,a){var c=d(window);c=a.collisionPosition.top+a.collisionHeight-c.height()-c.scrollTop();b.top=c>0?b.top-c:Math.max(b.top-a.collisionPosition.top,b.top)}},flip:{left:function(b,
a){if(a.at[0]!=="center"){var c=d(window);c=a.collisionPosition.left+a.collisionWidth-c.width()-c.scrollLeft();var f=a.my[0]==="left"?-a.elemWidth:a.my[0]==="right"?a.elemWidth:0,e=a.at[0]==="left"?a.targetWidth:-a.targetWidth,i=-2*a.offset[0];b.left+=a.collisionPosition.left<0?f+e+i:c>0?f+e+i:0}},top:function(b,a){if(a.at[1]!=="center"){var c=d(window);c=a.collisionPosition.top+a.collisionHeight-c.height()-c.scrollTop();var f=a.my[1]==="top"?-a.elemHeight:a.my[1]==="bottom"?a.elemHeight:0,e=a.at[1]===
"top"?a.targetHeight:-a.targetHeight,i=-2*a.offset[1];b.top+=a.collisionPosition.top<0?f+e+i:c>0?f+e+i:0}}}};d.uiBackCompat!==false&&function(b){var a=b.fn.position;b.fn.position=function(c){if(!c||!("offset"in c))return a.call(this,c);var f=c.offset.split(" "),e=c.at.split(" ");if(f.length===1)f[1]=f[0];if(/^\d/.test(f[0]))f[0]="+"+f[0];if(/^\d/.test(f[1]))f[1]="+"+f[1];if(e.length===1)if(/left|center|right/.test(e[0]))e[1]="center";else{e[1]=e[0];e[0]="center"}return a.call(this,b.extend(c,{at:e[0]+
f[0]+" "+e[1]+f[1],offset:y}))}}(jQuery)})(jQuery);
;
steal.end();
steal.plugins("jqueryui/core","jqueryui/widget").then("../lib/ui/jquery.ui.menu.js");
;
steal.end();
(function(e){var i=0;e.widget("ui.menu",{defaultElement:"<ul>",delay:150,options:{position:{my:"left top",at:"right top"}},_create:function(){var b=this;this.activeMenu=this.element;this.menuId=this.element.attr("id")||"ui-menu-"+i++;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({id:this.menuId,role:"listbox"}).bind("click.menu",function(a){var c=e(a.target).closest(".ui-menu-item:has(a)");if(b.options.disabled)return false;if(c.length){a.preventDefault();if(!b.active||
b.active[0]!==c[0])b.focus(a,c);b.select(a)}}).bind("mouseover.menu",function(a){if(!b.options.disabled){var c=e(a.target).closest(".ui-menu-item");c.length&&b.focus(a,c)}}).bind("mouseout.menu",function(a){b.options.disabled||e(a.target).closest(".ui-menu-item").length&&b.blur(a)});this.refresh();this.element.attr("tabIndex",0).bind("keydown.menu",function(a){if(!b.options.disabled)switch(a.keyCode){case e.ui.keyCode.PAGE_UP:b.previousPage(a);a.preventDefault();a.stopImmediatePropagation();break;
case e.ui.keyCode.PAGE_DOWN:b.nextPage(a);a.preventDefault();a.stopImmediatePropagation();break;case e.ui.keyCode.UP:b.previous(a);a.preventDefault();a.stopImmediatePropagation();break;case e.ui.keyCode.DOWN:b.next(a);a.preventDefault();a.stopImmediatePropagation();break;case e.ui.keyCode.LEFT:b.left(a)&&a.stopImmediatePropagation();a.preventDefault();break;case e.ui.keyCode.RIGHT:b.right(a)&&a.stopImmediatePropagation();a.preventDefault();break;case e.ui.keyCode.ENTER:b.select(a);a.preventDefault();
a.stopImmediatePropagation();break;case e.ui.keyCode.ESCAPE:b.left(a)&&a.stopImmediatePropagation();a.preventDefault();break;default:a.stopPropagation();clearTimeout(b.filterTimer);var c=b.previousFilter||"",d=String.fromCharCode(a.keyCode),f=false;if(d==c)f=true;else d=c+d;function g(h){return h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}c=b.widget().children(".ui-menu-item").filter(function(){return(new RegExp("^"+g(d),"i")).test(e(this).children("a").text())});c=f&&c.index(b.active.next())!=-1?
b.active.nextAll(".ui-menu-item"):c;if(!c.length){d=String.fromCharCode(a.keyCode);c=b.widget().children(".ui-menu-item").filter(function(){return(new RegExp("^"+g(d),"i")).test(e(this).children("a").text())})}if(c.length){b.focus(a,c);if(c.length>1){b.previousFilter=d;b.filterTimer=setTimeout(function(){delete b.previousFilter},1E3)}else delete b.previousFilter}else delete b.previousFilter}})},_destroy:function(){this.element.removeClass("ui-menu ui-widget ui-widget-content ui-corner-all").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-activedescendant");
this.element.children(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").children("a").removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").unbind(".menu")},refresh:function(){var b=this.element.find("ul:not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide();b.prev("a").prepend('<span class="ui-icon ui-icon-carat-1-e"></span>');b.add(this.element).children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabIndex",
-1)},focus:function(b,a){var c=this;this.blur();if(this._hasScroll()){var d=parseFloat(e.curCSS(this.element[0],"borderTopWidth",true))||0,f=parseFloat(e.curCSS(this.element[0],"paddingTop",true))||0;d=a.offset().top-this.element.offset().top-d-f;f=this.element.attr("scrollTop");var g=this.element.height(),h=a.height();if(d<0)this.element.attr("scrollTop",f+d);else d+h>g&&this.element.attr("scrollTop",f+d-g+h)}this.active=a.first().children("a").addClass("ui-state-focus").attr("id",function(k,j){return c.itemId=
j||c.menuId+"-activedescendant"}).end();this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",c.itemId);c.timer=setTimeout(function(){c._close()},c.delay);d=e(">ul",a);d.length&&/^mouse/.test(b.type)&&c._startOpening(d);this.activeMenu=a.parent();this._trigger("focus",b,{item:a})},blur:function(b){if(this.active){clearTimeout(this.timer);this.active.children("a").removeClass("ui-state-focus");e("#"+this.menuId+"-activedescendant").removeAttr("id");this.element.removeAttr("aria-activedescenant");
this._trigger("blur",b);this.active=null}},_startOpening:function(b){clearTimeout(this.timer);var a=this;a.timer=setTimeout(function(){a._close();a._open(b)},a.delay)},_open:function(b){this.element.find(".ui-menu").not(b.parents()).hide();var a=e.extend({},{of:this.active},e.type(this.options.position)=="function"?this.options.position(this.active):this.options.position);b.show().position(a);this.active.find(">a:first").addClass("ui-state-active")},closeAll:function(){this.element.find("ul").hide().end().find("a.ui-state-active").removeClass("ui-state-active");
this.blur();this.activeMenu=this.element},_close:function(){this.active.parent().find("ul").hide().end().find("a.ui-state-active").removeClass("ui-state-active")},left:function(b){var a=this.active&&this.active.parents("li").first();if(a&&a.length){this.active.parent().hide();this.focus(b,a);return true}},right:function(b){var a=this.active&&this.active.children("ul").children("li").first();if(a&&a.length){this._open(a.parent());this.focus(b,a);return true}},next:function(b){this._move("next",".ui-menu-item",
"first",b)},previous:function(b){this._move("prev",".ui-menu-item","last",b)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(b,a,c,d){if(this.active){b=this.active[b+"All"](".ui-menu-item").eq(0);b.length?this.focus(d,b):this.focus(d,this.activeMenu.children(a)[c]())}else this.focus(d,this.activeMenu.children(a)[c]())},nextPage:function(b){if(this._hasScroll())if(!this.active||
this.last())this.focus(b,this.activeMenu.children(".ui-menu-item").first());else{var a=this.active.offset().top,c=this.element.height(),d;this.active.nextAll(".ui-menu-item").each(function(){d=e(this);return e(this).offset().top-a-c<0});this.focus(b,d)}else this.focus(b,this.activeMenu.children(".ui-menu-item")[!this.active||this.last()?"first":"last"]())},previousPage:function(b){if(this._hasScroll())if(!this.active||this.first())this.focus(b,this.activeMenu.children(".ui-menu-item").last());else{var a=
this.active.offset().top,c=this.element.height(),d;this.active.prevAll(".ui-menu-item").each(function(){d=e(this);return e(this).offset().top-a+c>0});this.focus(b,d)}else this.focus(b,this.activeMenu.children(".ui-menu-item")[!this.active||this.first()?":last":":first"]())},_hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(b){var a={item:this.active};this.closeAll();this._trigger("select",b,a)}});e.ui.menu.version="@VERSION"})(jQuery);
;
steal.end();
(function(e){var h=0;e.widget("ui.autocomplete",{defaultElement:"<input>",options:{appendTo:"body",autoFocus:false,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},pending:0,_create:function(){var a=this,b=this.element[0].ownerDocument,f;this.valueMethod=this.element[this.element.is("input")?"val":"text"];this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",
function(c){if(!(a.options.disabled||a.element.attr("readonly"))){f=false;var d=e.ui.keyCode;switch(c.keyCode){case d.PAGE_UP:a._move("previousPage",c);break;case d.PAGE_DOWN:a._move("nextPage",c);break;case d.UP:a._move("previous",c);c.preventDefault();break;case d.DOWN:a._move("next",c);c.preventDefault();break;case d.ENTER:case d.NUMPAD_ENTER:if(a.menu.active){f=true;c.preventDefault()}case d.TAB:if(!a.menu.active)return;a.menu.select(c);break;case d.ESCAPE:a._value(a.term);a.close(c);break;default:clearTimeout(a.searching);
a.searching=setTimeout(function(){if(a.term!=a._value()){a.selectedItem=null;a.search(null,c)}},a.options.delay);break}}}).bind("keypress.autocomplete",function(c){if(f){f=false;c.preventDefault()}}).bind("focus.autocomplete",function(){if(!a.options.disabled){a.selectedItem=null;a.previous=a._value()}}).bind("blur.autocomplete",function(c){if(!a.options.disabled){clearTimeout(a.searching);a.closing=setTimeout(function(){a.close(c);a._change(c)},150)}});this._initSource();this.response=function(){return a._response.apply(a,
arguments)};this.menu=e("<ul></ul>").addClass("ui-autocomplete").appendTo(e(this.options.appendTo||"body",b)[0]).mousedown(function(c){var d=a.menu.element[0];e(c.target).closest(".ui-menu-item").length||setTimeout(function(){e(document).one("mousedown",function(g){g.target!==a.element[0]&&g.target!==d&&!e.contains(d,g.target)&&a.close()})},1);setTimeout(function(){clearTimeout(a.closing)},13)}).menu({input:e(),focus:function(c,d){d=d.item.data("item.autocomplete");false!==a._trigger("focus",c,{item:d})&&
/^key/.test(c.originalEvent.type)&&a._value(d.value)},select:function(c,d){var g=d.item.data("item.autocomplete"),i=a.previous;if(a.element[0]!==b.activeElement){a.element.focus();a.previous=i;setTimeout(function(){a.previous=i;a.selectedItem=g},1)}false!==a._trigger("select",c,{item:g})&&a._value(g.value);a.term=a._value();a.close(c);a.selectedItem=g},blur:function(){a.menu.element.is(":visible")&&a._value()!==a.term&&a._value(a.term)}}).zIndex(this.element.zIndex()+1).hide().data("menu");e.fn.bgiframe&&
this.menu.element.bgiframe()},_destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove()},_setOption:function(a,b){this._super("_setOption",a,b);a==="source"&&this._initSource();if(a==="appendTo")this.menu.element.appendTo(e(b||"body",this.element[0].ownerDocument)[0]);a==="disabled"&&b&&this.xhr&&this.xhr.abort()},_initSource:function(){var a=this,b,f;if(e.isArray(this.options.source)){b=
this.options.source;this.source=function(c,d){d(e.ui.autocomplete.filter(b,c.term))}}else if(typeof this.options.source==="string"){f=this.options.source;this.source=function(c,d){a.xhr&&a.xhr.abort();a.xhr=e.ajax({url:f,data:c,dataType:"json",autocompleteRequest:++h,success:function(g){this.autocompleteRequest===h&&d(g)},error:function(){this.autocompleteRequest===h&&d([])}})}}else this.source=this.options.source},search:function(a,b){a=a!=null?a:this._value();this.term=this._value();if(a.length<
this.options.minLength)return this.close(b);clearTimeout(this.closing);if(this._trigger("search",b)!==false)return this._search(a)},_search:function(a){this.pending++;this.element.addClass("ui-autocomplete-loading");this.source({term:a},this.response)},_response:function(a){if(a)a=this._normalize(a);this._trigger("response",null,{content:a});if(!this.options.disabled&&a&&a.length){this._suggest(a);this._trigger("open")}else this.close();this.pending--;this.pending||this.element.removeClass("ui-autocomplete-loading")},
close:function(a){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this.menu.element.hide();this.menu.blur();this._trigger("close",a)}},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){if(a.length&&a[0].label&&a[0].value)return a;return e.map(a,function(b){if(typeof b==="string")return{label:b,value:b};return e.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(a){var b=this.menu.element.empty().zIndex(this.element.zIndex()+
1);this._renderMenu(b,a);this.menu.blur();this.menu.refresh();b.show();this._resizeMenu();b.position(e.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next(new e.Event("mouseover"))},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(a,b){var f=this;e.each(b,function(c,d){f._renderItem(a,d)})},_renderItem:function(a,b){return e("<li></li>").data("item.autocomplete",b).append(e("<a></a>").text(b.label)).appendTo(a)},
_move:function(a,b){if(this.menu.element.is(":visible"))if(this.menu.first()&&/^previous/.test(a)||this.menu.last()&&/^next/.test(a)){this._value(this.term);this.menu.blur()}else this.menu[a](b);else this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)}});e.extend(e.ui.autocomplete,{version:"@VERSION",escapeRegex:function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},filter:function(a,b){var f=new RegExp(e.ui.autocomplete.escapeRegex(b),
"i");return e.grep(a,function(c){return f.test(c.label||c.value||c)})}})})(jQuery);
;
steal.end();
steal.plugins("jqueryui/core","jqueryui/widget","jqueryui/position","jqueryui/mouse").then("../lib/ui/jquery.ui.dialog.js");
;
steal.end();
steal.plugins("jqueryui/core","jqueryui/widget").then("../lib/ui/jquery.ui.mouse.js");
;
steal.end();
(function(b){b.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(c){return a._mouseDown(c)}).bind("click."+this.widgetName,function(c){if(true===b.data(c.target,a.widgetName+".preventClickEvent")){b.removeData(c.target,a.widgetName+".preventClickEvent");c.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(a){a.originalEvent=
a.originalEvent||{};if(!a.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(a);this._mouseDownEvent=a;var c=this,e=a.which==1,f=typeof this.options.cancel=="string"?b(a.target).parents().add(a.target).filter(this.options.cancel).length:false;if(!e||f||!this._mouseCapture(a))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)){this._mouseStarted=
this._mouseStart(a)!==false;if(!this._mouseStarted){a.preventDefault();return true}}true===b.data(a.target,this.widgetName+".preventClickEvent")&&b.removeData(a.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(d){return c._mouseMove(d)};this._mouseUpDelegate=function(d){return c._mouseUp(d)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.preventDefault();return a.originalEvent.mouseHandled=
true}},_mouseMove:function(a){if(b.browser.msie&&!(document.documentMode>=9)&&!a.button)return this._mouseUp(a);if(this._mouseStarted){this._mouseDrag(a);return a.preventDefault()}if(this._mouseDistanceMet(a)&&this._mouseDelayMet(a))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==false)?this._mouseDrag(a):this._mouseUp(a);return!this._mouseStarted},_mouseUp:function(a){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);
if(this._mouseStarted){this._mouseStarted=false;a.target==this._mouseDownEvent.target&&b.data(a.target,this.widgetName+".preventClickEvent",true);this._mouseStop(a)}return false},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
;
steal.end();
(function(c,j){var k={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},l={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};c.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(a){var b=c(this).css(a).offset().top;
b<0&&c(this).css("top",a.top-b)}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1E3},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string")this.originalTitle="";this.options.title=this.options.title||this.originalTitle;var a=this,b=a.options,d=b.title||"&#160;",e=c.ui.dialog.getTitleId(a.element),g=(a.uiDialog=c("<div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+b.dialogClass).css({zIndex:b.zIndex}).attr("tabIndex",
-1).css("outline",0).keydown(function(i){if(b.closeOnEscape&&!i.isDefaultPrevented()&&i.keyCode&&i.keyCode===c.ui.keyCode.ESCAPE){a.close(i);i.preventDefault()}}).attr({role:"dialog","aria-labelledby":e}).mousedown(function(i){a.moveToTop(false,i)});a.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(g);var f=(a.uiDialogTitlebar=c("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").prependTo(g),h=c("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role",
"button").click(function(i){i.preventDefault();a.close(i)}).appendTo(f);(a.uiDialogTitlebarCloseText=c("<span>")).addClass("ui-icon ui-icon-closethick").text(b.closeText).appendTo(h);c("<span>").addClass("ui-dialog-title").attr("id",e).html(d).prependTo(f);f.find("*").add(f).disableSelection();this._hoverable(h);this._focusable(h);b.draggable&&c.fn.draggable&&a._makeDraggable();b.resizable&&c.fn.resizable&&a._makeResizable();a._createButtons(b.buttons);a._isOpen=false;c.fn.bgiframe&&g.bgiframe()},
_init:function(){this.options.autoOpen&&this.open()},_destroy:function(){var a=this;a.overlay&&a.overlay.destroy();a.uiDialog.hide();a.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");a.uiDialog.remove();a.originalTitle&&a.element.attr("title",a.originalTitle)},widget:function(){return this.uiDialog},close:function(a){var b=this,d,e;if(false!==b._trigger("beforeClose",a)){b.overlay&&b.overlay.destroy();b.uiDialog.unbind("keypress.ui-dialog");b._isOpen=false;if(b.options.hide)b.uiDialog.hide(b.options.hide,
function(){b._trigger("close",a)});else{b.uiDialog.hide();b._trigger("close",a)}c.ui.dialog.overlay.resize();if(b.options.modal){d=0;c(".ui-dialog").each(function(){if(this!==b.uiDialog[0]){e=c(this).css("z-index");isNaN(e)||(d=Math.max(d,e))}});c.ui.dialog.maxZ=d}return b}},isOpen:function(){return this._isOpen},moveToTop:function(a,b){var d=this,e=d.options;if(e.modal&&!a||!e.stack&&!e.modal)return d._trigger("focus",b);if(e.zIndex>c.ui.dialog.maxZ)c.ui.dialog.maxZ=e.zIndex;if(d.overlay){c.ui.dialog.maxZ+=
1;c.ui.dialog.overlay.maxZ=c.ui.dialog.maxZ;d.overlay.$el.css("z-index",c.ui.dialog.overlay.maxZ)}a={scrollTop:d.element.attr("scrollTop"),scrollLeft:d.element.attr("scrollLeft")};c.ui.dialog.maxZ+=1;d.uiDialog.css("z-index",c.ui.dialog.maxZ);d.element.attr(a);d._trigger("focus",b);return d},open:function(){if(!this._isOpen){var a=this,b=a.options,d=a.uiDialog;a.overlay=b.modal?new c.ui.dialog.overlay(a):null;a._size();a._position(b.position);d.show(b.show);a.moveToTop(true);b.modal&&d.bind("keypress.ui-dialog",
function(e){if(e.keyCode===c.ui.keyCode.TAB){var g=c(":tabbable",this),f=g.filter(":first");g=g.filter(":last");if(e.target===g[0]&&!e.shiftKey){f.focus(1);return false}else if(e.target===f[0]&&e.shiftKey){g.focus(1);return false}}});c(a.element.find(":tabbable").get().concat(d.find(".ui-dialog-buttonpane :tabbable").get().concat(d.get()))).eq(0).focus();a._isOpen=true;a._trigger("open");return a}},_createButtons:function(a){var b=this,d=false,e=c("<div>").addClass("ui-dialog-buttonpane  ui-widget-content ui-helper-clearfix"),
g=c("<div>").addClass("ui-dialog-buttonset").appendTo(e);b.uiDialog.find(".ui-dialog-buttonpane").remove();typeof a==="object"&&a!==null&&c.each(a,function(){return!(d=true)});if(d){c.each(a,function(f,h){h=c.isFunction(h)?{click:h,text:f}:h;f=c("<button type='button'>").attr(h,true).unbind("click").click(function(){h.click.apply(b.element[0],arguments)}).appendTo(g);c.fn.button&&f.button()});b.uiDialog.addClass("ui-dialog-buttons");e.appendTo(b.uiDialog)}else b.uiDialog.removeClass("ui-dialog-buttons")},
_makeDraggable:function(){function a(f){return{position:f.position,offset:f.offset}}var b=this,d=b.options,e=c(document),g;b.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(f,h){g=d.height==="auto"?"auto":c(this).height();c(this).height(c(this).height()).addClass("ui-dialog-dragging");b._trigger("dragStart",f,a(h))},drag:function(f,h){b._trigger("drag",f,a(h))},stop:function(f,h){d.position=[h.position.left-
e.scrollLeft(),h.position.top-e.scrollTop()];c(this).removeClass("ui-dialog-dragging").height(g);b._trigger("dragStop",f,a(h));c.ui.dialog.overlay.resize()}})},_makeResizable:function(a){function b(f){return{originalPosition:f.originalPosition,originalSize:f.originalSize,position:f.position,size:f.size}}a=a===j?this.options.resizable:a;var d=this,e=d.options,g=d.uiDialog.css("position");a=typeof a==="string"?a:"n,e,s,w,se,sw,ne,nw";d.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",
alsoResize:d.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:d._minHeight(),handles:a,start:function(f,h){c(this).addClass("ui-dialog-resizing");d._trigger("resizeStart",f,b(h))},resize:function(f,h){d._trigger("resize",f,b(h))},stop:function(f,h){c(this).removeClass("ui-dialog-resizing");e.height=c(this).height();e.width=c(this).width();d._trigger("resizeStop",f,b(h));c.ui.dialog.overlay.resize()}}).css("position",g).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},
_minHeight:function(){var a=this.options;return a.height==="auto"?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(a){var b=[],d=[0,0],e;if(a){if(typeof a==="string"||typeof a==="object"&&"0"in a){b=a.split?a.split(" "):[a[0],a[1]];if(b.length===1)b[1]=b[0];c.each(["left","top"],function(g,f){if(+b[g]===b[g]){d[g]=b[g];b[g]=f}});a={my:b.join(" "),at:b.join(" "),offset:d.join(" ")}}a=c.extend({},c.ui.dialog.prototype.options.position,a)}else a=c.ui.dialog.prototype.options.position;(e=
this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.position(a);e||this.uiDialog.hide()},_setOptions:function(a){var b=this,d={},e=false;c.each(a,function(g,f){b._setOption(g,f);if(g in k)e=true;if(g in l)d[g]=f});e&&this._size();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",d)},_setOption:function(a,b){var d=this,e=d.uiDialog;switch(a){case "buttons":d._createButtons(b);break;case "closeText":d.uiDialogTitlebarCloseText.text(""+b);break;case "dialogClass":e.removeClass(d.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+
b);break;case "disabled":b?e.addClass("ui-dialog-disabled"):e.removeClass("ui-dialog-disabled");break;case "draggable":var g=e.is(":data(draggable)");g&&!b&&e.draggable("destroy");!g&&b&&d._makeDraggable();break;case "position":d._position(b);break;case "resizable":(g=e.is(":data(resizable)"))&&!b&&e.resizable("destroy");g&&typeof b==="string"&&e.resizable("option","handles",b);!g&&b!==false&&d._makeResizable(b);break;case "title":c(".ui-dialog-title",d.uiDialogTitlebar).html(""+(b||"&#160;"));break}this._super("_setOption",
a,b)},_size:function(){var a=this.options,b,d,e=this.uiDialog.is(":visible");this.element.show().css({width:"auto",minHeight:0,height:0});if(a.minWidth>a.width)a.width=a.minWidth;b=this.uiDialog.css({height:"auto",width:a.width}).height();d=Math.max(0,a.minHeight-b);if(a.height==="auto")if(c.support.minHeight)this.element.css({minHeight:d,height:"auto"});else{this.uiDialog.show();a=this.element.css("height","auto").height();e||this.uiDialog.hide();this.element.height(Math.max(a,d))}else this.element.height(Math.max(a.height-
b,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())}});c.extend(c.ui.dialog,{version:"@VERSION",uuid:0,maxZ:0,getTitleId:function(a){a=a.attr("id");if(!a){this.uuid+=1;a=this.uuid}return"ui-dialog-title-"+a},overlay:function(a){this.$el=c.ui.dialog.overlay.create(a)}});c.extend(c.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:c.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(a){return a+".dialog-overlay"}).join(" "),
create:function(a){if(this.instances.length===0){setTimeout(function(){c.ui.dialog.overlay.instances.length&&c(document).bind(c.ui.dialog.overlay.events,function(d){if(c(d.target).zIndex()<c.ui.dialog.overlay.maxZ)return false})},1);c(document).bind("keydown.dialog-overlay",function(d){if(a.options.closeOnEscape&&!d.isDefaultPrevented()&&d.keyCode&&d.keyCode===c.ui.keyCode.ESCAPE){a.close(d);d.preventDefault()}});c(window).bind("resize.dialog-overlay",c.ui.dialog.overlay.resize)}var b=(this.oldInstances.pop()||
c("<div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});c.fn.bgiframe&&b.bgiframe();this.instances.push(b);return b},destroy:function(a){var b=c.inArray(a,this.instances);b!==-1&&this.oldInstances.push(this.instances.splice(b,1)[0]);this.instances.length===0&&c([document,window]).unbind(".dialog-overlay");a.remove();var d=0;c.each(this.instances,function(){d=Math.max(d,this.css("z-index"))});this.maxZ=d},height:function(){var a,b;if(c.browser.msie&&
c.browser.version<7){a=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);b=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);return a<b?c(window).height()+"px":a+"px"}else return c(document).height()+"px"},width:function(){var a,b;if(c.browser.msie&&c.browser.version<7){a=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);b=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return a<b?c(window).width()+"px":
a+"px"}else return c(document).width()+"px"},resize:function(){var a=c([]);c.each(c.ui.dialog.overlay.instances,function(){a=a.add(this)});a.css({width:0,height:0}).css({width:c.ui.dialog.overlay.width(),height:c.ui.dialog.overlay.height()})}});c.extend(c.ui.dialog.overlay.prototype,{destroy:function(){c.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);
;
steal.end();
steal.plugins("jqueryui/core","jqueryui/widget","jqueryui/mouse").then("../lib/ui/jquery.ui.draggable.js");
;
steal.end();
(function(d){d.widget("ui.draggable",d.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper==
"original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(a){var b=
this.options;if(this.helper||b.disabled||d(a.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(a);if(!this.handle)return false;return true},_mouseStart:function(a){var b=this.options;this.helper=this._createHelper(a);this._cacheHelperProportions();if(d.ui.ddmanager)d.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-
this.margins.top,left:this.offset.left-this.margins.left};d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);b.containment&&this._setContainment();if(this._trigger("start",a)===false){this._clear();return false}this._cacheHelperProportions();
d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(a,true);return true},_mouseDrag:function(a,b){this.position=this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!b){b=this._uiHash();if(this._trigger("drag",a,b)===false){this._mouseUp({});return false}this.position=b.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||
this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);return false},_mouseStop:function(a){var b=false;if(d.ui.ddmanager&&!this.options.dropBehaviour)b=d.ui.ddmanager.drop(this,a);if(this.dropped){b=this.dropped;this.dropped=false}if(!this.element[0]||!this.element[0].parentNode)return false;if(this.options.revert=="invalid"&&!b||this.options.revert=="valid"&&b||this.options.revert===true||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,
b)){var c=this;d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",a)!==false&&c._clear()})}else this._trigger("stop",a)!==false&&this._clear();return false},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(a){var b=!this.options.handle||!d(this.options.handle,this.element).length?true:false;d(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==
a.target)b=true});return b},_createHelper:function(a){var b=this.options;a=d.isFunction(b.helper)?d(b.helper.apply(this.element[0],[a])):b.helper=="clone"?this.element.clone():this.element;a.parents("body").length||a.appendTo(b.appendTo=="parent"?this.element[0].parentNode:b.appendTo);a[0]!=this.element[0]&&!/(fixed|absolute)/.test(a.css("position"))&&a.css("position","absolute");return a},_adjustOffsetFromHelper:function(a){if(typeof a=="string")a=a.split(" ");if(d.isArray(a))a={left:+a[0],top:+a[1]||
0};if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.contains(this.scrollParent[0],
this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.element.position();return{top:a.top-
(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),
height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if(a.containment=="parent")a.containment=this.helper[0].parentNode;if(a.containment=="document"||a.containment=="window")this.containment=[(a.containment=="document"?0:d(window).scrollLeft())-this.offset.relative.left-this.offset.parent.left,(a.containment=="document"?0:d(window).scrollTop())-this.offset.relative.top-this.offset.parent.top,(a.containment=="document"?0:d(window).scrollLeft())+d(a.containment=="document"?
document:window).width()-this.helperProportions.width-this.margins.left,(a.containment=="document"?0:d(window).scrollTop())+(d(a.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)&&a.containment.constructor!=Array){var b=d(a.containment)[0];if(b){a=d(a.containment).offset();var c=d(b).css("overflow")!="hidden";this.containment=[a.left+(parseInt(d(b).css("borderLeftWidth"),
10)||0)+(parseInt(d(b).css("paddingLeft"),10)||0),a.top+(parseInt(d(b).css("borderTopWidth"),10)||0)+(parseInt(d(b).css("paddingTop"),10)||0),a.left+(c?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(d(b).css("borderLeftWidth"),10)||0)-(parseInt(d(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,a.top+(c?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(d(b).css("borderTopWidth"),10)||0)-(parseInt(d(b).css("paddingBottom"),
10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom]}}else if(a.containment.constructor==Array)this.containment=a.containment},_convertPositionTo:function(a,b){if(!b)b=this.position;a=a=="absolute"?1:-1;var c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(c[0].tagName);return{top:b.top+this.offset.relative.top*a+this.offset.parent.top*a-(d.browser.safari&&
d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:c.scrollTop())*a),left:b.left+this.offset.relative.left*a+this.offset.parent.left*a-(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:c.scrollLeft())*a)}},_generatePosition:function(a){var b=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.contains(this.scrollParent[0],this.offsetParent[0]))?
this.offsetParent:this.scrollParent,f=/(html|body)/i.test(c[0].tagName),e=a.pageX,g=a.pageY;if(this.originalPosition){if(this.containment){if(a.pageX-this.offset.click.left<this.containment[0])e=this.containment[0]+this.offset.click.left;if(a.pageY-this.offset.click.top<this.containment[1])g=this.containment[1]+this.offset.click.top;if(a.pageX-this.offset.click.left>this.containment[2])e=this.containment[2]+this.offset.click.left;if(a.pageY-this.offset.click.top>this.containment[3])g=this.containment[3]+
this.offset.click.top}if(b.grid){g=this.originalPageY+Math.round((g-this.originalPageY)/b.grid[1])*b.grid[1];g=this.containment?!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:!(g-this.offset.click.top<this.containment[1])?g-b.grid[1]:g+b.grid[1]:g;e=this.originalPageX+Math.round((e-this.originalPageX)/b.grid[0])*b.grid[0];e=this.containment?!(e-this.offset.click.left<this.containment[0]||e-this.offset.click.left>this.containment[2])?e:!(e-this.offset.click.left<
this.containment[0])?e-b.grid[0]:e+b.grid[0]:e}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:c.scrollTop()),left:e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&d.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:c.scrollLeft())}},
_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(a,b,c){c=c||this._uiHash();d.ui.plugin.call(this,a,[b,c]);if(a=="drag")this.positionAbs=this._convertPositionTo("absolute");return d.Widget.prototype._trigger.call(this,a,b,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,
offset:this.positionAbs}}});d.extend(d.ui.draggable,{version:"@VERSION"});d.ui.plugin.add("draggable","connectToSortable",{start:function(a,b){var c=d(this).data("draggable"),f=c.options,e=d.extend({},b,{item:c.element});c.sortables=[];d(f.connectToSortable).each(function(){var g=d.data(this,"sortable");if(g&&!g.options.disabled){c.sortables.push({instance:g,shouldRevert:g.options.revert});g.refreshPositions();g._trigger("activate",a,e)}})},stop:function(a,b){var c=d(this).data("draggable"),f=d.extend({},
b,{item:c.element});d.each(c.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;c.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(a);this.instance.options.helper=this.instance.options._helper;c.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",a,f)}})},drag:function(a,b){var c=
d(this).data("draggable"),f=this;d.each(c.sortables,function(){this.instance.positionAbs=c.positionAbs;this.instance.helperProportions=c.helperProportions;this.instance.offset.click=c.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=d(f).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return b.helper[0]};
a.target=this.instance.currentItem[0];this.instance._mouseCapture(a,true);this.instance._mouseStart(a,true,true);this.instance.offset.click.top=c.offset.click.top;this.instance.offset.click.left=c.offset.click.left;this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top;c._trigger("toSortable",a);c.dropped=this.instance.element;c.currentItem=c.element;this.instance.fromOutside=c}this.instance.currentItem&&
this.instance._mouseDrag(a)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",a,this.instance._uiHash(this.instance));this.instance._mouseStop(a,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();c._trigger("fromSortable",a);c.dropped=false}})}});d.ui.plugin.add("draggable","cursor",
{start:function(){var a=d("body"),b=d(this).data("draggable").options;if(a.css("cursor"))b._cursor=a.css("cursor");a.css("cursor",b.cursor)},stop:function(){var a=d(this).data("draggable").options;a._cursor&&d("body").css("cursor",a._cursor)}});d.ui.plugin.add("draggable","iframeFix",{start:function(){var a=d(this).data("draggable").options;d(a.iframeFix===true?"iframe":a.iframeFix).each(function(){d('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+
"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(d(this).offset()).appendTo("body")})},stop:function(){d("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});d.ui.plugin.add("draggable","opacity",{start:function(a,b){a=d(b.helper);b=d(this).data("draggable").options;if(a.css("opacity"))b._opacity=a.css("opacity");a.css("opacity",b.opacity)},stop:function(a,b){a=d(this).data("draggable").options;a._opacity&&d(b.helper).css("opacity",
a._opacity)}});d.ui.plugin.add("draggable","scroll",{start:function(){var a=d(this).data("draggable");if(a.scrollParent[0]!=document&&a.scrollParent[0].tagName!="HTML")a.overflowOffset=a.scrollParent.offset()},drag:function(a){var b=d(this).data("draggable"),c=b.options,f=false;if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML"){if(!c.axis||c.axis!="x")if(b.overflowOffset.top+b.scrollParent[0].offsetHeight-a.pageY<c.scrollSensitivity)b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop+
c.scrollSpeed;else if(a.pageY-b.overflowOffset.top<c.scrollSensitivity)b.scrollParent[0].scrollTop=f=b.scrollParent[0].scrollTop-c.scrollSpeed;if(!c.axis||c.axis!="y")if(b.overflowOffset.left+b.scrollParent[0].offsetWidth-a.pageX<c.scrollSensitivity)b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft+c.scrollSpeed;else if(a.pageX-b.overflowOffset.left<c.scrollSensitivity)b.scrollParent[0].scrollLeft=f=b.scrollParent[0].scrollLeft-c.scrollSpeed}else{if(!c.axis||c.axis!="x")if(a.pageY-d(document).scrollTop()<
c.scrollSensitivity)f=d(document).scrollTop(d(document).scrollTop()-c.scrollSpeed);else if(d(window).height()-(a.pageY-d(document).scrollTop())<c.scrollSensitivity)f=d(document).scrollTop(d(document).scrollTop()+c.scrollSpeed);if(!c.axis||c.axis!="y")if(a.pageX-d(document).scrollLeft()<c.scrollSensitivity)f=d(document).scrollLeft(d(document).scrollLeft()-c.scrollSpeed);else if(d(window).width()-(a.pageX-d(document).scrollLeft())<c.scrollSensitivity)f=d(document).scrollLeft(d(document).scrollLeft()+
c.scrollSpeed)}f!==false&&d.ui.ddmanager&&!c.dropBehaviour&&d.ui.ddmanager.prepareOffsets(b,a)}});d.ui.plugin.add("draggable","snap",{start:function(){var a=d(this).data("draggable"),b=a.options;a.snapElements=[];d(b.snap.constructor!=String?b.snap.items||":data(draggable)":b.snap).each(function(){var c=d(this),f=c.offset();this!=a.element[0]&&a.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:f.top,left:f.left})})},drag:function(a,b){for(var c=d(this).data("draggable"),
f=c.options,e=f.snapTolerance,g=b.offset.left,n=g+c.helperProportions.width,m=b.offset.top,o=m+c.helperProportions.height,h=c.snapElements.length-1;h>=0;h--){var i=c.snapElements[h].left,k=i+c.snapElements[h].width,j=c.snapElements[h].top,l=j+c.snapElements[h].height;if(i-e<g&&g<k+e&&j-e<m&&m<l+e||i-e<g&&g<k+e&&j-e<o&&o<l+e||i-e<n&&n<k+e&&j-e<m&&m<l+e||i-e<n&&n<k+e&&j-e<o&&o<l+e){if(f.snapMode!="inner"){var p=Math.abs(j-o)<=e,q=Math.abs(l-m)<=e,r=Math.abs(i-n)<=e,s=Math.abs(k-g)<=e;if(p)b.position.top=
c._convertPositionTo("relative",{top:j-c.helperProportions.height,left:0}).top-c.margins.top;if(q)b.position.top=c._convertPositionTo("relative",{top:l,left:0}).top-c.margins.top;if(r)b.position.left=c._convertPositionTo("relative",{top:0,left:i-c.helperProportions.width}).left-c.margins.left;if(s)b.position.left=c._convertPositionTo("relative",{top:0,left:k}).left-c.margins.left}var t=p||q||r||s;if(f.snapMode!="outer"){p=Math.abs(j-m)<=e;q=Math.abs(l-o)<=e;r=Math.abs(i-g)<=e;s=Math.abs(k-n)<=e;if(p)b.position.top=
c._convertPositionTo("relative",{top:j,left:0}).top-c.margins.top;if(q)b.position.top=c._convertPositionTo("relative",{top:l-c.helperProportions.height,left:0}).top-c.margins.top;if(r)b.position.left=c._convertPositionTo("relative",{top:0,left:i}).left-c.margins.left;if(s)b.position.left=c._convertPositionTo("relative",{top:0,left:k-c.helperProportions.width}).left-c.margins.left}if(!c.snapElements[h].snapping&&(p||q||r||s||t))c.options.snap.snap&&c.options.snap.snap.call(c.element,a,d.extend(c._uiHash(),
{snapItem:c.snapElements[h].item}));c.snapElements[h].snapping=p||q||r||s||t}else{c.snapElements[h].snapping&&c.options.snap.release&&c.options.snap.release.call(c.element,a,d.extend(c._uiHash(),{snapItem:c.snapElements[h].item}));c.snapElements[h].snapping=false}}}});d.ui.plugin.add("draggable","stack",{start:function(){var a=d(this).data("draggable").options;a=d.makeArray(d(a.stack)).sort(function(c,f){return(parseInt(d(c).css("zIndex"),10)||0)-(parseInt(d(f).css("zIndex"),10)||0)});if(a.length){var b=
parseInt(a[0].style.zIndex)||0;d(a).each(function(c){this.style.zIndex=b+c});this[0].style.zIndex=b+a.length}}});d.ui.plugin.add("draggable","zIndex",{start:function(a,b){a=d(b.helper);b=d(this).data("draggable").options;if(a.css("zIndex"))b._zIndex=a.css("zIndex");a.css("zIndex",b.zIndex)},stop:function(a,b){a=d(this).data("draggable").options;a._zIndex&&d(b.helper).css("zIndex",a._zIndex)}})})(jQuery);
;
steal.end();
steal.plugins("jqueryui/core","jqueryui/widget","jqueryui/mouse").then("../lib/ui/jquery.ui.resizable.js");
;
steal.end();
(function(e){e.widget("ui.resizable",e.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var b=this,a=this.options;this.element.addClass("ui-resizable");e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,
_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){/relative/.test(this.element.css("position"))&&e.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"});this.element.wrap(e('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),
top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=
this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=a.handles||(!e(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",
nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all")this.handles="n,e,s,w,se,sw,ne,nw";var c=this.handles.split(",");this.handles={};for(var d=0;d<c.length;d++){var f=e.trim(c[d]),g=e('<div class="ui-resizable-handle '+("ui-resizable-"+f)+'"></div>');/sw|se|ne|nw/.test(f)&&g.css({zIndex:++a.zIndex});"se"==f&&g.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[f]=".ui-resizable-"+f;this.element.append(g)}}this._renderAxis=function(h){h=h||this.element;for(var i in this.handles){if(this.handles[i].constructor==
String)this.handles[i]=e(this.handles[i],this.element).show();if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var j=e(this.handles[i],this.element),k=0;k=/sw|ne|nw|se|n|s/.test(i)?j.outerHeight():j.outerWidth();j=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");h.css(j,k);this._proportionallyResize()}e(this.handles[i])}};this._renderAxis(this.element);this._handles=e(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){if(!b.resizing){if(this.className)var h=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);b.axis=h&&h[1]?h[1]:"se"}});if(a.autoHide){this._handles.hide();e(this.element).addClass("ui-resizable-autohide").hover(function(){e(this).removeClass("ui-resizable-autohide");b._handles.show()},function(){if(!b.resizing){e(this).addClass("ui-resizable-autohide");b._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var b=function(c){e(c).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};
if(this.elementIsWrapper){b(this.element);var a=this.element;a.after(this.originalElement.css({position:a.css("position"),width:a.outerWidth(),height:a.outerHeight(),top:a.css("top"),left:a.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);b(this.originalElement);return this},_mouseCapture:function(b){var a=false;for(var c in this.handles)if(e(this.handles[c])[0]==b.target)a=true;return!this.options.disabled&&a},_mouseStart:function(b){var a=this.options,c=this.element.position(),
d=this.element;this.resizing=true;this.documentScroll={top:e(document).scrollTop(),left:e(document).scrollLeft()};if(d.is(".ui-draggable")||/absolute/.test(d.css("position")))d.css({position:"absolute",top:c.top,left:c.left});e.browser.opera&&/relative/.test(d.css("position"))&&d.css({position:"relative",top:"auto",left:"auto"});this._renderProxy();c=m(this.helper.css("left"));var f=m(this.helper.css("top"));if(a.containment){c+=e(a.containment).scrollLeft()||0;f+=e(a.containment).scrollTop()||0}this.offset=
this.helper.offset();this.position={left:c,top:f};this.size=this._helper?{width:d.outerWidth(),height:d.outerHeight()}:{width:d.width(),height:d.height()};this.originalSize=this._helper?{width:d.outerWidth(),height:d.outerHeight()}:{width:d.width(),height:d.height()};this.originalPosition={left:c,top:f};this.sizeDiff={width:d.outerWidth()-d.width(),height:d.outerHeight()-d.height()};this.originalMousePosition={left:b.pageX,top:b.pageY};this.aspectRatio=typeof a.aspectRatio=="number"?a.aspectRatio:
this.originalSize.width/this.originalSize.height||1;a=e(".ui-resizable-"+this.axis).css("cursor");e("body").css("cursor",a=="auto"?this.axis+"-resize":a);d.addClass("ui-resizable-resizing");this._propagate("start",b);return true},_mouseDrag:function(b){var a=this.helper,c=this.originalMousePosition,d=this._change[this.axis];if(!d)return false;c=d.apply(this,[b,b.pageX-c.left||0,b.pageY-c.top||0]);if(this._aspectRatio||b.shiftKey)c=this._updateRatio(c,b);c=this._respectSize(c,b);this._propagate("resize",
b);a.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();this._updateCache(c);this._trigger("resize",b,this.ui());return false},_mouseStop:function(b){this.resizing=false;var a=this.options,c=this;if(this._helper){var d=this._proportionallyResizeElements,f=d.length&&/textarea/i.test(d[0].nodeName);d=f&&e.ui.hasScroll(d[0],"left")?0:c.sizeDiff.height;
f=f?0:c.sizeDiff.width;f={width:c.helper.width()-f,height:c.helper.height()-d};d=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null;var g=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;a.animate||this.element.css(e.extend(f,{top:g,left:d}));c.helper.height(c.size.height);c.helper.width(c.size.width);this._helper&&!a.animate&&this._proportionallyResize()}e("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");
this._propagate("stop",b);this._helper&&this.helper.remove();return false},_updateCache:function(b){this.offset=this.helper.offset();if(l(b.left))this.position.left=b.left;if(l(b.top))this.position.top=b.top;if(l(b.height))this.size.height=b.height;if(l(b.width))this.size.width=b.width},_updateRatio:function(b){var a=this.position,c=this.size,d=this.axis;if(b.height)b.width=c.height*this.aspectRatio;else if(b.width)b.height=c.width/this.aspectRatio;if(d=="sw"){b.left=a.left+(c.width-b.width);b.top=
null}if(d=="nw"){b.top=a.top+(c.height-b.height);b.left=a.left+(c.width-b.width)}return b},_respectSize:function(b){var a=this.options,c=this.axis,d=l(b.width)&&a.maxWidth&&a.maxWidth<b.width,f=l(b.height)&&a.maxHeight&&a.maxHeight<b.height,g=l(b.width)&&a.minWidth&&a.minWidth>b.width,h=l(b.height)&&a.minHeight&&a.minHeight>b.height;if(g)b.width=a.minWidth;if(h)b.height=a.minHeight;if(d)b.width=a.maxWidth;if(f)b.height=a.maxHeight;var i=this.originalPosition.left+this.originalSize.width,j=this.position.top+
this.size.height,k=/sw|nw|w/.test(c);c=/nw|ne|n/.test(c);if(g&&k)b.left=i-a.minWidth;if(d&&k)b.left=i-a.maxWidth;if(h&&c)b.top=j-a.minHeight;if(f&&c)b.top=j-a.maxHeight;if((a=!b.width&&!b.height)&&!b.left&&b.top)b.top=null;else if(a&&!b.top&&b.left)b.left=null;return b},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var b=this.helper||this.element,a=0;a<this._proportionallyResizeElements.length;a++){var c=this._proportionallyResizeElements[a];if(!this.borderDif){var d=
[c.css("borderTopWidth"),c.css("borderRightWidth"),c.css("borderBottomWidth"),c.css("borderLeftWidth")],f=[c.css("paddingTop"),c.css("paddingRight"),c.css("paddingBottom"),c.css("paddingLeft")];this.borderDif=e.map(d,function(g,h){g=parseInt(g,10)||0;h=parseInt(f[h],10)||0;return g+h})}e.browser.msie&&(e(b).is(":hidden")||e(b).parents(":hidden").length)||c.css({height:b.height()-this.borderDif[0]-this.borderDif[2]||0,width:b.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var b=
this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||e('<div style="overflow:hidden;"></div>');var a=e.browser.msie&&e.browser.version<7,c=a?1:0;a=a?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+a,height:this.element.outerHeight()+a,position:"absolute",left:this.elementOffset.left-c+"px",top:this.elementOffset.top-c+"px",zIndex:++b.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(b,
a){return{width:this.originalSize.width+a}},w:function(b,a){return{left:this.originalPosition.left+a,width:this.originalSize.width-a}},n:function(b,a,c){return{top:this.originalPosition.top+c,height:this.originalSize.height-c}},s:function(b,a,c){return{height:this.originalSize.height+c}},se:function(b,a,c){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,a,c]))},sw:function(b,a,c){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,a,
c]))},ne:function(b,a,c){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,a,c]))},nw:function(b,a,c){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,a,c]))}},_propagate:function(b,a){e.ui.plugin.call(this,b,[a,this.ui()]);b!="resize"&&this._trigger(b,a,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,
originalPosition:this.originalPosition}}});e.extend(e.ui.resizable,{version:"@VERSION"});e.ui.plugin.add("resizable","alsoResize",{start:function(){var b=e(this).data("resizable").options,a=function(c){e(c).each(function(){var d=e(this);d.data("resizable-alsoresize",{width:parseInt(d.width(),10),height:parseInt(d.height(),10),left:parseInt(d.css("left"),10),top:parseInt(d.css("top"),10),position:d.css("position")})})};if(typeof b.alsoResize=="object"&&!b.alsoResize.parentNode)if(b.alsoResize.length){b.alsoResize=
b.alsoResize[0];a(b.alsoResize)}else e.each(b.alsoResize,function(c){a(c)});else a(b.alsoResize)},resize:function(b,a){var c=e(this).data("resizable");b=c.options;var d=c.originalSize,f=c.originalPosition,g={height:c.size.height-d.height||0,width:c.size.width-d.width||0,top:c.position.top-f.top||0,left:c.position.left-f.left||0},h=function(i,j){e(i).each(function(){var k=e(this),q=e(this).data("resizable-alsoresize"),p={},r=j&&j.length?j:k.parents(a.originalElement[0]).length?["width","height"]:["width",
"height","top","left"];e.each(r,function(n,o){if((n=(q[o]||0)+(g[o]||0))&&n>=0)p[o]=n||null});if(e.browser.opera&&/relative/.test(k.css("position"))){c._revertToRelativePosition=true;k.css({position:"absolute",top:"auto",left:"auto"})}k.css(p)})};typeof b.alsoResize=="object"&&!b.alsoResize.nodeType?e.each(b.alsoResize,function(i,j){h(i,j)}):h(b.alsoResize)},stop:function(){var b=e(this).data("resizable"),a=b.options,c=function(d){e(d).each(function(){var f=e(this);f.css({position:f.data("resizable-alsoresize").position})})};
if(b._revertToRelativePosition){b._revertToRelativePosition=false;typeof a.alsoResize=="object"&&!a.alsoResize.nodeType?e.each(a.alsoResize,function(d){c(d)}):c(a.alsoResize)}e(this).removeData("resizable-alsoresize")}});e.ui.plugin.add("resizable","animate",{stop:function(b){var a=e(this).data("resizable"),c=a.options,d=a._proportionallyResizeElements,f=d.length&&/textarea/i.test(d[0].nodeName),g=f&&e.ui.hasScroll(d[0],"left")?0:a.sizeDiff.height;f={width:a.size.width-(f?0:a.sizeDiff.width),height:a.size.height-
g};g=parseInt(a.element.css("left"),10)+(a.position.left-a.originalPosition.left)||null;var h=parseInt(a.element.css("top"),10)+(a.position.top-a.originalPosition.top)||null;a.element.animate(e.extend(f,h&&g?{top:h,left:g}:{}),{duration:c.animateDuration,easing:c.animateEasing,step:function(){var i={width:parseInt(a.element.css("width"),10),height:parseInt(a.element.css("height"),10),top:parseInt(a.element.css("top"),10),left:parseInt(a.element.css("left"),10)};d&&d.length&&e(d[0]).css({width:i.width,
height:i.height});a._updateCache(i);a._propagate("resize",b)}})}});e.ui.plugin.add("resizable","containment",{start:function(){var b=e(this).data("resizable"),a=b.element,c=b.options.containment;if(a=c instanceof e?c.get(0):/parent/.test(c)?a.parent().get(0):c){b.containerElement=e(a);if(/document/.test(c)||c==document){b.containerOffset={left:0,top:0};b.containerPosition={left:0,top:0};b.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}}else{var d=
e(a),f=[];e(["Top","Right","Left","Bottom"]).each(function(i,j){f[i]=m(d.css("padding"+j))});b.containerOffset=d.offset();b.containerPosition=d.position();b.containerSize={height:d.innerHeight()-f[3],width:d.innerWidth()-f[1]};c=b.containerOffset;var g=b.containerSize.height,h=b.containerSize.width;h=e.ui.hasScroll(a,"left")?a.scrollWidth:h;g=e.ui.hasScroll(a)?a.scrollHeight:g;b.parentData={element:a,left:c.left,top:c.top,width:h,height:g}}}},resize:function(b){var a=e(this).data("resizable"),c=a.options,
d=a.containerOffset,f=a.position;b=a._aspectRatio||b.shiftKey;var g={top:0,left:0},h=a.containerElement;if(h[0]!=document&&/static/.test(h.css("position")))g=d;if(f.left<(a._helper?d.left:0)){a.size.width+=a._helper?a.position.left-d.left:a.position.left-g.left;if(b)a.size.height=a.size.width/c.aspectRatio;a.position.left=c.helper?d.left:0}if(f.top<(a._helper?d.top:0)){a.size.height+=a._helper?a.position.top-d.top:a.position.top;if(b)a.size.width=a.size.height*c.aspectRatio;a.position.top=a._helper?
d.top:0}a.offset.left=a.parentData.left+a.position.left;a.offset.top=a.parentData.top+a.position.top;c=Math.abs((a._helper?a.offset.left-g.left:a.offset.left-g.left)+a.sizeDiff.width);d=Math.abs((a._helper?a.offset.top-g.top:a.offset.top-d.top)+a.sizeDiff.height);f=a.containerElement.get(0)==a.element.parent().get(0);g=/relative|absolute/.test(a.containerElement.css("position"));if(f&&g)c-=a.parentData.left;if(c+a.size.width>=a.parentData.width){a.size.width=a.parentData.width-c;if(b)a.size.height=
a.size.width/a.aspectRatio}if(d+a.size.height>=a.parentData.height){a.size.height=a.parentData.height-d;if(b)a.size.width=a.size.height*a.aspectRatio}},stop:function(){var b=e(this).data("resizable"),a=b.options,c=b.containerOffset,d=b.containerPosition,f=b.containerElement,g=e(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width;g=g.outerHeight()-b.sizeDiff.height;b._helper&&!a.animate&&/relative/.test(f.css("position"))&&e(this).css({left:h.left-d.left-c.left,width:i,height:g});b._helper&&!a.animate&&
/static/.test(f.css("position"))&&e(this).css({left:h.left-d.left-c.left,width:i,height:g})}});e.ui.plugin.add("resizable","ghost",{start:function(){var b=e(this).data("resizable"),a=b.options,c=b.size;b.ghost=b.originalElement.clone();b.ghost.css({opacity:0.25,display:"block",position:"relative",height:c.height,width:c.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof a.ghost=="string"?a.ghost:"");b.ghost.appendTo(b.helper)},resize:function(){var b=e(this).data("resizable");
b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=e(this).data("resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}});e.ui.plugin.add("resizable","grid",{resize:function(){var b=e(this).data("resizable"),a=b.options,c=b.size,d=b.originalSize,f=b.originalPosition,g=b.axis;a.grid=typeof a.grid=="number"?[a.grid,a.grid]:a.grid;var h=Math.round((c.width-d.width)/(a.grid[0]||1))*(a.grid[0]||1);a=Math.round((c.height-d.height)/
(a.grid[1]||1))*(a.grid[1]||1);if(/^(se|s|e)$/.test(g)){b.size.width=d.width+h;b.size.height=d.height+a}else if(/^(ne)$/.test(g)){b.size.width=d.width+h;b.size.height=d.height+a;b.position.top=f.top-a}else{if(/^(sw)$/.test(g)){b.size.width=d.width+h;b.size.height=d.height+a}else{b.size.width=d.width+h;b.size.height=d.height+a;b.position.top=f.top-a}b.position.left=f.left-h}}});var m=function(b){return parseInt(b,10)||0},l=function(b){return!isNaN(parseInt(b,10))}})(jQuery);
;
steal.end();
steal.plugins("jquery/model").then(function(d){d.Model("Workbench",{getPageletEditor:function(a,c){var b="/system/weblounge/workbench/edit/"+a.id+"/"+a.composer+"/"+a.pagelet;if("language"in a)b+="?language="+a.language;"id"in a&&d.ajax(b,{success:c})},getRenderer:function(a,c){var b="/system/weblounge/workbench/renderer/"+a.id+"/"+a.composer+"/"+a.pageletId;if("language"in a)b+="?language="+a.language;if("id"in a)a.pagelet!=undefined?d.ajax(b,{type:"GET",data:a.pagelet,success:c}):d.ajax(b,{type:"GET",
success:c})},suggestTags:function(a,c){"seed"in a&&d.get("/system/weblounge/workbench/suggest/tags/"+a.seed,function(b){c(b)},"xml")}},{})});
;
steal.end();
$.View.preload('editor_pageheadeditor_views_init_tmpl',function(data){return (
function anonymous(jQuery, $item) {
    var $ = jQuery, call, _ = [], $data = $item.data;
    with ($data) {
        _.push("<form id=\"wbl-validatePageSettings\" onsubmit=\"return false;\">  Page title: <input type=\"text\" name=\"title\" value=\"");
        if (typeof (page.getTitle) !== "undefined" && (page.getTitle) != null) {
            _.push($.encode(page.getTitle(language)));
        }
        _.push("\" class=\"required\" /><br /><br />  ");
        if ((typeof (page.getPath() == "/") !== "undefined" && (page.getPath() == "/") != null) && (typeof (page.getPath() == "/") === "function" ? (page.getPath() == "/").call($item) : (page.getPath() == "/"))) {
            _.push("   URL: <input type=\"text\" name=\"url\" value=\"");
            if (typeof (page.getPath) !== "undefined" && (page.getPath) != null) {
                _.push($.encode(page.getPath()));
            }
            _.push("\" disabled=\"disabled\" /><br /><br />  ");
        } else {
            if ((true) && true) {
                _.push("   URL: <input type=\"text\" name=\"url\" value=\"");
                if (typeof (page.getPath) !== "undefined" && (page.getPath) != null) {
                    _.push($.encode(page.getPath()));
                }
                _.push("\" class=\"required\" /><br /><br />  ");
            }
        }
        _.push("    Template: <select name=\"layout\" >   ");
        if (typeof (options) !== "undefined" && (options) != null) {
            $.each((typeof (options) === "function" ? (options).call($item) : (options)), function ($index, $value) {
                with (this) {
                    _.push("    <option value=\"");
                    if (typeof ($value.id) !== "undefined" && ($value.id) != null) {
                        _.push($.encode((typeof ($value.id) === "function" ? ($value.id).call($item) : ($value.id))));
                    }
                    _.push("\">");
                    if (typeof ($value.id) !== "undefined" && ($value.id) != null) {
                        _.push($.encode((typeof ($value.id) === "function" ? ($value.id).call($item) : ($value.id))));
                    }
                    _.push("</option>      ");
                }
            });
        }
        _.push("  </select><br /><br />  Description: <input type=\"text\" value=\"");
        if (typeof (page.getDescription) !== "undefined" && (page.getDescription) != null) {
            _.push($.encode(page.getDescription(language)));
        }
        _.push("\" name=\"description\" /><br /><br />  Tags: <input type=\"text\" value=\"");
        if (typeof (page.getTags) !== "undefined" && (page.getTags) != null) {
            _.push($.encode(page.getTags()));
        }
        _.push("\" name=\"tags\" /> </form>  <h2>References:</h2>  <div class=\"wbl-referrerPageSettings\"></div>");
    }
    return _;
}
).call(jQuery, jQuery, {data: data}).join(''); });;
steal.end();
steal.plugins("jqueryui/core").then("../lib/ui/jquery.ui.datepicker.js");
;
steal.end();
(function(d,A){function K(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._inDialog=this._datepickerShowing=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass=
"ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su",
"Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",
minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false};d.extend(this._defaults,this.regional[""]);this.dpDiv=d('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}function F(a,b){d.extend(a,b);for(var c in b)if(b[c]==
null||b[c]==A)a[c]=b[c];return a}d.extend(d.ui,{datepicker:{version:"@VERSION"}});var y=(new Date).getTime();d.extend(K.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){F(this._defaults,a||{});return this},_attachDatepicker:function(a,b){var c=null;for(var e in this._defaults){var f=a.getAttribute("date:"+e);if(f){c=c||{};try{c[e]=eval(f)}catch(h){c[e]=f}}}e=a.nodeName.toLowerCase();
f=e=="div"||e=="span";if(!a.id){this.uuid+=1;a.id="dp"+this.uuid}var i=this._newInst(d(a),f);i.settings=d.extend({},b||{},c||{});if(e=="input")this._connectDatepicker(a,i);else f&&this._inlineDatepicker(a,i)},_newInst:function(a,b){return{id:a[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:b,dpDiv:!b?this.dpDiv:d('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}},
_connectDatepicker:function(a,b){var c=d(a);b.append=d([]);b.trigger=d([]);if(!c.hasClass(this.markerClassName)){this._attachments(c,b);c.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});this._autoSize(b);d.data(a,"datepicker",b)}},_attachments:function(a,b){var c=this._get(b,"appendText"),e=this._get(b,"isRTL");b.append&&
b.append.remove();if(c){b.append=d('<span class="'+this._appendClass+'">'+c+"</span>");a[e?"before":"after"](b.append)}a.unbind("focus",this._showDatepicker);b.trigger&&b.trigger.remove();c=this._get(b,"showOn");if(c=="focus"||c=="both")a.focus(this._showDatepicker);if(c=="button"||c=="both"){c=this._get(b,"buttonText");var f=this._get(b,"buttonImage");b.trigger=d(this._get(b,"buttonImageOnly")?d("<img/>").addClass(this._triggerClass).attr({src:f,alt:c,title:c}):d('<button type="button"></button>').addClass(this._triggerClass).html(f==
""?c:d("<img/>").attr({src:f,alt:c,title:c})));a[e?"before":"after"](b.trigger);b.trigger.click(function(){d.datepicker._datepickerShowing&&d.datepicker._lastInput==a[0]?d.datepicker._hideDatepicker():d.datepicker._showDatepicker(a[0]);return false})}},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b=new Date(2009,11,20),c=this._get(a,"dateFormat");if(c.match(/[DM]/)){var e=function(f){for(var h=0,i=0,g=0;g<f.length;g++)if(f[g].length>h){h=f[g].length;i=g}return i};b.setMonth(e(this._get(a,
c.match(/MM/)?"monthNames":"monthNamesShort")));b.setDate(e(this._get(a,c.match(/DD/)?"dayNames":"dayNamesShort"))+20-b.getDay())}a.input.attr("size",this._formatDate(a,b).length)}},_inlineDatepicker:function(a,b){var c=d(a);if(!c.hasClass(this.markerClassName)){c.addClass(this.markerClassName).append(b.dpDiv).bind("setData.datepicker",function(e,f,h){b.settings[f]=h}).bind("getData.datepicker",function(e,f){return this._get(b,f)});d.data(a,"datepicker",b);this._setDate(b,this._getDefaultDate(b),
true);this._updateDatepicker(b);this._updateAlternate(b);b.dpDiv.show()}},_dialogDatepicker:function(a,b,c,e,f){a=this._dialogInst;if(!a){this.uuid+=1;this._dialogInput=d('<input type="text" id="'+("dp"+this.uuid)+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>');this._dialogInput.keydown(this._doKeyDown);d("body").append(this._dialogInput);a=this._dialogInst=this._newInst(this._dialogInput,false);a.settings={};d.data(this._dialogInput[0],"datepicker",a)}F(a.settings,e||{});
b=b&&b.constructor==Date?this._formatDate(a,b):b;this._dialogInput.val(b);this._pos=f?f.length?f:[f.pageX,f.pageY]:null;if(!this._pos)this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)];this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");a.settings.onSelect=c;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);
this._showDatepicker(this._dialogInput[0]);d.blockUI&&d.blockUI(this.dpDiv);d.data(this._dialogInput[0],"datepicker",a);return this},_destroyDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();d.removeData(a,"datepicker");if(e=="input"){c.append.remove();c.trigger.remove();b.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",
this._doKeyUp)}else if(e=="div"||e=="span")b.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=false;c.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if(e=="div"||e=="span")b.children("."+this._inlineClass).children().removeClass("ui-state-disabled");this._disabledInputs=d.map(this._disabledInputs,
function(f){return f==a?null:f})}},_disableDatepicker:function(a){var b=d(a),c=d.data(a,"datepicker");if(b.hasClass(this.markerClassName)){var e=a.nodeName.toLowerCase();if(e=="input"){a.disabled=true;c.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if(e=="div"||e=="span")b.children("."+this._inlineClass).children().addClass("ui-state-disabled");this._disabledInputs=d.map(this._disabledInputs,function(f){return f==a?null:
f});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return false;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]==a)return true;return false},_getInst:function(a){try{return d.data(a,"datepicker")}catch(b){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(a,b,c){var e=this._getInst(a);if(arguments.length==2&&typeof b=="string")return b=="defaults"?d.extend({},d.datepicker._defaults):e?b=="all"?d.extend({},
e.settings):this._get(e,b):null;var f=b||{};if(typeof b=="string"){f={};f[b]=c}if(e){this._curInst==e&&this._hideDatepicker();var h=this._getDateDatepicker(a,true),i=this._getMinMaxDate(e,"min"),g=this._getMinMaxDate(e,"max");F(e.settings,f);if(i!==null&&f.dateFormat!==A&&f.minDate===A)e.settings.minDate=this._formatDate(e,i);if(g!==null&&f.dateFormat!==A&&f.maxDate===A)e.settings.maxDate=this._formatDate(e,g);this._attachments(d(a),e);this._autoSize(e);this._setDateDatepicker(a,h);this._updateDatepicker(e)}},
_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){if(a=this._getInst(a)){this._setDate(a,b);this._updateDatepicker(a);this._updateAlternate(a)}},_getDateDatepicker:function(a,b){(a=this._getInst(a))&&!a.inline&&this._setDateFromField(a,b);return a?this._getDate(a):null},_doKeyDown:function(a){var b=d.datepicker._getInst(a.target),c=true,e=b.dpDiv.is(".ui-datepicker-rtl");
b._keyEvent=true;if(d.datepicker._datepickerShowing)switch(a.keyCode){case 9:d.datepicker._hideDatepicker();c=false;break;case 13:c=d("td."+d.datepicker._dayOverClass+":not(."+d.datepicker._currentClass+")",b.dpDiv);c[0]?d.datepicker._selectDay(a.target,b.selectedMonth,b.selectedYear,c[0]):d.datepicker._hideDatepicker();return false;case 27:d.datepicker._hideDatepicker();break;case 33:d.datepicker._adjustDate(a.target,a.ctrlKey?-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),
"M");break;case 34:d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 35:if(a.ctrlKey||a.metaKey)d.datepicker._clearDate(a.target);c=a.ctrlKey||a.metaKey;break;case 36:if(a.ctrlKey||a.metaKey)d.datepicker._gotoToday(a.target);c=a.ctrlKey||a.metaKey;break;case 37:if(a.ctrlKey||a.metaKey)d.datepicker._adjustDate(a.target,e?+1:-1,"D");c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey)d.datepicker._adjustDate(a.target,a.ctrlKey?
-d.datepicker._get(b,"stepBigMonths"):-d.datepicker._get(b,"stepMonths"),"M");break;case 38:if(a.ctrlKey||a.metaKey)d.datepicker._adjustDate(a.target,-7,"D");c=a.ctrlKey||a.metaKey;break;case 39:if(a.ctrlKey||a.metaKey)d.datepicker._adjustDate(a.target,e?-1:+1,"D");c=a.ctrlKey||a.metaKey;if(a.originalEvent.altKey)d.datepicker._adjustDate(a.target,a.ctrlKey?+d.datepicker._get(b,"stepBigMonths"):+d.datepicker._get(b,"stepMonths"),"M");break;case 40:if(a.ctrlKey||a.metaKey)d.datepicker._adjustDate(a.target,
+7,"D");c=a.ctrlKey||a.metaKey;break;default:c=false}else if(a.keyCode==36&&a.ctrlKey)d.datepicker._showDatepicker(this);else c=false;if(c){a.preventDefault();a.stopPropagation()}},_doKeyPress:function(a){var b=d.datepicker._getInst(a.target);if(d.datepicker._get(b,"constrainInput")){b=d.datepicker._possibleChars(d.datepicker._get(b,"dateFormat"));var c=String.fromCharCode(a.charCode==A?a.keyCode:a.charCode);return a.ctrlKey||a.metaKey||c<" "||!b||b.indexOf(c)>-1}},_doKeyUp:function(a){a=d.datepicker._getInst(a.target);
if(a.input.val()!=a.lastVal)try{if(d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,d.datepicker._getFormatConfig(a))){d.datepicker._setDateFromField(a);d.datepicker._updateAlternate(a);d.datepicker._updateDatepicker(a)}}catch(b){d.datepicker.log(b)}return true},_showDatepicker:function(a){a=a.target||a;if(a.nodeName.toLowerCase()!="input")a=d("input",a.parentNode)[0];if(!(d.datepicker._isDisabledDatepicker(a)||d.datepicker._lastInput==a)){var b=d.datepicker._getInst(a);
d.datepicker._curInst&&d.datepicker._curInst!=b&&d.datepicker._curInst.dpDiv.stop(true,true);var c=d.datepicker._get(b,"beforeShow");F(b.settings,c?c.apply(a,[a,b]):{});b.lastVal=null;d.datepicker._lastInput=a;d.datepicker._setDateFromField(b);if(d.datepicker._inDialog)a.value="";if(!d.datepicker._pos){d.datepicker._pos=d.datepicker._findPos(a);d.datepicker._pos[1]+=a.offsetHeight}var e=false;d(a).parents().each(function(){e|=d(this).css("position")=="fixed";return!e});if(e&&d.browser.opera){d.datepicker._pos[0]-=
document.documentElement.scrollLeft;d.datepicker._pos[1]-=document.documentElement.scrollTop}c={left:d.datepicker._pos[0],top:d.datepicker._pos[1]};d.datepicker._pos=null;b.dpDiv.empty();b.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});d.datepicker._updateDatepicker(b);c=d.datepicker._checkOffset(b,c,e);b.dpDiv.css({position:d.datepicker._inDialog&&d.blockUI?"static":e?"fixed":"absolute",display:"none",left:c.left+"px",top:c.top+"px"});if(!b.inline){c=d.datepicker._get(b,"showAnim");
var f=d.datepicker._get(b,"duration"),h=function(){d.datepicker._datepickerShowing=true;var i=b.dpDiv.find("iframe.ui-datepicker-cover");if(i.length){var g=d.datepicker._getBorders(b.dpDiv);i.css({left:-g[0],top:-g[1],width:b.dpDiv.outerWidth(),height:b.dpDiv.outerHeight()})}};b.dpDiv.zIndex(d(a).zIndex()+1);d.effects&&(d.effects.effect[c]||d.effects[c])?b.dpDiv.show(c,d.datepicker._get(b,"showOptions"),f,h):b.dpDiv[c||"show"](c?f:null,h);if(!c||!f)h();b.input.is(":visible")&&!b.input.is(":disabled")&&
b.input.focus();d.datepicker._curInst=b}}},_updateDatepicker:function(a){var b=this,c=d.datepicker._getBorders(a.dpDiv);a.dpDiv.empty().append(this._generateHTML(a));var e=a.dpDiv.find("iframe.ui-datepicker-cover");e.length&&e.css({left:-c[0],top:-c[1],width:a.dpDiv.outerWidth(),height:a.dpDiv.outerHeight()});a.dpDiv.find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){d(this).removeClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=
-1&&d(this).removeClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&d(this).removeClass("ui-datepicker-next-hover")}).bind("mouseover",function(){if(!b._isDisabledDatepicker(a.inline?a.dpDiv.parent()[0]:a.input[0])){d(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");d(this).addClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&d(this).addClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=
-1&&d(this).addClass("ui-datepicker-next-hover")}}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end();c=this._getNumberOfMonths(a);e=c[1];e>1?a.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",17*e+"em"):a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");a.dpDiv[(c[0]!=1||c[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a==d.datepicker._curInst&&d.datepicker._datepickerShowing&&
a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!=document.activeElement&&a.input.focus();if(a.yearshtml){var f=a.yearshtml;setTimeout(function(){f===a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);f=a.yearshtml=null},0)}},_getBorders:function(a){var b=function(c){return{thin:1,medium:2,thick:3}[c]||c};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,b,c){var e=a.dpDiv.outerWidth(),
f=a.dpDiv.outerHeight(),h=a.input?a.input.outerWidth():0,i=a.input?a.input.outerHeight():0,g=document.documentElement.clientWidth+d(document).scrollLeft(),j=document.documentElement.clientHeight+d(document).scrollTop();b.left-=this._get(a,"isRTL")?e-h:0;b.left-=c&&b.left==a.input.offset().left?d(document).scrollLeft():0;b.top-=c&&b.top==a.input.offset().top+i?d(document).scrollTop():0;b.left-=Math.min(b.left,b.left+e>g&&g>e?Math.abs(b.left+e-g):0);b.top-=Math.min(b.top,b.top+f>j&&j>f?Math.abs(f+i):
0);return b},_findPos:function(a){for(var b=this._get(this._getInst(a),"isRTL");a&&(a.type=="hidden"||a.nodeType!=1||d.expr.filters.hidden(a));)a=a[b?"previousSibling":"nextSibling"];a=d(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var b=this._curInst;if(!(!b||a&&b!=d.data(a,"datepicker")))if(this._datepickerShowing){a=this._get(b,"showAnim");var c=this._get(b,"duration"),e=function(){d.datepicker._tidyDialog(b);this._curInst=null};d.effects&&(d.effects.effect[a]||d.effects[a])?b.dpDiv.hide(a,
d.datepicker._get(b,"showOptions"),c,e):b.dpDiv[a=="slideDown"?"slideUp":a=="fadeIn"?"fadeOut":"hide"](a?c:null,e);a||e();if(a=this._get(b,"onClose"))a.apply(b.input?b.input[0]:null,[b.input?b.input.val():"",b]);this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(d.blockUI){d.unblockUI();d("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},
_checkExternalClick:function(a){if(d.datepicker._curInst){a=d(a.target);a[0].id!=d.datepicker._mainDivId&&a.parents("#"+d.datepicker._mainDivId).length==0&&!a.hasClass(d.datepicker.markerClassName)&&!a.hasClass(d.datepicker._triggerClass)&&d.datepicker._datepickerShowing&&!(d.datepicker._inDialog&&d.blockUI)&&d.datepicker._hideDatepicker()}},_adjustDate:function(a,b,c){a=d(a);var e=this._getInst(a[0]);if(!this._isDisabledDatepicker(a[0])){this._adjustInstDate(e,b+(c=="M"?this._get(e,"showCurrentAtPos"):
0),c);this._updateDatepicker(e)}},_gotoToday:function(a){a=d(a);var b=this._getInst(a[0]);if(this._get(b,"gotoCurrent")&&b.currentDay){b.selectedDay=b.currentDay;b.drawMonth=b.selectedMonth=b.currentMonth;b.drawYear=b.selectedYear=b.currentYear}else{var c=new Date;b.selectedDay=c.getDate();b.drawMonth=b.selectedMonth=c.getMonth();b.drawYear=b.selectedYear=c.getFullYear()}this._notifyChange(b);this._adjustDate(a)},_selectMonthYear:function(a,b,c){a=d(a);var e=this._getInst(a[0]);e._selectingMonthYear=
false;e["selected"+(c=="M"?"Month":"Year")]=e["draw"+(c=="M"?"Month":"Year")]=parseInt(b.options[b.selectedIndex].value,10);this._notifyChange(e);this._adjustDate(a)},_clickMonthYear:function(a){var b=this._getInst(d(a)[0]);b.input&&b._selectingMonthYear&&setTimeout(function(){b.input.focus()},0);b._selectingMonthYear=!b._selectingMonthYear},_selectDay:function(a,b,c,e){var f=d(a);if(!(d(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(f[0]))){f=this._getInst(f[0]);f.selectedDay=f.currentDay=
d("a",e).html();f.selectedMonth=f.currentMonth=b;f.selectedYear=f.currentYear=c;this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear))}},_clearDate:function(a){a=d(a);this._getInst(a[0]);this._selectDate(a,"")},_selectDate:function(a,b){a=this._getInst(d(a)[0]);b=b!=null?b:this._formatDate(a);a.input&&a.input.val(b);this._updateAlternate(a);var c=this._get(a,"onSelect");if(c)c.apply(a.input?a.input[0]:null,[b,a]);else a.input&&a.input.trigger("change");if(a.inline)this._updateDatepicker(a);
else{this._hideDatepicker();this._lastInput=a.input[0];typeof a.input[0]!="object"&&a.input.focus();this._lastInput=null}},_updateAlternate:function(a){var b=this._get(a,"altField");if(b){var c=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),f=this.formatDate(c,e,this._getFormatConfig(a));d(b).each(function(){d(this).val(f)})}},noWeekends:function(a){a=a.getDay();return[a>0&&a<6,""]},iso8601Week:function(a){a=new Date(a.getTime());a.setDate(a.getDate()+4-(a.getDay()||7));var b=
a.getTime();a.setMonth(0);a.setDate(1);return Math.floor(Math.round((b-a)/864E5)/7)+1},parseDate:function(a,b,c){if(a==null||b==null)throw"Invalid arguments";b=typeof b=="object"?b.toString():b+"";if(b=="")return null;var e=(c?c.shortYearCutoff:null)||this._defaults.shortYearCutoff;e=typeof e!="string"?e:(new Date).getFullYear()%100+parseInt(e,10);for(var f=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,h=(c?c.dayNames:null)||this._defaults.dayNames,i=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,
g=(c?c.monthNames:null)||this._defaults.monthNames,j=c=-1,l=-1,u=-1,k=false,o=function(p){(p=z+1<a.length&&a.charAt(z+1)==p)&&z++;return p},m=function(p){var v=o(p);p=new RegExp("^\\d{1,"+(p=="@"?14:p=="!"?20:p=="y"&&v?4:p=="o"?3:2)+"}");p=b.substring(s).match(p);if(!p)throw"Missing number at position "+s;s+=p[0].length;return parseInt(p[0],10)},n=function(p,v,H){p=o(p)?H:v;for(v=0;v<p.length;v++)if(b.substr(s,p[v].length).toLowerCase()==p[v].toLowerCase()){s+=p[v].length;return v+1}throw"Unknown name at position "+
s;},r=function(){if(b.charAt(s)!=a.charAt(z))throw"Unexpected literal at position "+s;s++},s=0,z=0;z<a.length;z++)if(k)if(a.charAt(z)=="'"&&!o("'"))k=false;else r();else switch(a.charAt(z)){case "d":l=m("d");break;case "D":n("D",f,h);break;case "o":u=m("o");break;case "m":j=m("m");break;case "M":j=n("M",i,g);break;case "y":c=m("y");break;case "@":var w=new Date(m("@"));c=w.getFullYear();j=w.getMonth()+1;l=w.getDate();break;case "!":w=new Date((m("!")-this._ticksTo1970)/1E4);c=w.getFullYear();j=w.getMonth()+
1;l=w.getDate();break;case "'":if(o("'"))r();else k=true;break;default:r()}if(c==-1)c=(new Date).getFullYear();else if(c<100)c+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c<=e?0:-100);if(u>-1){j=1;l=u;do{e=this._getDaysInMonth(c,j-1);if(l<=e)break;j++;l-=e}while(1)}w=this._daylightSavingAdjust(new Date(c,j-1,l));if(w.getFullYear()!=c||w.getMonth()+1!=j||w.getDate()!=l)throw"Invalid date";return w},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",
RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*60*60*1E7,formatDate:function(a,b,c){if(!b)return"";var e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,h=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort;c=(c?c.monthNames:null)||this._defaults.monthNames;var i=function(o){(o=k+1<a.length&&
a.charAt(k+1)==o)&&k++;return o},g=function(o,m,n){m=""+m;if(i(o))for(;m.length<n;)m="0"+m;return m},j=function(o,m,n,r){return i(o)?r[m]:n[m]},l="",u=false;if(b)for(var k=0;k<a.length;k++)if(u)if(a.charAt(k)=="'"&&!i("'"))u=false;else l+=a.charAt(k);else switch(a.charAt(k)){case "d":l+=g("d",b.getDate(),2);break;case "D":l+=j("D",b.getDay(),e,f);break;case "o":l+=g("o",(b.getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864E5,3);break;case "m":l+=g("m",b.getMonth()+1,2);break;case "M":l+=j("M",
b.getMonth(),h,c);break;case "y":l+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case "@":l+=b.getTime();break;case "!":l+=b.getTime()*1E4+this._ticksTo1970;break;case "'":if(i("'"))l+="'";else u=true;break;default:l+=a.charAt(k)}return l},_possibleChars:function(a){for(var b="",c=false,e=function(h){(h=f+1<a.length&&a.charAt(f+1)==h)&&f++;return h},f=0;f<a.length;f++)if(c)if(a.charAt(f)=="'"&&!e("'"))c=false;else b+=a.charAt(f);else switch(a.charAt(f)){case "d":case "m":case "y":case "@":b+=
"0123456789";break;case "D":case "M":return null;case "'":if(e("'"))b+="'";else c=true;break;default:b+=a.charAt(f)}return b},_get:function(a,b){return a.settings[b]!==A?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!=a.lastVal){var c=this._get(a,"dateFormat"),e=a.lastVal=a.input?a.input.val():null,f,h;f=h=this._getDefaultDate(a);var i=this._getFormatConfig(a);try{f=this.parseDate(c,e,i)||h}catch(g){this.log(g);e=b?"":e}a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=
f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();a.currentDay=e?f.getDate():0;a.currentMonth=e?f.getMonth():0;a.currentYear=e?f.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,b,c){var e=function(h){var i=new Date;i.setDate(i.getDate()+h);return i},f=function(h){try{return d.datepicker.parseDate(d.datepicker._get(a,"dateFormat"),h,d.datepicker._getFormatConfig(a))}catch(i){}var g=
(h.toLowerCase().match(/^c/)?d.datepicker._getDate(a):null)||new Date,j=g.getFullYear(),l=g.getMonth();g=g.getDate();for(var u=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,k=u.exec(h);k;){switch(k[2]||"d"){case "d":case "D":g+=parseInt(k[1],10);break;case "w":case "W":g+=parseInt(k[1],10)*7;break;case "m":case "M":l+=parseInt(k[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(j,l));break;case "y":case "Y":j+=parseInt(k[1],10);g=Math.min(g,d.datepicker._getDaysInMonth(j,l));break}k=u.exec(h)}return new Date(j,
l,g)};if(b=(b=b==null||b===""?c:typeof b=="string"?f(b):typeof b=="number"?isNaN(b)?c:e(b):new Date(b.getTime()))&&b.toString()=="Invalid Date"?c:b){b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0)}return this._daylightSavingAdjust(b)},_daylightSavingAdjust:function(a){if(!a)return null;a.setHours(a.getHours()>12?a.getHours()+2:0);return a},_setDate:function(a,b,c){var e=!b,f=a.selectedMonth,h=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=
a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();if((f!=a.selectedMonth||h!=a.selectedYear)&&!c)this._notifyChange(a);this._adjustInstDate(a);if(a.input)a.input.val(e?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear||a.input&&a.input.val()==""?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_generateHTML:function(a){var b=new Date;b=this._daylightSavingAdjust(new Date(b.getFullYear(),
b.getMonth(),b.getDate()));var c=this._get(a,"isRTL"),e=this._get(a,"showButtonPanel"),f=this._get(a,"hideIfNoPrevNext"),h=this._get(a,"navigationAsDateFormat"),i=this._getNumberOfMonths(a),g=this._get(a,"showCurrentAtPos"),j=this._get(a,"stepMonths"),l=i[0]!=1||i[1]!=1,u=this._daylightSavingAdjust(!a.currentDay?new Date(9999,9,9):new Date(a.currentYear,a.currentMonth,a.currentDay)),k=this._getMinMaxDate(a,"min"),o=this._getMinMaxDate(a,"max");g=a.drawMonth-g;var m=a.drawYear;if(g<0){g+=12;m--}if(o){var n=
this._daylightSavingAdjust(new Date(o.getFullYear(),o.getMonth()-i[0]*i[1]+1,o.getDate()));for(n=k&&n<k?k:n;this._daylightSavingAdjust(new Date(m,g,1))>n;){g--;if(g<0){g=11;m--}}}a.drawMonth=g;a.drawYear=m;n=this._get(a,"prevText");n=!h?n:this.formatDate(n,this._daylightSavingAdjust(new Date(m,g-j,1)),this._getFormatConfig(a));n=this._canAdjustMonth(a,-1,m,g)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+a.id+"', -"+j+", 'M');\" title=\""+n+'"><span class="ui-icon ui-icon-circle-triangle-'+
(c?"e":"w")+'">'+n+"</span></a>":f?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+n+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"e":"w")+'">'+n+"</span></a>";var r=this._get(a,"nextText");r=!h?r:this.formatDate(r,this._daylightSavingAdjust(new Date(m,g+j,1)),this._getFormatConfig(a));f=this._canAdjustMonth(a,+1,m,g)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._adjustDate('#"+a.id+"', +"+j+", 'M');\" title=\""+r+'"><span class="ui-icon ui-icon-circle-triangle-'+
(c?"w":"e")+'">'+r+"</span></a>":f?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+r+'"><span class="ui-icon ui-icon-circle-triangle-'+(c?"w":"e")+'">'+r+"</span></a>";j=this._get(a,"currentText");r=this._get(a,"gotoCurrent")&&a.currentDay?u:b;j=!h?j:this.formatDate(j,r,this._getFormatConfig(a));h=!a.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+y+'.datepicker._hideDatepicker();">'+this._get(a,
"closeText")+"</button>":"";e=e?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(c?h:"")+(this._isInRange(a,r)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+y+".datepicker._gotoToday('#"+a.id+"');\">"+j+"</button>":"")+(c?"":h)+"</div>":"";h=parseInt(this._get(a,"firstDay"),10);h=isNaN(h)?0:h;j=this._get(a,"showWeek");r=this._get(a,"dayNames");this._get(a,"dayNamesShort");var s=this._get(a,"dayNamesMin"),z=
this._get(a,"monthNames"),w=this._get(a,"monthNamesShort"),p=this._get(a,"beforeShowDay"),v=this._get(a,"showOtherMonths"),H=this._get(a,"selectOtherMonths");this._get(a,"calculateWeek");for(var L=this._getDefaultDate(a),I="",D=0;D<i[0];D++){for(var M="",E=0;E<i[1];E++){var N=this._daylightSavingAdjust(new Date(m,g,a.selectedDay)),t=" ui-corner-all",x="";if(l){x+='<div class="ui-datepicker-group';if(i[1]>1)switch(E){case 0:x+=" ui-datepicker-group-first";t=" ui-corner-"+(c?"right":"left");break;case i[1]-
1:x+=" ui-datepicker-group-last";t=" ui-corner-"+(c?"left":"right");break;default:x+=" ui-datepicker-group-middle";t="";break}x+='">'}x+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+t+'">'+(/all|left/.test(t)&&D==0?c?f:n:"")+(/all|right/.test(t)&&D==0?c?n:f:"")+this._generateMonthYearHeader(a,g,m,k,o,D>0||E>0,z,w)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var B=j?'<th class="ui-datepicker-week-col">'+this._get(a,"weekHeader")+"</th>":"";for(t=0;t<7;t++){var q=
(t+h)%7;B+="<th"+((t+h+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+r[q]+'">'+s[q]+"</span></th>"}x+=B+"</tr></thead><tbody>";B=this._getDaysInMonth(m,g);if(m==a.selectedYear&&g==a.selectedMonth)a.selectedDay=Math.min(a.selectedDay,B);t=(this._getFirstDayOfMonth(m,g)-h+7)%7;B=l?6:Math.ceil((t+B)/7);q=this._daylightSavingAdjust(new Date(m,g,1-t));for(var O=0;O<B;O++){x+="<tr>";var P=!j?"":'<td class="ui-datepicker-week-col">'+this._get(a,"calculateWeek")(q)+"</td>";for(t=0;t<7;t++){var G=
p?p.apply(a.input?a.input[0]:null,[q]):[true,""],C=q.getMonth()!=g,J=C&&!H||!G[0]||k&&q<k||o&&q>o;P+='<td class="'+((t+h+6)%7>=5?" ui-datepicker-week-end":"")+(C?" ui-datepicker-other-month":"")+(q.getTime()==N.getTime()&&g==a.selectedMonth&&a._keyEvent||L.getTime()==q.getTime()&&L.getTime()==N.getTime()?" "+this._dayOverClass:"")+(J?" "+this._unselectableClass+" ui-state-disabled":"")+(C&&!v?"":" "+G[1]+(q.getTime()==u.getTime()?" "+this._currentClass:"")+(q.getTime()==b.getTime()?" ui-datepicker-today":
""))+'"'+((!C||v)&&G[2]?' title="'+G[2]+'"':"")+(J?"":' onclick="DP_jQuery_'+y+".datepicker._selectDay('#"+a.id+"',"+q.getMonth()+","+q.getFullYear()+', this);return false;"')+">"+(C&&!v?"&#xa0;":J?'<span class="ui-state-default">'+q.getDate()+"</span>":'<a class="ui-state-default'+(q.getTime()==b.getTime()?" ui-state-highlight":"")+(q.getTime()==u.getTime()?" ui-state-active":"")+(C?" ui-priority-secondary":"")+'" href="#">'+q.getDate()+"</a>")+"</td>";q.setDate(q.getDate()+1);q=this._daylightSavingAdjust(q)}x+=
P+"</tr>"}g++;if(g>11){g=0;m++}x+="</tbody></table>"+(l?"</div>"+(i[0]>0&&E==i[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");M+=x}I+=M}I+=e+(d.browser.msie&&parseInt(d.browser.version,10)<7&&!a.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");a._keyEvent=false;return I},_generateMonthYearHeader:function(a,b,c,e,f,h,i,g){var j=this._get(a,"changeMonth"),l=this._get(a,"changeYear"),u=this._get(a,"showMonthAfterYear"),k='<div class="ui-datepicker-title">',
o="";if(h||!j)o+='<span class="ui-datepicker-month">'+i[b]+"</span>";else{i=e&&e.getFullYear()==c;var m=f&&f.getFullYear()==c;o+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+a.id+"', this, 'M');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+a.id+"');\">";for(var n=0;n<12;n++)if((!i||n>=e.getMonth())&&(!m||n<=f.getMonth()))o+='<option value="'+n+'"'+(n==b?' selected="selected"':"")+">"+g[n]+"</option>";o+="</select>"}u||(k+=o+(h||!(j&&
l)?"&#xa0;":""));a.yearshtml="";if(h||!l)k+='<span class="ui-datepicker-year">'+c+"</span>";else{g=this._get(a,"yearRange").split(":");var r=(new Date).getFullYear();i=function(s){s=s.match(/c[+-].*/)?c+parseInt(s.substring(1),10):s.match(/[+-].*/)?r+parseInt(s,10):parseInt(s,10);return isNaN(s)?r:s};b=i(g[0]);g=Math.max(b,i(g[1]||""));b=e?Math.max(b,e.getFullYear()):b;g=f?Math.min(g,f.getFullYear()):g;for(a.yearshtml+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+y+".datepicker._selectMonthYear('#"+
a.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+y+".datepicker._clickMonthYear('#"+a.id+"');\">";b<=g;b++)a.yearshtml+='<option value="'+b+'"'+(b==c?' selected="selected"':"")+">"+b+"</option>";a.yearshtml+="</select>";if(d.browser.mozilla)k+='<select class="ui-datepicker-year"><option value="'+c+'" selected="selected">'+c+"</option></select>";else{k+=a.yearshtml;a.yearshtml=null}}k+=this._get(a,"yearSuffix");if(u)k+=(h||!(j&&l)?"&#xa0;":"")+o;k+="</div>";return k},_adjustInstDate:function(a,b,c){var e=
a.drawYear+(c=="Y"?b:0),f=a.drawMonth+(c=="M"?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(e,f))+(c=="D"?b:0);e=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(e,f,b)));a.selectedDay=e.getDate();a.drawMonth=a.selectedMonth=e.getMonth();a.drawYear=a.selectedYear=e.getFullYear();if(c=="M"||c=="Y")this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");b=c&&b<c?c:b;return b=a&&b>a?a:b},_notifyChange:function(a){var b=this._get(a,
"onChangeMonthYear");if(b)b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return a==null?[1,1]:typeof a=="number"?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,e){var f=this._getNumberOfMonths(a);
c=this._daylightSavingAdjust(new Date(c,e+(b<0?b:f[0]*f[1]),1));b<0&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c=this._getMinMaxDate(a,"min");a=this._getMinMaxDate(a,"max");return(!c||b.getTime()>=c.getTime())&&(!a||b.getTime()<=a.getTime())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");b=typeof b!="string"?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,
"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,e){if(!b){a.currentDay=a.selectedDay;a.currentMonth=a.selectedMonth;a.currentYear=a.selectedYear}b=b?typeof b=="object"?b:this._daylightSavingAdjust(new Date(e,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});d.fn.datepicker=
function(a){if(!this.length)return this;if(!d.datepicker.initialized){d(document).mousedown(d.datepicker._checkExternalClick).find("body").append(d.datepicker.dpDiv);d.datepicker.initialized=true}var b=Array.prototype.slice.call(arguments,1);if(typeof a=="string"&&(a=="isDisabled"||a=="getDate"||a=="widget"))return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this[0]].concat(b));if(a=="option"&&arguments.length==2&&typeof arguments[1]=="string")return d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,
[this[0]].concat(b));return this.each(function(){typeof a=="string"?d.datepicker["_"+a+"Datepicker"].apply(d.datepicker,[this].concat(b)):d.datepicker._attachDatepicker(this,a)})};d.datepicker=new K;d.datepicker.initialized=false;d.datepicker.uuid=(new Date).getTime();d.datepicker.version="@VERSION";window["DP_jQuery_"+y]=d})(jQuery);
;
steal.end();
steal.plugins("jqueryui/core","jqueryui/widget","jqueryui/mouse","jqueryui/draggable").then("../lib/ui/jquery.ui.droppable.js");
;
steal.end();
(function(d){d.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var a=this.options,b=a.accept;this.isover=0;this.isout=1;this.accept=d.isFunction(b)?b:function(c){return c.is(b)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};d.ui.ddmanager.droppables[a.scope]=d.ui.ddmanager.droppables[a.scope]||[];d.ui.ddmanager.droppables[a.scope].push(this);
a.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var a=d.ui.ddmanager.droppables[this.options.scope],b=0;b<a.length;b++)a[b]==this&&a.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(a,b){if(a=="accept")this.accept=d.isFunction(b)?b:function(c){return c.is(b)};d.Widget.prototype._setOption.apply(this,arguments)},_activate:function(a){var b=d.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);b&&this._trigger("activate",a,this.ui(b))},_deactivate:function(a){var b=d.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);b&&this._trigger("deactivate",a,this.ui(b))},_over:function(a){var b=d.ui.ddmanager.current;if(!(!b||(b.currentItem||b.element)[0]==this.element[0]))if(this.accept.call(this.element[0],b.currentItem||b.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);
this._trigger("over",a,this.ui(b))}},_out:function(a){var b=d.ui.ddmanager.current;if(!(!b||(b.currentItem||b.element)[0]==this.element[0]))if(this.accept.call(this.element[0],b.currentItem||b.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",a,this.ui(b))}},_drop:function(a,b){var c=b||d.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0])return false;var e=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var g=
d.data(this,"droppable");if(g.options.greedy&&!g.options.disabled&&g.options.scope==c.options.scope&&g.accept.call(g.element[0],c.currentItem||c.element)&&d.ui.intersect(c,d.extend(g,{offset:g.element.offset()}),g.options.tolerance)){e=true;return false}});if(e)return false;if(this.accept.call(this.element[0],c.currentItem||c.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",
a,this.ui(c));return this.element}return false},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}});d.extend(d.ui.droppable,{version:"@VERSION"});d.ui.intersect=function(a,b,c){if(!b.offset)return false;var e=(a.positionAbs||a.position.absolute).left,g=e+a.helperProportions.width,f=(a.positionAbs||a.position.absolute).top,h=f+a.helperProportions.height,i=b.offset.left,k=i+b.proportions.width,j=b.offset.top,l=j+b.proportions.height;
switch(c){case "fit":return i<=e&&g<=k&&j<=f&&h<=l;case "intersect":return i<e+a.helperProportions.width/2&&g-a.helperProportions.width/2<k&&j<f+a.helperProportions.height/2&&h-a.helperProportions.height/2<l;case "pointer":return d.ui.isOver((a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,j,i,b.proportions.height,b.proportions.width);case "touch":return(f>=j&&f<=l||h>=j&&h<=l||f<j&&h>l)&&(e>=
i&&e<=k||g>=i&&g<=k||e<i&&g>k);default:return false}};d.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(a,b){var c=d.ui.ddmanager.droppables[a.options.scope]||[],e=b?b.type:null,g=(a.currentItem||a.element).find(":data(droppable)").andSelf(),f=0;a:for(;f<c.length;f++)if(!(c[f].options.disabled||a&&!c[f].accept.call(c[f].element[0],a.currentItem||a.element))){for(var h=0;h<g.length;h++)if(g[h]==c[f].element[0]){c[f].proportions.height=0;continue a}c[f].visible=c[f].element.css("display")!=
"none";if(c[f].visible){e=="mousedown"&&c[f]._activate.call(c[f],b);c[f].offset=c[f].element.offset();c[f].proportions={width:c[f].element[0].offsetWidth,height:c[f].element[0].offsetHeight}}}},drop:function(a,b){var c=false;d.each(d.ui.ddmanager.droppables[a.options.scope]||[],function(){if(this.options){if(!this.options.disabled&&this.visible&&d.ui.intersect(a,this,this.options.tolerance))c=c||this._drop.call(this,b);if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],a.currentItem||
a.element)){this.isout=1;this.isover=0;this._deactivate.call(this,b)}}});return c},drag:function(a,b){a.options.refreshPositions&&d.ui.ddmanager.prepareOffsets(a,b);d.each(d.ui.ddmanager.droppables[a.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var c=d.ui.intersect(a,this,this.options.tolerance);if(c=!c&&this.isover==1?"isout":c&&this.isover==0?"isover":null){var e;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");if(g.length){e=
d.data(g[0],"droppable");e.greedyChild=c=="isover"?1:0}}if(e&&c=="isover"){e.isover=0;e.isout=1;e._out.call(e,b)}this[c]=1;this[c=="isout"?"isover":"isout"]=0;this[c=="isover"?"_over":"_out"].call(this,b);if(e&&c=="isout"){e.isout=0;e.isover=1;e._over.call(e,b)}}}})}}})(jQuery);
;
steal.end();
steal.plugins("jqueryui/core","jqueryui/widget").then("../lib/ui/jquery.ui.button.js");
;
steal.end();
(function(b){var g,i=function(a){b(":ui-button",a.target.form).each(function(){var c=b(this).data("button");setTimeout(function(){c.refresh()},1)})},h=function(a){var c=a.name,d=a.form,f=b([]);if(c)f=d?b(d).find("[name='"+c+"']"):b("[name='"+c+"']",a.ownerDocument).filter(function(){return!this.form});return f};b.widget("ui.button",{defaultElement:"<button>",options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",
i);if(typeof this.options.disabled!=="boolean")this.options.disabled=this.element.attr("disabled");this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var a=this,c=this.options,d=this.type==="checkbox"||this.type==="radio",f="ui-state-hover"+(!d?" ui-state-active":"");if(c.label===null)c.label=this.buttonElement.html();if(this.element.is(":disabled"))c.disabled=true;this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",
function(){if(!c.disabled){b(this).addClass("ui-state-hover");this===g&&b(this).addClass("ui-state-active")}}).bind("mouseleave.button",function(){c.disabled||b(this).removeClass(f)}).bind("focus.button",function(){b(this).addClass("ui-state-focus")}).bind("blur.button",function(){b(this).removeClass("ui-state-focus")});d&&this.element.bind("change.button",function(){a.refresh()});if(this.type==="checkbox")this.buttonElement.bind("click.button",function(){if(c.disabled)return false;b(this).toggleClass("ui-state-active");
a.buttonElement.attr("aria-pressed",a.element[0].checked)});else if(this.type==="radio")this.buttonElement.bind("click.button",function(){if(c.disabled)return false;b(this).addClass("ui-state-active");a.buttonElement.attr("aria-pressed",true);var e=a.element[0];h(e).not(e).map(function(){return b(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",false)});else{this.buttonElement.bind("mousedown.button",function(){if(c.disabled)return false;b(this).addClass("ui-state-active");
g=this;b(document).one("mouseup",function(){g=null})}).bind("mouseup.button",function(){if(c.disabled)return false;b(this).removeClass("ui-state-active")}).bind("keydown.button",function(e){if(c.disabled)return false;if(e.keyCode==b.ui.keyCode.SPACE||e.keyCode==b.ui.keyCode.ENTER)b(this).addClass("ui-state-active")}).bind("keyup.button",function(){b(this).removeClass("ui-state-active")});this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===b.ui.keyCode.SPACE&&b(this).click()})}this._setOption("disabled",
c.disabled)},_determineButtonType:function(){this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button";if(this.type==="checkbox"||this.type==="radio"){var a=this.element.parents().last(),c="label[for="+this.element.attr("id")+"]";this.buttonElement=a.find(c);if(!this.buttonElement.length){a=a.length?a.siblings():this.element.siblings();this.buttonElement=a.filter(c);if(!this.buttonElement.length)this.buttonElement=a.find(c)}this.element.addClass("ui-helper-hidden-accessible");
(a=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active");this.buttonElement.attr("aria-pressed",a)}else this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());
this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,c){this._super("_setOption",a,c);if(a==="disabled")c?this.element.attr("disabled",true):this.element.removeAttr("disabled");this._resetButton()},refresh:function(){var a=this.element.is(":disabled");a!==this.options.disabled&&this._setOption("disabled",a);if(this.type==="radio")h(this.element[0]).each(function(){b(this).is(":checked")?b(this).button("widget").addClass("ui-state-active").attr("aria-pressed",true):b(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",
false)});else if(this.type==="checkbox")this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed",true):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",false)},_resetButton:function(){if(this.type==="input")this.options.label&&this.element.val(this.options.label);else{var a=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
c=b("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(a.empty()).text(),d=this.options.icons,f=d.primary&&d.secondary,e=[];if(d.primary||d.secondary){if(this.options.text)e.push("ui-button-text-icon"+(f?"s":d.primary?"-primary":"-secondary"));d.primary&&a.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>");d.secondary&&a.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>");if(!this.options.text){e.push(f?"ui-button-icons-only":
"ui-button-icon-only");this.hasTitle||a.attr("title",c)}}else e.push("ui-button-text-only");a.addClass(e.join(" "))}}});b.ui.button.version="@VERSION";b.widget("ui.buttonset",{options:{items:":button, :submit, :reset, :checkbox, :radio, a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,c){a==="disabled"&&this.buttons.button("option",a,c);this._super("_setOption",a,c)},refresh:function(){this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return b(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end()},
_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return b(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}});b.ui.buttonset.version="@VERSION"})(jQuery);
;
steal.end();
$.View.preload('editor_menubar_views_menubar_tmpl',function(data){return (
function anonymous(jQuery, $item) {
    var $ = jQuery, call, _ = [], $data = $item.data;
    with ($data) {
        _.push("<span style=\"width:50px; display:inline-block\">&nbsp;</span> <a name=\"designer\" class=\"wbl-tab wbl-designer wbl-active\" href=\"#wbl-designer\">Designer</a> <a name=\"pages\" class=\"wbl-tab wbl-pages\" href=\"#wbl-pages\">Pages</a> <a name=\"media\" class=\"wbl-tab wbl-media\" href=\"#wbl-media\">Media</a>  <!-- <img src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/menubar/images/menu_add.png\" class=\"wbl-add\" title=\"Pagelet Toolbar\" alt=\"Pagelet Toolbar\" /> --> <!-- <img src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/menubar/images/menu_more.png\" class=\"wbl-more\" title=\"Weitere Befehle...\" alt=\"Weitere Befehle...\" /> --> <img src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/menubar/images/page-settings.png\" class=\"wbl-pageSettings\" title=\"Seiten-Eigenschaften\" alt=\"Seiten-Eigenschaften\" />  <span class=\"wbl-editmode\">  <input type=\"checkbox\" value=\"editmode\" id=\"wbl-editmode\" />  <span class=\"wbl-editmodeText\">Editiermodus</span> </span>  <button class=\"wbl-editorSelectionOK\" type=\"button\">Ausw&auml;hlen</button>  <button class=\"wbl-editorSelectionCancel\" type=\"button\">Abbrechen</button>  <span class=\"wbl-language\">  <img src='");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/resources/flags/");
        if (typeof (current) !== "undefined" && (current) != null) {
            _.push($.encode((typeof (current) === "function" ? (current).call($item) : (current))));
        }
        _.push(".png' title='");
        if (typeof (current) !== "undefined" && (current) != null) {
            _.push($.encode((typeof (current) === "function" ? (current).call($item) : (current))));
        }
        _.push("'/> </span>   <span class=\"wbl-languageMenu\">  ");
        if (typeof (runtime.getLanguages) !== "undefined" && (runtime.getLanguages) != null) {
            $.each(runtime.getLanguages(), function ($index, $value) {
                with (this) {
                    _.push("   <img src=\"");
                    if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
                        _.push($.encode(runtime.getRootPath()));
                    }
                    _.push("/editor/resources/flags/");
                    if (typeof ($value.language) !== "undefined" && ($value.language) != null) {
                        _.push($.encode((typeof ($value.language) === "function" ? ($value.language).call($item) : ($value.language))));
                    }
                    _.push(".png\" alt=\"");
                    if (typeof ($value.language) !== "undefined" && ($value.language) != null) {
                        _.push($.encode((typeof ($value.language) === "function" ? ($value.language).call($item) : ($value.language))));
                    }
                    _.push("\" title=\"");
                    if (typeof ($value.language) !== "undefined" && ($value.language) != null) {
                        _.push($.encode((typeof ($value.language) === "function" ? ($value.language).call($item) : ($value.language))));
                    }
                    _.push("\" />     ");
                }
            });
        }
        _.push(" </span>  <span class=\"wbl-right\">  <!-- <input type=\"search\" name=\"search\" placeholder=\"Suchen...\" /> -->  <span class=\"wbl-profileMenu\">   <img src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/menubar/images/user.png\" class=\"wbl-user\" alt=\"User\" />   <span id=\"wbl-user\">");
        if (typeof (runtime.getFirstName) !== "undefined" && (runtime.getFirstName) != null) {
            _.push($.encode(runtime.getFirstName()));
        }
        _.push("</span>   <!-- <span>&#x25BC;</span> -->   <img src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/menubar/images/logout.png\" class=\"wbl-logout\" title=\"Logout\" alt=\"Logout\" />  </span> </span>  <div id=\"wbl-addMenu\" class=\"wbl-menu\">  <span class=\"wbl-triangleUp\"></span>  <ul>   <!-- <li class=\"wbl-newPage\">Neue Seite erstellen</li> -->   <!-- <li class=\"wbl-newUpload\">Neues Medium hochladen</li> -->   <!-- <li class=\"wbl-newNote\">Neue Notiz erstellen</li> -->   <li class=\"wbl-newPagelet\">Pagelet Toolbar</li>  </ul> </div>  <div id=\"wbl-moreMenu\" class=\"wbl-menu\">  <span class=\"wbl-triangleUp\"></span>  <ul>   <!-- <li class=\"wbl-pageSettings\">Seiten-Eigenschaften</li> -->   <!-- <li>Als Favorit kennzeichnen</li> -->   <!-- <li>Seite duplizieren</li> -->   <!-- <li class=\"wbl-publish\">Publizieren...</li> -->   <!-- <li>Zugriff einschr&auml;nken</li> -->   <!-- <li>Verherige Versionen...</li> -->  </ul> </div>  <div id=\"wbl-profileMenu\" class=\"wbl-menu\">  <span class=\"wbl-triangleUp\"></span>  <ul>   <!-- <li class=\"wbl-userSettings\">Einstellungen</li> -->   <!-- <li class=\"wbl-notification\">Nachrichten</li> -->   <li class=\"wbl-logout\">Logout</li>  </ul> </div>  <!-- <div id=\"wbl-searchResult\"> -->  <!-- <p class=\"wbl-section\">Webseiten <span class=\"wbl-website\">\\home\\schiedsrichter\\</span></p> -->  <!-- <p class=\"wbl-section\">Dokumente <span class=\"wbl-documents pdf\">Kursaufgebot R1</span></p> -->  <!-- <p>&nbsp;<span class=\"wbl-documents wbl-pdf\">Kursaufgebot R2</span></p> -->  <!-- <p class=\"wbl-footer\">Weitere Resultate...</p> --> <!-- </div> -->");
    }
    return _;
}
).call(jQuery, jQuery, {data: data}).join(''); });;
steal.end();
steal.plugins("jquery/controller/view","jquery/view/tmpl").views("//editor/resourcebrowser/views/init.tmpl").css("resourcebrowser").then("resourcescrollview","resourcelistview","resourcesearch").then(function(a){a.Controller("Editor.Resourcebrowser",{defaults:{resources:{},resourceType:"pages"}},{init:function(b){a(b).html("//editor/resourcebrowser/views/init.tmpl",{});this._initViewItems();this._showPendingNotification();this.searchFlag=true},update:function(b){if(b==true&&this.editorSelectionMode!=
true){this.searchFlag=true;this.element.find("div.wbl-view").hide();this.searchBox.show();this.scrollView.hide();this.listView.hide()}else if(this.searchFlag==false){this.element.find("div.wbl-view").show();this.activeElement.show();this.searchBox.hide()}if(this.searchFlag!=true){this._showPendingNotification();this.scrollView.editor_resourcescrollview({resources:this.options.resources,language:this.options.language,resourceType:this.options.resourceType,runtime:this.options.runtime});this.listView.editor_resourcelistview({resources:this.options.resources,
language:this.options.language,resourceType:this.options.resourceType,runtime:this.options.runtime})}},_initViewItems:function(){this.searchBox=this.find("div.wbl-searchBox").editor_resourcesearch({resourceType:this.options.resourceType,language:this.options.language,runtime:this.options.runtime});this.scrollView=this.find("div.wbl-thumbnailView");this.listView=this.find("div.wbl-listView");this.activeElement=this.scrollView;a("nav.weblounge div.wbl-view").buttonset();a("nav.weblounge div.wbl-filter").buttonset();
a("nav.weblounge button.wbl-list").button({icons:{primary:"wbl-iconList"},text:false});a("nav.weblounge button.wbl-tree").button({icons:{primary:"wbl-iconTree"},disabled:true,text:false});a("nav.weblounge button.wbl-thumbnails").button({disabled:false,icons:{primary:"wbl-iconThumbnails"},text:false});this.element.find("div.wbl-view").hide()},_enableEditorSelectionMode:function(b,c,d){if(!a.isEmptyObject(d))this.resourceMode=d;this.lastParams={preferredversion:1};this.lastParams.filter="";c&&a.each(c,
a.proxy(function(e,f){if(f!="")this.lastParams.filter+="id:"+f+" "},this));this.lastQuery={page:a.proxy(function(e){Page.findAll(e,a.proxy(function(f){this.options.resources=f;this.searchFlag=false;this._updateEditorSelectionMode(b,c,this.lastParams.filter)},this))},this),media:a.proxy(function(e){Editor.File.findAll(e,a.proxy(function(f){this.options.resources=f;this.searchFlag=false;this._updateEditorSelectionMode(b,c,this.lastParams.filter)},this))},this)};this._loadResources(this.lastParams,this.lastQuery)},
_updateEditorSelectionMode:function(b,c,d){this.activeElement.show();this.searchBox.hide();this.element.find("div.wbl-view").show();var e="editorSelection";if(b)e="editorMultiSelection";this.editorSelectionMode=true;this.scrollView.editor_resourcescrollview({resources:this.options.resources,language:this.options.language,resourceType:this.options.resourceType,runtime:this.options.runtime,mode:e});this.listView.editor_resourcelistview({resources:this.options.resources,language:this.options.language,
resourceType:this.options.resourceType,runtime:this.options.runtime,mode:e});this.element.find("nav.wbl-icons button").hide();d!=""&&this.element.find("nav.wbl-icons input#wbl-filter").val(d);this.activeElement.is(this.scrollView)?this.scrollView.editor_resourcescrollview("_selectResources",c):this.listView.editor_resourcelistview("_selectResources",c);var f;if(this.activeElement.hasClass("wbl-thumbnailView"))f=this.find("div.wbl-scrollViewItem.wbl-marked");else if(this.activeElement.hasClass("wbl-listView"))f=
this.find("tr.wbl-pageEntry input:checked").parents("tr.wbl-pageEntry");f.length>0?a("button.wbl-editorSelectionOK").button("option","disabled",false):a("button.wbl-editorSelectionOK").button("option","disabled",true)},_disableEditorSelectionMode:function(){this.editorSelectionMode=false;this.resourceMode={};this.scrollView.editor_resourcescrollview({resources:this.options.resources,language:this.options.language,resourceType:this.options.resourceType,runtime:this.options.runtime,mode:"normal"});
this.listView.editor_resourcelistview({resources:this.options.resources,language:this.options.language,resourceType:this.options.resourceType,runtime:this.options.runtime,mode:"normal"})},_getSelection:function(b){if(this.activeElement.hasClass("wbl-thumbnailView"))this.options.selectedResources=this.find("div.wbl-scrollViewItem.wbl-marked");else if(this.activeElement.hasClass("wbl-listView"))this.options.selectedResources=this.find("tr.wbl-pageEntry input:checked").parents("tr.wbl-pageEntry");if(this.options.selectedResources.lenght<
1)b(null);else{var c=[];this.options.selectedResources.each(a.proxy(function(d,e){d=null;d=this.options.resourceType=="pages"?this._getPage(a(e).attr("id")):this._getFile(a(e).attr("id"));d!=null&&c.push(d)},this));b(c)}},_showPendingNotification:function(){this._loadResources({},{page:a.proxy(function(b){Page.findPending(b,a.proxy(function(c){a.isEmptyObject(c)?this.element.find("div#wbl-pendingCircle").html("0").fadeOut():this.element.find("div#wbl-pendingCircle").html(c.length).fadeIn()},this))},
this),media:a.proxy(function(b){Editor.File.findPending(b,a.proxy(function(c){a.isEmptyObject(c)?this.element.find("div#wbl-pendingCircle").html("0").fadeOut():this.element.find("div#wbl-pendingCircle").html(c.length).fadeIn()},this))},this)})},_showResourceScrollView:function(b){if(this.searchFlag!=true){this.options.resources=b;b=this.find("div.wbl-thumbnailView");this._toggleElement(b);b.editor_resourcescrollview({resources:this.options.resources,resourceType:this.options.resourceType,language:this.options.language,
runtime:this.options.runtime})}},_showResourceListView:function(b){if(this.searchFlag!=true){this.options.resources=b;b=this.find("div.wbl-listView");this._toggleElement(b);b.editor_resourcelistview({resources:this.options.resources,resourceType:this.options.resourceType,language:this.options.language,runtime:this.options.runtime})}},_removeResource:function(b){var c=-1;a.each(this.options.resources,function(d,e){if(e.id==b){c=d;return false}});if(c!=-1){this.options.resources.splice(c,1);this.update()}},
_getPage:function(b){var c=null;a.each(this.options.resources,function(d,e){if(e.id==b){c=e;return false}});if(c==null)return null;return new Page({value:c})},_getFile:function(b){var c=null;a.each(this.options.resources,function(d,e){if(e.id==b){c=e;return false}});if(c==null)return null;return new Editor.File({value:c})},_toggleElement:function(b){this.activeElement.hide();this.activeElement=b;b.show()},_updateLast:function(){this._loadResources(this.lastParams,this.lastQuery)},_showMessage:function(b){a(".wbl-message").removeClass("wbl-error").addClass("wbl-success").css("visibility",
"visible").delay(3E3).queue(function(){a(this).empty().css("visibility","hidden");a(this).dequeue()});a(".wbl-message").html(b)},_showErrorMessage:function(b){a(".wbl-message").removeClass("wbl-success").addClass("wbl-error").css("visibility","visible").delay(3E3).queue(function(){a(this).empty().css("visibility","hidden");a(this).dequeue()});a(".wbl-message").html(b)},_loadResources:function(b,c){if(a.isEmptyObject(this.resourceMode))delete b.type;else b.type=this.resourceMode;switch(this.options.resourceType){case "pages":c.page(b);
break;case "media":c.media(b);break}},"div click":function(b,c){c.stopPropagation();b.is(this.element.find("div.wbl-scrollViewItem"))||b.is(this.element.find("div.wbl-imageContainer"))||this.element.find("div.wbl-scrollViewItem.wbl-marked").removeClass("wbl-marked");var d;if(this.activeElement.hasClass("wbl-thumbnailView"))d=this.find("div.wbl-scrollViewItem.wbl-marked");else if(this.activeElement.hasClass("wbl-listView"))d=this.find("tr.wbl-pageEntry input:checked").parents("tr.wbl-pageEntry");d.length>
0?a("button.wbl-delete").button("enable"):a("button.wbl-delete").button("disable");if(this.editorSelectionMode==true&&d.length>0)a("button.wbl-editorSelectionOK").button("option","disabled",false);else this.editorSelectionMode==true&&a("button.wbl-editorSelectionOK").button("option","disabled",true)},"input searchResources":function(b,c,d){if(d==undefined)d="";this.lastQuery={page:a.proxy(function(e){Page.findBySearch(e,a.proxy(function(f){this.options.resources=f;this.searchFlag=false;this.update()},
this))},this),media:a.proxy(function(e){Editor.File.findBySearch(e,a.proxy(function(f){this.options.resources=f;this.searchFlag=false;this.update()},this))},this)};this.lastParams={search:d,preferredversion:1};this._loadResources(this.lastParams,this.lastQuery)},"input filterResources":function(b,c,d){if(d==undefined)d="";this.lastParams.filter=d;this._loadResources(this.lastParams,this.lastQuery)},"button.wbl-list click":function(){this._showResourceListView(this.options.resources)},"button.wbl-thumbnails click":function(){this._showResourceScrollView(this.options.resources)},
"div#wbl-mainContainer deleteResources":function(b,c,d){switch(this.options.resourceType){case "pages":a(d).each(a.proxy(function(e,f){var g=this._getPage(f.id);if(g!=null){e=g.isLocked();var i=g.isLockedUser(this.options.runtime.getUserLogin());if(g.getPath()=="/")this._showErrorMessage("Can't delete root page");else!e||e&&i?Page.destroy({id:f.id},a.proxy(function(){this._showMessage("Seite gel&ouml;scht!");this._removeResource(f.id);if(g.getPath()==window.currentPagePath)location.href=window.currentLanguage+
"/?edit&_="+(new Date).getTime()},this),a.proxy(function(h,k,j){h.status==412?this._showErrorMessage("Can't delete"+g.getPath()+": Page has active referrers!"):this._showErrorMessage("Can't delete"+g.getPath()+": "+j)},this)):this._showErrorMessage("Can't delete "+g.getPath()+": Page is locked by "+g.getLockOwner()+"!")}},this));break;case "media":a(d).each(a.proxy(function(e,f){Editor.File.destroy({id:f.id},a.proxy(function(){this._showMessage("Media gel&ouml;scht!");this._removeResource(f.id)},
this),a.proxy(function(g,i,h){g.status==412?this._showErrorMessage("Can't delete file: Media has active referrers!"):this._showErrorMessage("Can't delete file: "+h)},this))},this));break}},"div#wbl-mainContainer duplicateResources":function(){this._showMessage("Seite dupliziert!");this.update()},"div#wbl-mainContainer showMessage":function(b,c,d){this._showMessage(d)},"div#wbl-mainContainer showErrorMessage":function(b,c,d){this._showErrorMessage(d)},"div#wbl-mainContainer favorizeResources":function(b,
c,d){d.length?this._showMessage("Zu Favoriten hinzugef&uuml;gt"):this._showErrorMessage("Es wurde keine Seite markiert.");this.update()},"button.wbl-recent click":function(){this.lastQuery={page:a.proxy(function(b){Page.findRecent(b,a.proxy(function(c){this.options.resources=c;this.searchFlag=false;this.update()},this))},this),media:a.proxy(function(b){Editor.File.findRecent(b,a.proxy(function(c){this.options.resources=c;this.searchFlag=false;this.update()},this))},this)};this.lastParams={preferredversion:1};
this._loadResources(this.lastParams,this.lastQuery)},"button.wbl-favorites click":function(){this.update()},"button.wbl-pending click":function(){this.lastQuery={page:a.proxy(function(b){Page.findPending(b,a.proxy(function(c){this.options.resources=c;this.searchFlag=false;this.update()},this))},this),media:a.proxy(function(b){Editor.File.findPending(b,a.proxy(function(c){this.options.resources=c;this.searchFlag=false;this.update()},this))},this)};this.lastParams={};this._loadResources(this.lastParams,
this.lastQuery)},"button.wbl-all click":function(){this.lastQuery={page:a.proxy(function(b){Page.findAll(b,a.proxy(function(c){this.options.resources=c;this.searchFlag=false;this.update()},this))},this),media:a.proxy(function(b){Editor.File.findAll(b,a.proxy(function(c){this.options.resources=c;this.searchFlag=false;this.update()},this))},this)};this.lastParams={preferredversion:1};this._loadResources(this.lastParams,this.lastQuery)}})});
;
steal.end();
$.View.preload('editor_resourcebrowser_views_init_tmpl',function(data){return (
function anonymous(jQuery, $item) {
    var $ = jQuery, call, _ = [], $data = $item.data;
    with ($data) {
        _.push("<nav class=\"weblounge\">  <div class=\"wbl-alignRight wbl-view\">   <button class=\"wbl-list\">List view</button>   <button class=\"wbl-thumbnails\">Thumbnails</button>  </div>  <div class=\"wbl-alignCenter wbl-filter\">   <button class=\"wbl-all\">All</button>   <button class=\"wbl-recent\">Recent</button>    <button class=\"wbl-pending\">Pending</button>   <div id=\"wbl-pendingCircle\"></div>   <!-- <button class=\"wbl-favorites\">Favorites</button> -->     </div> </nav>  <div id=\"wbl-mainContainer\" role=\"main\">  <div class=\"wbl-message\"></div>  <div class=\"wbl-searchBox\"></div>  <div class=\"wbl-listView\"></div>  <div class=\"wbl-thumbnailView\"></div> </div>");
    }
    return _;
}
).call(jQuery, jQuery, {data: data}).join(''); });;
steal.end();
steal.plugins("jquery/view/tmpl","jqueryui/widget").views("//editor/resourcebrowser/views/resourcescrollview.tmpl").resources("jquery.smoothDivScroll-1.1","jquery.lazyload").css("resources/smoothDivScroll").then("resourceview","resourcescrollviewitem").then(function(b){Editor.Resourceview.extend("Editor.Resourcescrollview",{init:function(a){b(a).html("//editor/resourcebrowser/views/resourcescrollview.tmpl",{resourceType:this.options.resourceType});this._initViewItems();this._initButtons();this._initFilter();
this._initDialogs();this._initSmoothDivScroll();this._initLazyLoading()},update:function(a){this._super(a);this.find("div.wbl-scrollViewItem").remove();this.divScroll.smoothDivScroll("recalculateScrollableArea");this.divScroll.smoothDivScroll("hideHotSpotBackgrounds");if(!b.isEmptyObject(this.options.resources)){this._initViewItems();this.divScroll.smoothDivScroll("recalculateScrollableArea");this.divScroll.smoothDivScroll("showHotSpotBackgrounds");this.divScroll.smoothDivScroll("startAutoScroll");
this._initLazyLoading()}},_initSmoothDivScroll:function(){this.divScroll=this.find("#wbl-makeMeScrollable").smoothDivScroll({autoScroll:"onstart",autoScrollDirection:"left",autoScrollStep:1,autoScrollInterval:15,visibleHotSpots:"always"})},_initLazyLoading:function(){var a=this.options.runtime.getRootPath();this.element.find("img.wbl-pageThumbnail").lazyload({placeholder:a+"/editor/resourcebrowser/images/empty_thumbnail.png",event:"scroll",container:this.element.find("div.scrollWrapper")})},_initViewItems:function(){var a=
this.element.find("div.scrollableArea");a.hide();b.each(this.options.resources,b.proxy(function(c,d){if(c==49)return false;a.append("//editor/resourcebrowser/views/resourcescrollviewitem.tmpl",{page:d,language:this.options.language,runtime:this.options.runtime,resourceType:this.options.resourceType});a.find("div.wbl-scrollViewItem:last").editor_resourcescrollviewitem({page:d,runtime:this.options.runtime,language:this.options.language,resourceType:this.options.resourceType,mode:this.options.mode})},
this));a.show()},_selectResources:function(a){var c=b.grep(this.element.find("div.wbl-scrollViewItem"),b.proxy(function(d){return jQuery.inArray(b(d).attr("id"),a)!=-1},this));b(c).addClass("wbl-marked");this.divScroll.smoothDivScroll("moveToElement","number",b(c).index()+1);this.divScroll.smoothDivScroll("stopAutoScroll")},"button.wbl-duplicate click":function(){this.options.selectedResources=this.find("div.wbl-scrollViewItem.wbl-marked");if(this.options.selectedResources.length==1)this.duplicateDialog.dialog("open");
else if(this.options.selectedResources.length>1)this.options.resourceType=="pages"?this.element.trigger("showMessage","Es kann nur eine Seite markiert werden."):this.element.trigger("showMessage","Es kann nur ein Media markiert werden.");else this.options.resourceType=="pages"?this.element.trigger("showMessage","Es wurde keine Seite markiert."):this.element.trigger("showMessage","Es wurde kein Media markiert.")},"button.wbl-delete click":function(){this.options.selectedResources=this.find("div.wbl-scrollViewItem.wbl-marked");
if(this.options.selectedResources.length)this.deleteDialog.dialog("open");else this.options.resourceType=="pages"?this.element.trigger("showMessage","Es wurde keine Seite markiert."):this.element.trigger("showMessage","Es wurde kein Media markiert.")},"button.wbl-favorize click":function(){this.options.selectedResources=b("div.wbl-scrollViewItem.wbl-marked");this.element.trigger("favorizeResources",this.options.selectedResources)}})});
;
steal.end();
$.View.preload('editor_resourcebrowser_views_resourcescrollview_tmpl',function(data){return (
function anonymous(jQuery, $item) {
    var $ = jQuery, call, _ = [], $data = $item.data;
    with ($data) {
        _.push("<div id=\"wbl-makeMeScrollable\">  <div class=\"scrollingHotSpotLeft\"></div>  <div class=\"scrollingHotSpotRight\"></div>  <div class=\"scrollWrapper\">   <div class=\"scrollableArea\">       </div>  </div> </div>  <nav class=\"wbl-alignCenter wbl-icons\">  <input type=\"text\" name=\"filter\" placeholder=\"Filtern...\" id=\"wbl-filter\" />  ");
        if ((typeof (resourceType == "pages") !== "undefined" && (resourceType == "pages") != null) && (typeof (resourceType == "pages") === "function" ? (resourceType == "pages").call($item) : (resourceType == "pages"))) {
            _.push("   <!-- <button class=\"wbl-duplicate\">Markierte Seite duplizieren</button> -->   <button class=\"wbl-delete\">Markierte Seiten l&ouml;schen</button>   <!-- <button class=\"wbl-favorize\">Zu Favoriten hinzuf\u221a\xbagen</button> -->  ");
        } else {
            if ((true) && true) {
                _.push("   <!-- <button class=\"wbl-duplicate\">Markiertes Medium duplizieren</button> -->   <button class=\"wbl-delete\">Markierte Medien l&ouml;schen</button>   <!-- <button class=\"wbl-favorize\">Zu Favoriten hinzuf\u221a\xbagen</button> -->  ");
            }
        }
        _.push(" </nav>");
    }
    return _;
}
).call(jQuery, jQuery, {data: data}).join(''); });;
steal.end();
(function(e){e.widget("thomaskahn.smoothDivScroll",{options:{scrollingHotSpotLeft:"div.scrollingHotSpotLeft",scrollingHotSpotRight:"div.scrollingHotSpotRight",scrollableArea:"div.scrollableArea",scrollWrapper:"div.scrollWrapper",hiddenOnStart:false,ajaxContentURL:"",countOnlyClass:"",scrollStep:15,scrollInterval:10,mouseDownSpeedBooster:3,autoScroll:"",autoScrollDirection:"right",autoScrollStep:5,autoScrollInterval:10,visibleHotSpots:"",hotSpotsVisibleTime:5,startAtElementId:""},_create:function(){var c=
this,a=this.options,b=this.element;b.data("scrollWrapper",b.find(a.scrollWrapper));b.data("scrollingHotSpotRight",b.find(a.scrollingHotSpotRight));b.data("scrollingHotSpotLeft",b.find(a.scrollingHotSpotLeft));b.data("scrollableArea",b.find(a.scrollableArea));b.data("speedBooster",1);b.data("motherElementOffset",b.offset().left);b.data("scrollXPos",0);b.data("hotSpotWidth",b.find(a.scrollingHotSpotLeft).width());b.data("scrollableAreaWidth",0);b.data("startingPosition",0);b.data("rightScrollInterval",
null);b.data("leftScrollInterval",null);b.data("autoScrollInterval",null);b.data("hideHotSpotBackgroundsInterval",null);b.data("previousScrollLeft",0);b.data("pingPongDirection","right");b.data("getNextElementWidth",true);b.data("swapAt",null);b.data("startAtElementHasNotPassed",true);b.data("swappedElement",null);b.data("originalElements",b.data("scrollableArea").children(a.countOnlyClass));b.data("visible",true);b.data("initialAjaxContentLoaded",false);b.data("enabled",true);if(a.autoScroll!=="always")switch(a.visibleHotSpots){case "always":c.showHotSpotBackgrounds();
break;case "onstart":c.showHotSpotBackgrounds();b.data("hideHotSpotBackgroundsInterval",setTimeout(function(){c.hideHotSpotBackgrounds("slow")},a.hotSpotsVisibleTime*1E3));break;default:break}b.data("scrollingHotSpotRight").bind("mousemove",function(d){b.data("scrollXPos",Math.round(d.layerX/b.data("hotSpotWidth")*a.scrollStep));b.data("scrollXPos")===Infinity&&b.data("scrollXPos",0)});b.data("scrollingHotSpotRight").bind("mouseover",function(){if(a.autoScroll==="onstart"&&b.data("autoScrollInterval")!==
null){clearInterval(b.data("autoScrollInterval"));b.data("autoScrollInterval",null);c._trigger("autoScrollIntervalStopped")}b.data("rightScrollInterval",setInterval(function(){if(b.data("scrollXPos")>0&&b.data("enabled")){b.data("scrollWrapper").scrollLeft(b.data("scrollWrapper").scrollLeft()+b.data("scrollXPos")*b.data("speedBooster"));c._showHideHotSpots()}},a.scrollInterval));c._trigger("mouseOverRightHotSpot")});b.data("scrollingHotSpotRight").bind("mouseout",function(){clearInterval(b.data("rightScrollInterval"));
b.data("scrollXPos",0)});b.data("scrollingHotSpotRight").bind("mousedown",function(){b.data("speedBooster",a.mouseDownSpeedBooster)});e("body").bind("mouseup",function(){b.data("speedBooster",1)});b.data("scrollingHotSpotLeft").bind("mousemove",function(d){d=b.data("hotSpotWidth")-d.layerX;b.data("scrollXPos",Math.round(d/b.data("hotSpotWidth")*a.scrollStep));b.data("scrollXPos")===Infinity&&b.data("scrollXPos",0)});b.data("scrollingHotSpotLeft").bind("mouseover",function(){if(a.autoScroll==="onstart"&&
b.data("autoScrollInterval")!==null){clearInterval(b.data("autoScrollInterval"));b.data("autoScrollInterval",null);c._trigger("autoScrollIntervalStopped")}b.data("leftScrollInterval",setInterval(function(){if(b.data("scrollXPos")>0&&b.data("enabled")){b.data("scrollWrapper").scrollLeft(b.data("scrollWrapper").scrollLeft()-b.data("scrollXPos")*b.data("speedBooster"));c._showHideHotSpots()}},a.scrollInterval));c._trigger("mouseOverLeftHotSpot")});b.data("scrollingHotSpotLeft").bind("mouseout",function(){clearInterval(b.data("leftScrollInterval"));
b.data("scrollXPos",0)});b.data("scrollingHotSpotLeft").bind("mousedown",function(){b.data("speedBooster",a.mouseDownSpeedBooster)});e(window).bind("resize",function(){a.hiddenOnStart||c._showHideHotSpots();c._trigger("windowResized")});a.ajaxContentURL.length>0?c.replaceContent(a.ajaxContentURL):c.recalculateScrollableArea();a.hiddenOnStart&&c.hide();a.autoScroll.length>0&&!a.hiddenOnStart&&a.ajaxContentURL.length<=0&&c.startAutoScroll()},showHotSpotBackgrounds:function(c){var a=this,b=this.element;
if(c!==undefined){b.data("scrollingHotSpotLeft").css("opacity","0.0");b.data("scrollingHotSpotRight").css("opacity","0.0");b.data("scrollingHotSpotLeft").addClass("scrollingHotSpotLeftVisible");b.data("scrollingHotSpotRight").addClass("scrollingHotSpotRightVisible");b.data("scrollingHotSpotLeft").fadeTo(c,0.35);b.data("scrollingHotSpotRight").fadeTo(c,0.35)}else{b.data("scrollingHotSpotLeft").addClass("scrollingHotSpotLeftVisible");b.data("scrollingHotSpotLeft").removeAttr("style");b.data("scrollingHotSpotRight").addClass("scrollingHotSpotRightVisible");
b.data("scrollingHotSpotRight").removeAttr("style")}a._showHideHotSpots()},hideHotSpotBackgrounds:function(c){var a=this.element;if(c!==undefined){a.data("scrollingHotSpotLeft").fadeTo(c,0,function(){a.data("scrollingHotSpotLeft").removeClass("scrollingHotSpotLeftVisible")});a.data("scrollingHotSpotRight").fadeTo(c,0,function(){a.data("scrollingHotSpotRight").removeClass("scrollingHotSpotRightVisible")})}else{a.data("scrollingHotSpotLeft").removeClass("scrollingHotSpotLeftVisible");a.data("scrollingHotSpotLeft").removeAttr("style");
a.data("scrollingHotSpotRight").removeClass("scrollingHotSpotRightVisible");a.data("scrollingHotSpotRight").removeAttr("style")}},_showHideHotSpots:function(){var c=this,a=this.element;if(this.options.autoScroll!=="always")if(a.data("scrollableAreaWidth")<=a.data("scrollWrapper").innerWidth()){a.data("scrollingHotSpotLeft").hide();a.data("scrollingHotSpotRight").hide()}else if(a.data("scrollWrapper").scrollLeft()===0){a.data("scrollingHotSpotLeft").hide();a.data("scrollingHotSpotRight").show();c._trigger("scrollLeftLimitReached");
clearInterval(a.data("leftScrollInterval"));a.data("leftScrollInterval",null)}else if(a.data("scrollableAreaWidth")<=a.data("scrollWrapper").innerWidth()+a.data("scrollWrapper").scrollLeft()){a.data("scrollingHotSpotLeft").show();a.data("scrollingHotSpotRight").hide();c._trigger("scrollRightLimitReached");clearInterval(a.data("rightScrollInterval"));a.data("rightScrollInterval",null)}else{a.data("scrollingHotSpotLeft").show();a.data("scrollingHotSpotRight").show()}else{a.data("scrollingHotSpotLeft").hide();
a.data("scrollingHotSpotRight").hide()}},moveToElement:function(c,a){var b=this,d=this.element,f=this.options,g=0,h=false;switch(c){case "first":d.data("scrollXPos",0);b._trigger("movedToFirstElement");break;case "start":d.data("scrollableArea").children(f.countOnlyClass).each(function(){if(f.startAtElementId.length>0&&e(this).attr("id")===f.startAtElementId){d.data("startingPosition",g);h=true}g+=e(this).outerWidth(true)});d.data("scrollXPos",d.data("startingPosition"));b._trigger("movedToStartElement");
break;case "last":d.data("scrollXPos",d.data("scrollableAreaWidth"));b._trigger("movedToLastElement");break;case "number":isNaN(a)||d.data("scrollableArea").children(f.countOnlyClass).each(function(i){i===a-1&&d.data("scrollXPos",g);g+=e(this).outerWidth(true)});b._trigger("movedToElementNumber",null,{elementNumber:a});break;default:break}d.data("scrollWrapper").scrollLeft(d.data("scrollXPos"));b._showHideHotSpots()},addContent:function(c,a){var b=this,d=this.element;e.get(c,function(f){a==="first"?
d.data("scrollableArea").children(":first").before(f):d.data("scrollableArea").children(":last").after(f);b.recalculateScrollableArea();b._showHideHotSpots()})},replaceContent:function(c){var a=this,b=this.element;b.data("scrollableArea").load(c,function(){a.recalculateScrollableArea();a.moveToElement("first");a._showHideHotSpots();b.data("startingPosition",0)})},recalculateScrollableArea:function(){var c=0,a=false,b=this.options,d=this.element,f=this;d.data("scrollableArea").children(b.countOnlyClass).each(function(){if(b.startAtElementId.length>
0&&e(this).attr("id")===b.startAtElementId){d.data("startingPosition",c);a=true}c+=e(this).outerWidth(true)});a||d.data("startAtElementId","");d.data("scrollableAreaWidth",c);d.data("scrollableArea").width(d.data("scrollableAreaWidth"));d.data("scrollWrapper").scrollLeft(d.data("startingPosition"));d.data("scrollXPos",d.data("startingPosition"));if(!d.data("initialAjaxContentLoaded"))if(b.autoScroll.length>0&&!b.hiddenOnStart&&b.ajaxContentURL.length>0){f.startAutoScroll();d.data("initialAjaxContentLoaded",
true)}},stopAutoScroll:function(){var c=this,a=this.element;clearInterval(a.data("autoScrollInterval"));a.data("autoScrollInterval",null);c._showHideHotSpots();c._trigger("autoScrollStopped")},startAutoScroll:function(){var c=this,a=this.element,b=this.options;c._showHideHotSpots();clearInterval(a.data("autoScrollInterval"));a.data("autoScrollInterval",null);c._trigger("autoScrollStarted");a.data("autoScrollInterval",setInterval(function(){if(!a.data("visible")||a.data("scrollableAreaWidth")<=a.data("scrollWrapper").innerWidth()){clearInterval(a.data("autoScrollInterval"));
a.data("autoScrollInterval",null)}else{a.data("previousScrollLeft",a.data("scrollWrapper").scrollLeft());switch(b.autoScrollDirection){case "right":a.data("scrollWrapper").scrollLeft(a.data("scrollWrapper").scrollLeft()+b.autoScrollStep);if(a.data("previousScrollLeft")===a.data("scrollWrapper").scrollLeft()){c._trigger("autoScrollRightLimitReached");clearInterval(a.data("autoScrollInterval"));a.data("autoScrollInterval",null);c._trigger("autoScrollIntervalStopped")}break;case "left":a.data("scrollWrapper").scrollLeft(a.data("scrollWrapper").scrollLeft()-
b.autoScrollStep);if(a.data("previousScrollLeft")===a.data("scrollWrapper").scrollLeft()){c._trigger("autoScrollLeftLimitReached");clearInterval(a.data("autoScrollInterval"));a.data("autoScrollInterval",null);c._trigger("autoScrollIntervalStopped")}break;case "backandforth":a.data("pingPongDirection")==="right"?a.data("scrollWrapper").scrollLeft(a.data("scrollWrapper").scrollLeft()+b.autoScrollStep):a.data("scrollWrapper").scrollLeft(a.data("scrollWrapper").scrollLeft()-b.autoScrollStep);if(a.data("previousScrollLeft")===
a.data("scrollWrapper").scrollLeft())if(a.data("pingPongDirection")==="right"){a.data("pingPongDirection","left");c._trigger("autoScrollRightLimitReached")}else{a.data("pingPongDirection","right");c._trigger("autoScrollLeftLimitReached")}break;case "endlessloopright":if(a.data("getNextElementWidth")){if(b.startAtElementId.length>0&&a.data("startAtElementHasNotPassed")){a.data("swapAt",e("#"+b.startAtElementId).outerWidth(true));a.data("startAtElementHasNotPassed",false)}else a.data("swapAt",a.data("scrollableArea").children(":first").outerWidth(true));
a.data("getNextElementWidth",false)}a.data("scrollWrapper").scrollLeft(a.data("scrollWrapper").scrollLeft()+b.autoScrollStep);if(a.data("swapAt")<=a.data("scrollWrapper").scrollLeft()){a.data("swappedElement",a.data("scrollableArea").children(":first").detach());a.data("scrollableArea").append(a.data("swappedElement"));a.data("scrollWrapper").scrollLeft(a.data("scrollWrapper").scrollLeft()-a.data("swappedElement").outerWidth(true));a.data("getNextElementWidth",true)}break;case "endlessloopleft":if(a.data("getNextElementWidth")){if(b.startAtElementId.length>
0&&a.data("startAtElementHasNotPassed")){a.data("swapAt",e("#"+b.startAtElementId).outerWidth(true));a.data("startAtElementHasNotPassed",false)}else a.data("swapAt",a.data("scrollableArea").children(":first").outerWidth(true));a.data("getNextElementWidth",false)}a.data("scrollWrapper").scrollLeft(a.data("scrollWrapper").scrollLeft()-b.autoScrollStep);if(a.data("scrollWrapper").scrollLeft()===0){a.data("swappedElement",a.data("scrollableArea").children(":last").detach());a.data("scrollableArea").prepend(a.data("swappedElement"));
a.data("scrollWrapper").scrollLeft(a.data("scrollWrapper").scrollLeft()+a.data("swappedElement").outerWidth(true));a.data("getNextElementWidth",true)}break;default:break}}},b.autoScrollInterval))},restoreOriginalElements:function(){var c=this,a=this.element;a.data("scrollableArea").html(a.data("originalElements"));c.recalculateScrollableArea();c.moveToElement("first")},show:function(){var c=this.element;c.data("visible",true);c.show()},hide:function(){var c=this.element;c.data("visible",false);c.hide()},
enable:function(){this.element.data("enabled",true)},disable:function(){var c=this.element;clearInterval(c.data("autoScrollInterval"));clearInterval(c.data("rightScrollInterval"));clearInterval(c.data("leftScrollInterval"));clearInterval(c.data("hideHotSpotBackgroundsInterval"));c.data("enabled",false)},destroy:function(){var c=this.element;clearInterval(c.data("autoScrollInterval"));clearInterval(c.data("rightScrollInterval"));clearInterval(c.data("leftScrollInterval"));clearInterval(c.data("hideHotSpotBackgroundsInterval"));
c.data("scrollingHotSpotRight").unbind("mouseover");c.data("scrollingHotSpotRight").unbind("mouseout");c.data("scrollingHotSpotRight").unbind("mousedown");c.data("scrollingHotSpotLeft").unbind("mouseover");c.data("scrollingHotSpotLeft").unbind("mouseout");c.data("scrollingHotSpotLeft").unbind("mousedown");c.data("scrollableArea").html(c.data("originalElements"));c.data("scrollableArea").removeAttr("style");c.data("scrollingHotSpotRight").removeAttr("style");c.data("scrollingHotSpotLeft").removeAttr("style");
c.data("scrollWrapper").scrollLeft(0);c.data("scrollingHotSpotLeft").removeClass("scrollingHotSpotLeftVisible");c.data("scrollingHotSpotRight").removeClass("scrollingHotSpotRightVisible");c.data("scrollingHotSpotRight").hide();c.data("scrollingHotSpotLeft").hide();e.Widget.prototype.destroy.apply(this,arguments)}})})(jQuery);
;
steal.end();
(function(a){a.fn.lazyload=function(d){var b={threshold:0,failurelimit:0,event:"scroll",effect:"show",container:window};if(d){a.extend(b,d);b.container.unbind(b.event)}var e=this;"scroll"==b.event&&a(b.container).bind("scroll",function(){var c=0;e.each(function(){if(!(a.abovethetop(this,b)||a.leftofbegin(this,b)))if(!a.belowthefold(this,b)&&!a.rightoffold(this,b))a(this).trigger("appear");else if(c++>b.failurelimit)return false});var g=a.grep(e,function(f){return!f.loaded});e=a(g)});this.each(function(){var c=
this;undefined==a(c).attr("original")&&a(c).attr("original",a(c).attr("src"));if("scroll"!=b.event||undefined==a(c).attr("src")||b.placeholder==a(c).attr("src")||a.abovethetop(c,b)||a.leftofbegin(c,b)||a.belowthefold(c,b)||a.rightoffold(c,b)){b.placeholder?a(c).attr("src",b.placeholder):a(c).removeAttr("src");c.loaded=false}else c.loaded=true;a(c).one("appear",function(){this.loaded||a("<img />").bind("load",function(){a(c).hide().attr("src",a(c).attr("original"))[b.effect](b.effectspeed);c.loaded=
true}).attr("src",a(c).attr("original"))});"scroll"!=b.event&&a(c).bind(b.event,function(){c.loaded||a(c).trigger("appear")})});a(b.container).trigger(b.event);return this};a.belowthefold=function(d,b){if(!a(d).is(":visible"))return true;return(b.container===undefined||b.container===window?a(window).height()+a(window).scrollTop():a(b.container).offset().top+a(b.container).height())<=a(d).offset().top-b.threshold};a.rightoffold=function(d,b){if(!a(d).is(":visible"))return true;return(b.container===
undefined||b.container===window?a(window).width()+a(window).scrollLeft():a(b.container).offset().left+a(b.container).width())<=a(d).offset().left-b.threshold};a.abovethetop=function(d,b){if(!a(d).is(":visible"))return true;return(b.container===undefined||b.container===window?a(window).scrollTop():a(b.container).offset().top)>=a(d).offset().top+b.threshold+a(d).height()};a.leftofbegin=function(d,b){if(!a(d).is(":visible"))return true;return(b.container===undefined||b.container===window?a(window).scrollLeft():
a(b.container).offset().left)>=a(d).offset().left+b.threshold+a(d).width()};a.extend(a.expr[":"],{"below-the-fold":"$.belowthefold(a, {threshold : 0, container: window})","above-the-fold":"!$.belowthefold(a, {threshold : 0, container: window})","right-of-fold":"$.rightoffold(a, {threshold : 0, container: window})","left-of-fold":"!$.rightoffold(a, {threshold : 0, container: window})"})})(jQuery);
;
steal.end();
steal.plugins("jquery/controller","jqueryui/dialog","jqueryui/draggable","jqueryui/resizable","jqueryui/mouse").then(function(a){a.Controller("Editor.Resourceview",{defaults:{resources:{},resourceType:"pages",selectedResources:{},mode:"normal"}},{update:function(b){if(!a.isEmptyObject(b.mode))this.options.mode=b.mode;this.options.resources=b.resources;this.options.mode=="normal"?this.element.find("nav.wbl-icons button").show():this.element.find("nav.wbl-icons button").hide()},_initButtons:function(){a("nav.weblounge div.wbl-icons").buttonset();
a("button.wbl-delete").button({icons:{primary:"ui-icon-trash"},text:false});a("button.wbl-duplicate").button({icons:{primary:"ui-icon-copy"},text:false});a("button.wbl-favorize").button({icons:{primary:"ui-icon-star"},text:false});a("button.wbl-delete").button("disable")},_initFilter:function(){this.element.find("input#wbl-filter").keydown(a.proxy(function(b){if(b.key()=="\r"){b.preventDefault();clearTimeout(this.timeout);a(b.target).trigger("filterResources",b.target.value)}else{clearTimeout(this.timeout);
this.timeout=setTimeout(function(){a(b.target).trigger("filterResources",b.target.value)},700)}},this))},_initDialogs:function(){var b,c;if(this.options.resourceType=="pages"){b="Seite(n) l&ouml;schen";c="<p>M&ouml;chten Sie diese Seite(n) wirklich l&ouml;schen?</p>"}else{b="Media l&ouml;schen";c="<p>M&ouml;chten Sie diese Media wirklich l&ouml;schen?</p>"}this.deleteDialog=a("<div></div>").html(c).dialog({modal:true,title:b,autoOpen:false,resizable:true,buttons:{Abbrechen:function(){a(this).dialog("close")},
OK:a.proxy(function(){this.element.trigger("deleteResources",[this.options.selectedResources]);this.deleteDialog.dialog("close")},this)}});this.duplicateDialog=a("<div></div>").load(this.options.runtime.getRootPath()+"/editor/resourcebrowser/views/duplicate-dialog.html").dialog({modal:true,title:"Seite duplizieren",autoOpen:false,resizable:true,buttons:{Abbrechen:function(){a(this).dialog("close")},OK:a.proxy(function(){this.element.trigger("duplicateResources",[this.options.selectedResources]);this.duplicateDialog.dialog("close")},
this)}})},"img deleteResource":function(b,c,d){this.options.selectedResources=d;this.deleteDialog.dialog("open")},"div,tr updateResource":function(b,c,d){c.stopPropagation();var e=-1;a.each(this.options.resources,function(f){if(a(this).attr("id")==d.id){e=f;return false}});e!=-1&&this.options.resources.splice(e,1,d)}})});
;
steal.end();
steal.plugins("jquery/controller","jquery/event/hover","jquery/controller/view").views("//editor/resourcebrowser/views/resourcescrollviewitem.tmpl").then("resourceviewitem").then(function(c){Editor.Resourceviewitem.extend("Editor.Resourcescrollviewitem",{init:function(){c.Hover.delay=0;this.element.find("img.wbl-trashPage").hide();this.element.find("img.wbl-editPage").hide();this.element.find("img.wbl-pagePreview").hide()},_updateView:function(a){this.options.page=a;this.element.html("//editor/resourcebrowser/views/resourcescrollviewitem.tmpl",
{page:this.options.page,language:this.options.language,runtime:this.options.runtime,resourceType:this.options.resourceType});c(this.element.find("div.wbl-imageContainer")).unwrap();var b=this.element.find("img.wbl-pageThumbnail"),d=b.attr("src");b.attr("src",c(b).attr("original"));b.one("error",function(){c(this).attr("src",d)});this.element.find("img.wbl-trashPage").hide();this.element.find("img.wbl-editPage").hide();this.element.find("img.wbl-pagePreview").hide();this.element.trigger("updateResource",
a)},click:function(a,b){var d=this.options.mode=="editorMultiSelection";this.options.mode!="normal"&&!d&&c("div.wbl-scrollViewItem.wbl-marked").removeClass("wbl-marked");c(b.target).is(".wbl-trashPage, .wbl-editPage, .wbl-pagePreview, .wbl-pagePath")||a.toggleClass("wbl-marked");c("div.wbl-scrollViewItem.wbl-marked").length>0?c("button.wbl-delete").button("enable"):c("button.wbl-delete").button("disable")},dblclick:function(a,b){switch(this.options.mode){case "normal":b.stopPropagation();switch(this.options.resourceType){case "pages":this.element.find("a.wbl-pagePath").click();
break;case "media":this._showResource(a.parent())}break;case "editorMultiSelection":c("div.wbl-scrollViewItem.wbl-marked").removeClass("wbl-marked");a.addClass("wbl-marked");c("button.wbl-editorSelectionOK").click();break;case "editorSelection":c("button.wbl-editorSelectionOK").click();break}},"img.wbl-trashPage click":function(a,b){b.stopPropagation();a.trigger("deleteResource",a.parent())},"img.wbl-editPage click":function(a,b){b.stopPropagation();this._openSettings(a.parent())},"img.wbl-pagePreview click":function(a,
b){b.stopPropagation();this._showResource(a.parent())},hoverenter:function(){if(this.options.mode=="normal"){this.element.find("img.wbl-pagePreview").fadeIn("fast");this.element.find("img.wbl-trashPage").fadeIn("fast");this.element.find("img.wbl-editPage").fadeIn("fast")}},hoverleave:function(){this.element.find("img.wbl-pagePreview").fadeOut("fast");this.element.find("img.wbl-trashPage").fadeOut("fast");this.element.find("img.wbl-editPage").fadeOut("fast")}})});
;
steal.end();
steal.plugins("jquery/event","jquery/event/livehack").then(function(a){a.Hover=function(){this._delay=a.Hover.delay;this._distance=a.Hover.distance;this._leave=a.Hover.leave};a.extend(a.Hover,{delay:100,distance:10,leave:0});a.extend(a.Hover.prototype,{delay:function(b){this._delay=b;return this},distance:function(b){this._distance=b;return this},leave:function(b){this._leave=b;return this}});var h=a.event;h.setupHelper(["hoverinit","hoverenter","hoverleave","hovermove"],"mouseenter",function(b){var e=
b.liveFired||b.currentTarget,f=b.handleObj.selector;if(!a.data(e,"_hover"+f)){a.data(e,"_hover"+f,true);var i={pageX:b.pageX,pageY:b.pageY},j=0,k,d=this,m=false,n=b,c=new a.Hover,l,p=function(){a.each(h.find(e,["hoverleave"],f),function(){this.call(d,b,c)});o()},q=function(g){clearTimeout(l);j+=Math.pow(g.pageX-i.pageX,2)+Math.pow(g.pageY-i.pageY,2);i={pageX:g.pageX,pageY:g.pageY};n=g},r=function(){clearTimeout(k);if(m)if(c._leave===0)p();else{clearTimeout(l);l=setTimeout(function(){p()},c._leave)}else o()},
o=function(){a(d).unbind("mouseleave",r);a(d).unbind("mousemove",q);a.removeData(e,"_hover"+f)};a(d).bind("mousemove",q).bind("mouseleave",r);a.each(h.find(e,["hoverinit"],f),function(){this.call(d,b,c)});k=setTimeout(function(){if(j<c._distance&&a(d).queue().length==0){a.each(h.find(e,["hoverenter"],f),function(){this.call(d,n,c)});m=true}else{j=0;k=setTimeout(arguments.callee,c._delay)}},c._delay)}})});
;
steal.end();
steal.plugins("jquery/event").then(function(){var h=jQuery.event,l=function(a,e,f){var g,c,b,d,i,j,k;for(g=0;g<e.length;g++){c=e[g];d=c.indexOf(".")<0;if(!d){b=c.split(".");c=b.shift();k=new RegExp("(^|\\.)"+b.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")}b=(a[c]||[]).slice(0);for(i=0;i<b.length;i++){j=b[i];if(!j.selector&&(d||k.test(j.namespace)))f(c,j.origHandler||j.handler)}}};h.find=function(a,e,f){a=$.data(a,"events");var g=[],c,b;if(!a)return g;if(f){if(!a.live)return[];b=a.live;for(a=0;a<
b.length;a++){c=b[a];if(c.selector===f&&$.inArray(c.origType,e)!==-1)g.push(c.origHandler||c.handler)}}else l(a,e,function(d,i){g.push(i)});return g};h.findBySelector=function(a,e){a=$.data(a,"events");var f={},g=function(c,b,d){c=f[c]||(f[c]={});(c[b]||(c[b]=[])).push(d)};if(!a)return f;$.each(a.live||[],function(c,b){if($.inArray(b.origType,e)!==-1)g(b.selector,b.origType,b.origHandler||b.handler)});l(a,e,function(c,b){g("",c,b)});return f};h.supportTouch="ontouchend"in document;$.fn.respondsTo=
function(a){return this.length?h.find(this[0],$.isArray(a)?a:[a]).length>0:false};$.fn.triggerHandled=function(a,e){a=typeof a=="string"?$.Event(a):a;this.trigger(a,e);return a.handled};h.setupHelper=function(a,e,f){if(!f){f=e;e=null}var g=function(b){var d=b.selector||"";if(d){b=h.find(this,a,d);b.length||$(this).delegate(d,e,f)}else h.find(this,a,d).length||h.add(this,e,f,{selector:d,delegate:this})},c=function(b){var d=b.selector||"";if(d){b=h.find(this,a,d);b.length||$(this).undelegate(d,e,f)}else h.find(this,
a,d).length||h.remove(this,e,f,{selector:d,delegate:this})};$.each(a,function(){h.special[this]={add:g,remove:c,setup:function(){},teardown:function(){}}})}});
;
steal.end();
$.View.preload('editor_resourcebrowser_views_resourcescrollviewitem_tmpl',function(data){return (
function anonymous(jQuery, $item) {
    var $ = jQuery, call, _ = [], $data = $item.data;
    with ($data) {
        _.push("<div class=\"wbl-scrollViewItem wbl-page\" id=\"");
        if (typeof (page.id) !== "undefined" && (page.id) != null) {
            _.push($.encode((typeof (page.id) === "function" ? (page.id).call($item) : (page.id))));
        }
        _.push("\">  <div class=\"wbl-imageContainer\">   ");
        if ((typeof (page.version == "work") !== "undefined" && (page.version == "work") != null) && (typeof (page.version == "work") === "function" ? (page.version == "work").call($item) : (page.version == "work"))) {
            _.push("    <img src=\"");
            if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
                _.push($.encode(runtime.getRootPath()));
            }
            _.push("/editor/resourcebrowser/images/empty_thumbnail.png\" original=\"/system/weblounge/previews/");
            if (typeof (page.id) !== "undefined" && (page.id) != null) {
                _.push($.encode((typeof (page.id) === "function" ? (page.id).call($item) : (page.id))));
            }
            _.push("/locales/");
            if (typeof (language) !== "undefined" && (language) != null) {
                _.push($.encode((typeof (language) === "function" ? (language).call($item) : (language))));
            }
            _.push("/styles/weblounge-ui:preview?version=1\" alt=\"Vorschaubild\" class=\"wbl-pageThumbnail\" />    ");
            if ((typeof (page.head.locked) !== "undefined" && (page.head.locked) != null) && (typeof (page.head.locked) === "function" ? (page.head.locked).call($item) : (page.head.locked))) {
                _.push("      ");
                if ((typeof (page.head.locked.user.id == runtime.user.login) !== "undefined" && (page.head.locked.user.id == runtime.user.login) != null) && (typeof (page.head.locked.user.id == runtime.user.login) === "function" ? (page.head.locked.user.id == runtime.user.login).call($item) : (page.head.locked.user.id == runtime.user.login))) {
                    _.push("      <div class=\"wbl-ribbon ribbon-locked-by-me\">Locked</div>     ");
                } else {
                    if ((true) && true) {
                        _.push("      <div class=\"wbl-ribbon ribbon-locked-by-others\">Locked</div>     ");
                    }
                }
                _.push("    ");
            } else {
                if ((true) && true) {
                    _.push("     <div class=\"wbl-ribbon ribbon-work\">Work</div>    ");
                }
            }
            _.push("   ");
        } else {
            if ((true) && true) {
                _.push("    <img src=\"");
                if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
                    _.push($.encode(runtime.getRootPath()));
                }
                _.push("/editor/resourcebrowser/images/empty_thumbnail.png\" original=\"/system/weblounge/previews/");
                if (typeof (page.id) !== "undefined" && (page.id) != null) {
                    _.push($.encode((typeof (page.id) === "function" ? (page.id).call($item) : (page.id))));
                }
                _.push("/locales/");
                if (typeof (language) !== "undefined" && (language) != null) {
                    _.push($.encode((typeof (language) === "function" ? (language).call($item) : (language))));
                }
                _.push("/styles/weblounge-ui:preview?version=0\" alt=\"Vorschaubild\" class=\"wbl-pageThumbnail\" />   ");
            }
        }
        _.push("  </div>  ");
        if ((typeof (!$.isEmptyObject) !== "undefined" && (!$.isEmptyObject) != null) && !$.isEmptyObject(page.head.metadata.title) && !$.isEmptyObject(page.head.metadata.title[language])) {
            _.push("   <h2>");
            if (typeof (page.head.metadata.title[language]) !== "undefined" && (page.head.metadata.title[language]) != null) {
                _.push($.encode((typeof (page.head.metadata.title[language]) === "function" ? (page.head.metadata.title[language]).call($item) : (page.head.metadata.title[language]))));
            }
            _.push("</h2>  ");
        } else {
            if ((true) && true) {
                _.push("   <h2>&nbsp;</h2>  ");
            }
        }
        _.push("  <p>      ");
        if ((typeof (page.head.modified) !== "undefined" && (page.head.modified) != null) && (typeof (page.head.modified) === "function" ? (page.head.modified).call($item) : (page.head.modified))) {
            _.push("    Updated by ");
            if (typeof (page.head.modified.user.name) !== "undefined" && (page.head.modified.user.name) != null) {
                _.push($.encode((typeof (page.head.modified.user.name) === "function" ? (page.head.modified.user.name).call($item) : (page.head.modified.user.name))));
            }
            _.push("<br />          Modification Date: ");
            if (typeof (page.head.modified.date.toLocaleString) !== "undefined" && (page.head.modified.date.toLocaleString) != null) {
                _.push($.encode(page.head.modified.date.toLocaleString()));
            }
            _.push("<br />      ");
        } else {
            if ((true) && true) {
                _.push("    Created by ");
                if (typeof (page.head.created.user.name) !== "undefined" && (page.head.created.user.name) != null) {
                    _.push($.encode((typeof (page.head.created.user.name) === "function" ? (page.head.created.user.name).call($item) : (page.head.created.user.name))));
                }
                _.push("<br />       Creation Date: ");
                if (typeof (page.head.created.date.toLocaleString) !== "undefined" && (page.head.created.date.toLocaleString) != null) {
                    _.push($.encode(page.head.created.date.toLocaleString()));
                }
                _.push("<br />      ");
            }
        }
        _.push("   ");
        if ((typeof (page.head.metadata.subject) !== "undefined" && (page.head.metadata.subject) != null) && (typeof (page.head.metadata.subject) === "function" ? (page.head.metadata.subject).call($item) : (page.head.metadata.subject))) {
            _.push("    Tags: ");
            if (typeof (page.head.metadata.subject) !== "undefined" && (page.head.metadata.subject) != null) {
                $.each((typeof (page.head.metadata.subject) === "function" ? (page.head.metadata.subject).call($item) : (page.head.metadata.subject)), function ($index, $value) {
                    with (this) {
                        _.push(" ");
                        if (typeof ($value) !== "undefined" && ($value) != null) {
                            _.push($.encode((typeof ($value) === "function" ? ($value).call($item) : ($value))));
                        }
                        _.push("");
                        if ((typeof (page.head.metadata.subject.length != ($index + 1)) !== "undefined" && (page.head.metadata.subject.length != ($index + 1)) != null) && (typeof (page.head.metadata.subject.length != ($index + 1)) === "function" ? (page.head.metadata.subject.length != ($index + 1)).call($item) : (page.head.metadata.subject.length != ($index + 1)))) {
                            _.push(", ");
                        }
                        _.push("");
                    }
                });
            }
            _.push("<br/>   ");
        }
        _.push("   ");
        if ((typeof (page.path) !== "undefined" && (page.path) != null) && (typeof (page.path) === "function" ? (page.path).call($item) : (page.path))) {
            _.push("    URL: <a href=\"");
            if (typeof (page.path) !== "undefined" && (page.path) != null) {
                _.push($.encode((typeof (page.path) === "function" ? (page.path).call($item) : (page.path))));
            }
            _.push("\" class=\"wbl-pagePath\" title=\"Gehe zu Seite\">");
            if (typeof (page.path) !== "undefined" && (page.path) != null) {
                _.push($.encode((typeof (page.path) === "function" ? (page.path).call($item) : (page.path))));
            }
            _.push("</a>   ");
        }
        _.push("  </p>  <img class=\"wbl-trashPage\" src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/resourcebrowser/images/icon_trash.png\" />  <img class=\"wbl-editPage\" src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/resourcebrowser/images/icon_settings.png\" />  <img class=\"wbl-pagePreview\" src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/resourcebrowser/images/icon_read.png\" />  <div class=\"wbl-previewOverlay\">   <img class=\"wbl-overlayPreviewImage\" src=\"\" />   <video preload=\"preload\" controls=\"controls\"></video>   <div class=\"wbl-overlayPreviewContent\"></div>   <iframe src=\"\" sandbox=\"\" seamless></iframe>  </div> </div>");
    }
    return _;
}
).call(jQuery, jQuery, {data: data}).join(''); });;
steal.end();
steal.plugins().then(function(b){b.Controller("Editor.Resourceviewitem",{defaults:{page:{}}},{init:function(){},"a.wbl-pagePath click":function(a,c){c.preventDefault();if(this.options.mode=="normal")a.trigger("openDesigner");else{if(a.parents(".wbl-thumbnailView").length>0){a.parents(".wbl-thumbnailView").find("div.wbl-scrollViewItem.wbl-marked").removeClass("wbl-marked");a.parents(".wbl-scrollViewItem").addClass("wbl-marked")}else{a.parents(".wbl-listView").find("tr.wbl-pageEntry input:checked").removeAttr("checked");
a.parent().find("input").attr("checked","checked")}b("button.wbl-editorSelectionOK").click()}},_showResource:function(a){switch(this.options.resourceType){case "pages":var c=this.element.find("a.wbl-pagePath").attr("href");if(this.options.page.version=="work")c+="work.html";c+="?preview&_="+(new Date).getTime();this._loadOverlay(function(){var h=this.getOverlay().find("iframe");h.css("width",b(window).width()*0.8+"px");h.css("height",b(window).height()*0.8+"px");h.attr("src",c).show()},function(){});
break;case "media":var d=(new Editor.File({value:this.options.page})).getContent(this.options.language);switch(this.options.page.type){case "file":var f="/system/weblounge/files/"+b(a).attr("id")+"/content/"+d.language;window.open(f,"popUp","width=800,height=600,scrollbars=yes");break;case "image":this._loadOverlay(b.proxy(function(){var h="/system/weblounge/files/"+b(a).attr("id")+"/content/"+d.language,e=this.element.find("div.wbl-previewOverlay img.wbl-overlayPreviewImage"),g=this._getScaledHeight(d.width,
d.height),i=this._getScaledWidth(d.width,d.height);e.attr("src",h).show();e.attr("width",i+"px");e.attr("height",g+"px")},this),function(){});break;case "movie":var j=null;this._loadOverlay(b.proxy(function(){var h="/system/weblounge/files/"+b(a).attr("id")+"/content/"+d.language,e=this.element.find("div.wbl-previewOverlay video");if(d.video==undefined||d.video.resolution==undefined){e.css("max-width",b(window).width()*0.8+"px");e.css("max-height",b(window).height()*0.8+"px")}else{var g=d.video.resolution.split("x"),
i=this._getScaledHeight(g[0],g[1]);g=this._getScaledWidth(g[0],g[1]);e.attr("width",g+"px");e.attr("height",i+"px")}e.html('<source src="'+h+'" type="'+d.mimetype+'" />').show();j=new MediaElementPlayer(e,{})},this),function(){j!=null&&j.pause()});break}break}},_getScaledHeight:function(a,c){var d=b(window).width()*0.8,f=b(window).height()*0.8;a=Math.min(d/a,f/c);return a>1?c:c*a},_getScaledWidth:function(a,c){var d=b(window).width()*0.8,f=b(window).height()*0.8;c=Math.min(d/a,f/c);return c>1?a:a*
c},_loadOverlay:function(a,c){this.element.find("div.wbl-previewOverlay").overlay({top:60,load:true,onBeforeLoad:a,onBeforeClose:c}).load()},_openSettings:function(a){switch(this.options.resourceType){case "pages":Page.findOne({id:a.attr("id")},b.proxy(function(c){var d=c.isLocked(),f=c.isLockedUser(this.options.runtime.getUserLogin());if(d&&!f)this.element.trigger("showErrorMessage","Can't edite page settings "+c.getPath()+": Page is locked by "+c.getLockOwner()+"!");else d&&f?b("#wbl-pageheadeditor").editor_pageheadeditor({page:c,
language:this.options.language,runtime:this.options.runtime,success:b.proxy(function(){this._update()},this)}):c.lock(this.options.runtime.getUserLogin(),b.proxy(function(){b("#wbl-pageheadeditor").editor_pageheadeditor({page:c,language:this.options.language,runtime:this.options.runtime,success:b.proxy(function(){c.unlock(b.proxy(function(){this._update()},this),b.proxy(function(){this.element.trigger("showErrorMessage","Can't unlock page "+c.getPath()+"!")},this))},this)})},this),b.proxy(function(){this.element.trigger("showErrorMessage",
"Can't lock page "+c.getPath()+"!")},this))},this));break;case "media":a=new Array({resourceId:a.attr("id")});b("div#wbl-mediaeditor").editor_mediaeditor({map:a,language:this.options.language,runtime:this.options.runtime,success:b.proxy(function(){this._update()},this)});break}},_update:function(){switch(this.options.resourceType){case "pages":Page.findOne({id:this.element.attr("id")},b.proxy(function(a){this._updateView(a.value)},this));break;case "media":Editor.File.findOne({id:this.element.attr("id")},
b.proxy(function(a){a.value.type=a.name.key;this._updateView(a.value)},this));break}}})});
;
steal.end();
steal.plugins("jquery/view/tmpl").views("//editor/resourcebrowser/views/resourcelistview.tmpl").resources("jquery.tablesorter","jquery.tablesorter.pager").then("resourceview","resourcelistviewitem").css("resources/images/blue/style","resources/jquery.tablesorter.pager").then(function(b){Editor.Resourceview.extend("Editor.Resourcelistview",{init:function(a){b(a).html("//editor/resourcebrowser/views/resourcelistview.tmpl",{runtime:this.options.runtime,resourceType:this.options.resourceType});this._initViewItems();
this._initButtons();this._initFilter();this._initDialogs();this.table=this.element.find("table.wbl-tablesorter");this.pager=this.element.find("#wbl-pager");this._initDataTable(this._calculatePageSize())},update:function(a){this._super(a);this.find("tr.wbl-pageEntry").remove();this._initViewItems();a=this._calculatePageSize();this._initDataTable(a);this.table[0].config.size=a},_updateTableSize:function(a){this.find("tr.wbl-pageEntry").remove();this._initViewItems();this._initDataTable(a);this.table[0].config.size=
a},_initDataTable:function(a){b.isEmptyObject(this.options.resources)?this.pager.find("*").unbind():this.table.tablesorter({sortList:[[0,0]],headers:{4:{sorter:false}},widgets:["zebra"]}).tablesorterPager({container:this.pager,positionFixed:false,size:a,cssNext:".wbl-next",cssPrev:".wbl-prev",cssFirst:".wbl-first",cssLast:".wbl-last",cssPageDisplay:".wbl-pageDisplay",cssPageSize:".wbl-pageSize"})},_initViewItems:function(){b.isEmptyObject(this.options.resources)||b.each(this.options.resources,b.proxy(function(a,
c){this.element.find("#wbl-listViewContent").append("//editor/resourcebrowser/views/resourcelistviewitem.tmpl",{page:c,runtime:this.options.runtime,language:this.options.language,resourceType:this.options.resourceType}).find("tr.wbl-pageEntry:last").editor_resourcelistviewitem({page:c,runtime:this.options.runtime,language:this.options.language,resourceType:this.options.resourceType,mode:this.options.mode})},this))},_selectResources:function(a){var c=b.grep(this.element.find("#wbl-listViewContent tr.wbl-pageEntry"),
b.proxy(function(d){return jQuery.inArray(b(d).attr("id"),a)!=-1},this));b(c).find("input").attr("checked","checked")},_calculatePageSize:function(){var a=1,c=b(window).height()-380;if(c>0)a=Math.ceil(c/27);return a},"{window} resize":function(){var a=this._calculatePageSize();this.element.find("#wbl-listViewContent tr.wbl-pageEntry").length!=a&&this._updateTableSize(a)},"img.wbl-itemFavorize click":function(a){this.element.trigger("favorizeResources",[a.parents("tr.wbl-pageEntry")])},"button.wbl-duplicate click":function(){this.options.selectedResources=
this.find("tr.wbl-pageEntry input:checked").parents("tr.wbl-pageEntry");if(this.options.selectedResources.length==1)this.duplicateDialog.dialog("open");else this.options.selectedResources.length>1?this.element.trigger("showMessage","Es kann nur eine Seite markiert werden."):this.element.trigger("showMessage","Es wurde keine Seite markiert.")},"button.wbl-delete click":function(){this.options.selectedResources=this.find("tr.wbl-pageEntry input:checked").parents("tr.wbl-pageEntry");this.options.selectedResources.length?
this.deleteDialog.dialog("open"):this.element.trigger("showMessage","Es wurde keine Seite markiert.")},"button.wbl-favorize click":function(){this.options.selectedResources=this.find("tr.wbl-pageEntry input:checked").parents("tr.wbl-pageEntry");this.element.trigger("favorizeResources",this.options.selectedResources)}})});
;
steal.end();
$.View.preload('editor_resourcebrowser_views_resourcelistview_tmpl',function(data){return (
function anonymous(jQuery, $item) {
    var $ = jQuery, call, _ = [], $data = $item.data;
    with ($data) {
        _.push("<table class=\"wbl-tablesorter\">  <thead>   <tr>    ");
        if ((typeof (resourceType == "pages") !== "undefined" && (resourceType == "pages") != null) && (typeof (resourceType == "pages") === "function" ? (resourceType == "pages").call($item) : (resourceType == "pages"))) {
            _.push("    <th>Seite</th>    <th>Seitentitel</th>    <th>Erstellt</th>    <th>Zuletzt editiert</th>    <th></th>    ");
        } else {
            if ((true) && true) {
                _.push("    <th>Seite</th>    <th>Titel</th>    <th>Erstellt</th>    <th>Zuletzt editiert</th>    <th></th>    ");
            }
        }
        _.push("   </tr>   </thead>   <tbody id=\"wbl-listViewContent\">  </tbody> </table> <div id=\"wbl-pager\">  <img src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/resourcebrowser/resources/images/blue/first.png\" class=\"wbl-first\"/>  <img src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/resourcebrowser/resources/images/blue/prev.png\" class=\"wbl-prev\"/>  <input type=\"text\" class=\"wbl-pageDisplay\"/>  <img src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/resourcebrowser/resources/images/blue/next.png\" class=\"wbl-next\"/>  <img src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/resourcebrowser/resources/images/blue/last.png\" class=\"wbl-last\"/> </div>  <nav class=\"wbl-alignCenter wbl-icons\">  <input type=\"text\" name=\"filter\" placeholder=\"Filtern...\" id=\"wbl-filter\" />   ");
        if ((typeof (resourceType == "pages") !== "undefined" && (resourceType == "pages") != null) && (typeof (resourceType == "pages") === "function" ? (resourceType == "pages").call($item) : (resourceType == "pages"))) {
            _.push("   <!-- <button class=\"wbl-duplicate\">Markierte Seite duplizieren</button> -->   <button class=\"wbl-delete\">Markierte Seiten l&ouml;schen</button>   <!-- <button class=\"wbl-favorize\">Zu Favoriten hinzuf&uuml;gen</button> -->  ");
        } else {
            if ((true) && true) {
                _.push("   <!-- <button class=\"wbl-duplicate\">Markiertes Medium duplizieren</button> -->   <button class=\"wbl-delete\">Markierte Medien l&ouml;schen</button>   <!-- <button class=\"wbl-favorize\">Zu Favoriten hinzuf&uuml;gen</button> -->  ");
            }
        }
        _.push(" </nav>");
    }
    return _;
}
).call(jQuery, jQuery, {data: data}).join(''); });;
steal.end();
(function(i){i.extend({tablesorter:new (function(){function d(a,b){l(a+","+((new Date).getTime()-b.getTime())+"ms")}function l(a){typeof console!="undefined"&&typeof console.debug!="undefined"?console.log(a):alert(a)}function p(a,b){if(a.config.debug)var c="";if(a.tBodies.length!=0){var f=a.tBodies[0].rows;if(f[0])for(var g=[],j=f[0].cells.length,e=0;e<j;e++){var h=false;if(i.metadata&&i(b[e]).metadata()&&i(b[e]).metadata().sorter)h=A(i(b[e]).metadata().sorter);else if(a.config.headers[e]&&a.config.headers[e].sorter)h=
A(a.config.headers[e].sorter);h||(h=s(a,f,-1,e));if(a.config.debug)c+="column:"+e+" parser:"+h.id+"\n";g.push(h)}a.config.debug&&l(c);return g}}function s(a,b,c,f){for(var g=q.length,j=false,e=false,h=true;e==""&&h;){c++;if(b[c]){j=r(b,c,f);e=G(a.config,j);a.config.debug&&l("Checking if value was empty on row:"+c)}else h=false}for(b=1;b<g;b++)if(q[b].is(e,a,j))return q[b];return q[0]}function r(a,b,c){return a[b].cells[c]}function G(a,b){return i.trim(w(a,b))}function A(a){for(var b=q.length,c=0;c<
b;c++)if(q[c].id.toLowerCase()==a.toLowerCase())return q[c];return false}function B(a){if(a.config.debug)var b=new Date;for(var c=a.tBodies[0]&&a.tBodies[0].rows.length||0,f=a.tBodies[0].rows[0]&&a.tBodies[0].rows[0].cells.length||0,g=a.config.parsers,j={row:[],normalized:[]},e=0;e<c;++e){var h=i(a.tBodies[0].rows[e]),k=[];if(h.hasClass(a.config.cssChildRow))j.row[j.row.length-1]=j.row[j.row.length-1].add(h);else{j.row.push(h);for(var m=0;m<f;++m)k.push(g[m].format(w(a.config,h[0].cells[m]),a,h[0].cells[m]));
k.push(j.normalized.length);j.normalized.push(k)}}a.config.debug&&d("Building cache for "+c+" rows:",b);return j}function w(a,b){var c="";if(!b)return"";if(!a.supportsTextContent)a.supportsTextContent=b.textContent||false;return c=a.textExtraction=="simple"?a.supportsTextContent?b.textContent:b.childNodes[0]&&b.childNodes[0].hasChildNodes()?b.childNodes[0].innerHTML:b.innerHTML:typeof a.textExtraction=="function"?a.textExtraction(b):i(b).text()}function x(a,b){if(a.config.debug)var c=new Date;var f=
b.row;b=b.normalized;for(var g=b.length,j=b[0].length-1,e=i(a.tBodies[0]),h=[],k=0;k<g;k++){var m=b[k][j];h.push(f[m]);if(!a.config.appender)for(var t=f[m].length,n=0;n<t;n++)e[0].appendChild(f[m][n])}a.config.appender&&a.config.appender(a,h);h=null;a.config.debug&&d("Rebuilt table:",c);y(a);setTimeout(function(){i(a).trigger("sortEnd")},0)}function H(a){if(a.config.debug)var b=new Date;var c=I(a);$tableHeaders=i(a.config.selectorHeaders,a).each(function(f){this.column=c[this.parentNode.rowIndex+
"-"+this.cellIndex];this.count=this.order=J(a.config.sortInitialOrder);if(K(this)||L(a,f))this.sortDisabled=true;if(C(a,f))this.order=this.lockedOrder=C(a,f);if(!this.sortDisabled){var g=i(this).addClass(a.config.cssHeader);a.config.onRenderHeader&&a.config.onRenderHeader.apply(g)}a.config.headerList[f]=this});if(a.config.debug){d("Built headers:",b);l($tableHeaders)}return $tableHeaders}function I(a){var b=[],c={};a=a.getElementsByTagName("THEAD")[0].getElementsByTagName("TR");for(var f=0;f<a.length;f++)for(var g=
a[f].cells,j=0;j<g.length;j++){var e=g[j],h=e.parentNode.rowIndex,k=h+"-"+e.cellIndex,m=e.rowSpan||1;e=e.colSpan||1;var t;if(typeof b[h]=="undefined")b[h]=[];for(var n=0;n<b[h].length+1;n++)if(typeof b[h][n]=="undefined"){t=n;break}c[k]=t;for(n=h;n<h+m;n++){if(typeof b[n]=="undefined")b[n]=[];k=b[n];for(var z=t;z<t+e;z++)k[z]="x"}}return c}function K(a){if(i.metadata&&i(a).metadata().sorter===false)return true;return false}function L(a,b){if(a.config.headers[b]&&a.config.headers[b].sorter===false)return true;
return false}function C(a,b){if(a.config.headers[b]&&a.config.headers[b].lockedOrder)return a.config.headers[b].lockedOrder;return false}function y(a){for(var b=a.config.widgets,c=b.length,f=0;f<c;f++)D(b[f]).format(a)}function D(a){for(var b=u.length,c=0;c<b;c++)if(u[c].id.toLowerCase()==a.toLowerCase())return u[c]}function J(a){return typeof a!="Number"?a.toLowerCase()=="desc"?1:0:a==1?1:0}function M(a,b){for(var c=b.length,f=0;f<c;f++)if(b[f][0]==a)return true;return false}function E(a,b,c,f){b.removeClass(f[0]).removeClass(f[1]);
var g=[];b.each(function(){this.sortDisabled||(g[this.column]=i(this))});a=c.length;for(b=0;b<a;b++)g[c[b][0]].addClass(f[c[b][1]])}function N(a){if(a.config.widthFixed){var b=i("<colgroup>");i("tr:first td",a.tBodies[0]).each(function(){b.append(i("<col>").css("width",i(this).width()))});i(a).prepend(b)}}function O(a,b){a=a.config;for(var c=b.length,f=0;f<c;f++){var g=b[f],j=a.headerList[g[0]];j.count=g[1];j.count++}}function F(a,b,c){if(a.config.debug)var f=new Date;for(var g="var sortWrapper = function(a,b) {",
j=b.length,e=0;e<j;e++){var h=b[e][0],k=b[e][1];h=a.config.parsers[h].type=="text"?k==0?v("text","asc",h):v("text","desc",h):k==0?v("numeric","asc",h):v("numeric","desc",h);var m="e"+e;g+="var "+m+" = "+h;g+="if("+m+") { return "+m+"; } ";g+="else { "}e=c.normalized[0].length-1;g+="return a["+e+"]-b["+e+"];";for(e=0;e<j;e++)g+="}; ";g+="return 0; ";g+="}; ";a.config.debug&&d("Evaling expression:"+g,new Date);eval(g);c.normalized.sort(sortWrapper);a.config.debug&&d("Sorting on "+b.toString()+" and dir "+
k+" time:",f);return c}function v(a,b,c){var f="a["+c+"]";c="b["+c+"]";if(a=="text"&&b=="asc")return"("+f+" == "+c+" ? 0 : ("+f+" === null ? Number.POSITIVE_INFINITY : ("+c+" === null ? Number.NEGATIVE_INFINITY : ("+f+" < "+c+") ? -1 : 1 )));";else if(a=="text"&&b=="desc")return"("+f+" == "+c+" ? 0 : ("+f+" === null ? Number.POSITIVE_INFINITY : ("+c+" === null ? Number.NEGATIVE_INFINITY : ("+c+" < "+f+") ? -1 : 1 )));";else if(a=="numeric"&&b=="asc")return"("+f+" === null && "+c+" === null) ? 0 :("+
f+" === null ? Number.POSITIVE_INFINITY : ("+c+" === null ? Number.NEGATIVE_INFINITY : "+f+" - "+c+"));";else if(a=="numeric"&&b=="desc")return"("+f+" === null && "+c+" === null) ? 0 :("+f+" === null ? Number.POSITIVE_INFINITY : ("+c+" === null ? Number.NEGATIVE_INFINITY : "+c+" - "+f+"));"}var q=[],u=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,
textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:false};this.benchmark=d;this.construct=function(a){return this.each(function(){if(this.tHead&&this.tBodies){var b,c,f,g;this.config={};g=i.extend(this.config,i.tablesorter.defaults,a);b=i(this);i.data(this,"tablesorter",g);c=H(this);this.config.parsers=p(this,c);
f=B(this);var j=[g.cssDesc,g.cssAsc];N(this);c.unbind();c.click(function(e){var h=b[0].tBodies[0]&&b[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&h>0){b.trigger("sortStart");i(this);h=this.column;this.order=this.count++%2;if(this.lockedOrder)this.order=this.lockedOrder;if(e[g.sortMultiSortKey])if(M(h,g.sortList))for(e=0;e<g.sortList.length;e++){var k=g.sortList[e],m=g.headerList[k[0]];if(k[0]==h){m.count=k[1];m.count++;k[1]=m.count%2}}else g.sortList.push([h,this.order]);else{g.sortList=[];
if(g.sortForce!=null){k=g.sortForce;for(e=0;e<k.length;e++)k[e][0]!=h&&g.sortList.push(k[e])}g.sortList.push([h,this.order])}setTimeout(function(){E(b[0],c,g.sortList,j);x(b[0],F(b[0],g.sortList,f))},1);return false}}).mousedown(function(){if(g.cancelSelection){this.onselectstart=function(){return false};return false}});b.unbind();b.bind("update",function(){var e=this;setTimeout(function(){e.config.parsers=p(e,c);f=B(e)},1)}).bind("updateCell",function(e,h){e=this.config;var k=[h.parentNode.rowIndex-
1,h.cellIndex];f.normalized[k[0]][k[1]]=e.parsers[k[1]].format(w(e,h),h)}).bind("sorton",function(e,h){i(this).trigger("sortStart");g.sortList=h;e=g.sortList;O(this,e);E(this,c,e,j);x(this,F(this,e,f))}).bind("appendCache",function(){x(this,f)}).bind("applyWidgetId",function(e,h){D(h).format(this)}).bind("applyWidgets",function(){y(this)});if(i.metadata&&i(this).metadata()&&i(this).metadata().sortlist)g.sortList=i(this).metadata().sortlist;g.sortList.length>0&&b.trigger("sorton",[g.sortList]);y(this)}})};
this.addParser=function(a){for(var b=q.length,c=true,f=0;f<b;f++)if(q[f].id.toLowerCase()==a.id.toLowerCase())c=false;c&&q.push(a)};this.addWidget=function(a){u.push(a)};this.formatFloat=function(a){a=parseFloat(a);return isNaN(a)?0:a};this.formatInt=function(a){a=parseInt(a);return isNaN(a)?0:a};this.isDigit=function(a){return/^[-+]?\d*$/.test(i.trim(a.replace(/[,.']/g,"")))};this.clearTableBody=function(a){if(i.browser.msie){function b(){for(;this.firstChild;)this.removeChild(this.firstChild)}b.apply(a.tBodies[0])}else a.tBodies[0].innerHTML=
""}})});i.fn.extend({tablesorter:i.tablesorter.construct});var o=i.tablesorter;o.addParser({id:"text",is:function(){return true},format:function(d){return i.trim(d.toLocaleLowerCase())},type:"text"});o.addParser({id:"digit",is:function(d,l){return i.tablesorter.isDigit(d,l.config)},format:function(d){return i.tablesorter.formatFloat(d)},type:"numeric"});o.addParser({id:"currency",is:function(d){return/^[\u00a3$\u20ac?.]/.test(d)},format:function(d){return i.tablesorter.formatFloat(d.replace(new RegExp(/[\u00a3$\u20ac]/g),
""))},type:"numeric"});o.addParser({id:"ipAddress",is:function(d){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(d)},format:function(d){d=d.split(".");for(var l="",p=d.length,s=0;s<p;s++){var r=d[s];l+=r.length==2?"0"+r:r}return i.tablesorter.formatFloat(l)},type:"numeric"});o.addParser({id:"url",is:function(d){return/^(https?|ftp|file):\/\/$/.test(d)},format:function(d){return jQuery.trim(d.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});o.addParser({id:"isoDate",is:function(d){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(d)},
format:function(d){return i.tablesorter.formatFloat(d!=""?(new Date(d.replace(new RegExp(/-/g),"/"))).getTime():"0")},type:"numeric"});o.addParser({id:"percent",is:function(d){return/\%$/.test(i.trim(d))},format:function(d){return i.tablesorter.formatFloat(d.replace(new RegExp(/%/g),""))},type:"numeric"});o.addParser({id:"usLongDate",is:function(d){return d.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(d){return i.tablesorter.formatFloat((new Date(d)).getTime())},
type:"numeric"});o.addParser({id:"shortDate",is:function(d){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(d)},format:function(d,l){l=l.config;d=d.replace(/\-/g,"/");if(l.dateFormat=="us")d=d.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2");else if(l.dateFormat=="uk")d=d.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1");else if(l.dateFormat=="dd/mm/yy"||l.dateFormat=="dd-mm-yy")d=d.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3");return i.tablesorter.formatFloat((new Date(d)).getTime())},
type:"numeric"});o.addParser({id:"time",is:function(d){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(d)},format:function(d){return i.tablesorter.formatFloat((new Date("2000/01/01 "+d)).getTime())},type:"numeric"});o.addParser({id:"metadata",is:function(){return false},format:function(d,l,p){d=l.config;d=!d.parserMetadataName?"sortValue":d.parserMetadataName;return i(p).metadata()[d]},type:"numeric"});o.addWidget({id:"zebra",format:function(d){if(d.config.debug)var l=
new Date;var p,s=-1,r;i("tr:visible",d.tBodies[0]).each(function(){p=i(this);p.hasClass(d.config.cssChildRow)||s++;r=s%2==0;p.removeClass(d.config.widgetZebra.css[r?0:1]).addClass(d.config.widgetZebra.css[r?1:0])});d.config.debug&&i.tablesorter.benchmark("Applying Zebra widget",l)}})})(jQuery);
;
steal.end();
(function(d){d.extend({tablesorterPager:new (function(){function o(a){d(a.cssPageDisplay,a.container).val(a.page+1+a.seperator+a.totalPages)}function p(a,b){var c=a.config;c.size=b;c.totalPages=Math.ceil(c.totalRows/c.size);c.pagerPositionSet=false;e(a);j(a)}function j(a){var b=a.config;if(!b.pagerPositionSet&&b.positionFixed){b=a.config;a=d(a);a.offset&&b.container.css({top:a.offset().top+a.height()+"px",position:"absolute"});b.pagerPositionSet=true}}function q(a){a.config.page=0;e(a)}function k(a){var b=
a.config;b.page=b.totalPages-1;e(a)}function r(a){var b=a.config;b.page++;if(b.page>=b.totalPages-1)b.page=b.totalPages-1;e(a)}function s(a){var b=a.config;b.page--;if(b.page<=0)b.page=0;e(a)}function e(a){var b=a.config;if(b.page<0||b.page>b.totalPages-1)b.page=0;l(a,b.rowsCopy)}function l(a,b){var c=a.config,f=b.length;f=c.page*c.size;var g=f+c.size;if(g>b.length)g=b.length;var m=d(a.tBodies[0]);d.tablesorter.clearTableBody(a);for(var h=f;h<g;h++){var n=b[h];f=n.length;for(var i=0;i<f;i++)m[0].appendChild(n[i])}j(a,
m);d(a).trigger("applyWidgets");c.page>=c.totalPages&&k(a);o(c)}this.appender=function(a,b){var c=a.config;c.rowsCopy=b;c.totalRows=b.length;c.totalPages=Math.ceil(c.totalRows/c.size);l(a,b)};this.defaults={size:10,offset:0,page:0,totalRows:0,totalPages:0,container:null,cssNext:".next",cssPrev:".prev",cssFirst:".first",cssLast:".last",cssPageDisplay:".pagedisplay",cssPageSize:".pagesize",seperator:"/",positionFixed:true,appender:this.appender};this.construct=function(a){return this.each(function(){config=
d.extend(this.config,d.tablesorterPager.defaults,a);var b=this,c=config.container;d(config.container).find("*").unbind();d(this).trigger("appendCache");config.size=parseInt(d(config.cssPageSize,c).val());d(config.cssFirst,c).click(function(){q(b);return false});d(config.cssNext,c).click(function(){r(b);return false});d(config.cssPrev,c).click(function(){s(b);return false});d(config.cssLast,c).click(function(){k(b);return false});d(config.cssPageSize,c).change(function(){p(b,parseInt(d(this).val()));
return false})})}})});d.fn.extend({tablesorterPager:d.tablesorterPager.construct})})(jQuery);
;
steal.end();
steal.plugins("jquery/controller","jquery/controller/view","jquery/event/hover").views("//editor/resourcebrowser/views/resourcelistviewitem.tmpl").then("resourceviewitem").then(function(b){Editor.Resourceviewitem.extend("Editor.Resourcelistviewitem",{init:function(){this._initImages()},_updateView:function(a){this.options.page=a;this.element.html("//editor/resourcebrowser/views/resourcelistviewitem.tmpl",{page:this.options.page,language:this.options.language,runtime:this.options.runtime,resourceType:this.options.resourceType});
b(this.element.find("td:first")).unwrap();this._initImages();this.element.trigger("updateResource",a)},_initImages:function(){this.options.mode=="normal"&&this.element.find("td.wbl-action").hover(function(){b(this).find("img").not(".wbl-overlayPreviewImage").show()},function(){b(this).find("img").not(".wbl-listitem-read,.wbl-overlayPreviewImage").hide()})},'input[type="checkbox"] click':function(a){var c=this.options.mode=="editorMultiSelection";if(this.options.mode!="normal"&&!c){this.element.parent().find("input:checked").each(function(e,
d){b(d).removeAttr("checked")});b(a).attr("checked","checked")}this.element.parent().find("input:checked").length>0?b("button.wbl-delete").button("enable"):b("button.wbl-delete").button("disable")},"img.wbl-listitem-read click":function(a,c){c.stopPropagation();this._showResource(a.parents("tr.wbl-pageEntry"))},"img.wbl-listitem-settings click":function(a,c){c.stopPropagation();this._openSettings(a.parents("tr.wbl-pageEntry"))},"img.wbl-listitem-delete click":function(a,c){c.stopPropagation();a.trigger("deleteResource",
a.parent().parent())}})});
;
steal.end();
$.View.preload('editor_resourcebrowser_views_resourcelistviewitem_tmpl',function(data){return (
function anonymous(jQuery, $item) {
    var $ = jQuery, call, _ = [], $data = $item.data;
    with ($data) {
        _.push("<tr class=\"wbl-pageEntry\" id=\"");
        if (typeof (page.id) !== "undefined" && (page.id) != null) {
            _.push($.encode((typeof (page.id) === "function" ? (page.id).call($item) : (page.id))));
        }
        _.push("\">  <td><input type=\"checkbox\">  ");
        if ((typeof (page.path) !== "undefined" && (page.path) != null) && (typeof (page.path) === "function" ? (page.path).call($item) : (page.path))) {
            _.push("   <a href=\"");
            if (typeof (page.path) !== "undefined" && (page.path) != null) {
                _.push($.encode((typeof (page.path) === "function" ? (page.path).call($item) : (page.path))));
            }
            _.push("\" class=\"wbl-pagePath\">");
            if (typeof (page.path) !== "undefined" && (page.path) != null) {
                _.push($.encode((typeof (page.path) === "function" ? (page.path).call($item) : (page.path))));
            }
            _.push("</a>  ");
        }
        _.push("  </input></td>  ");
        if ((typeof (!$.isEmptyObject) !== "undefined" && (!$.isEmptyObject) != null) && !$.isEmptyObject(page.head.metadata.title) && !$.isEmptyObject(page.head.metadata.title[language])) {
            _.push("   <td>");
            if (typeof (page.head.metadata.title[language]) !== "undefined" && (page.head.metadata.title[language]) != null) {
                _.push($.encode((typeof (page.head.metadata.title[language]) === "function" ? (page.head.metadata.title[language]).call($item) : (page.head.metadata.title[language]))));
            }
            _.push("</td>  ");
        } else {
            if ((true) && true) {
                _.push("   <td>-</td>  ");
            }
        }
        _.push("  <td>");
        if (typeof (page.head.created.user.name) !== "undefined" && (page.head.created.user.name) != null) {
            _.push($.encode((typeof (page.head.created.user.name) === "function" ? (page.head.created.user.name).call($item) : (page.head.created.user.name))));
        }
        _.push(" / ");
        if (typeof (page.head.created.date.toLocaleString) !== "undefined" && (page.head.created.date.toLocaleString) != null) {
            _.push($.encode(page.head.created.date.toLocaleString()));
        }
        _.push("</td>  ");
        if ((typeof (page.head.modified) !== "undefined" && (page.head.modified) != null) && (typeof (page.head.modified) === "function" ? (page.head.modified).call($item) : (page.head.modified))) {
            _.push("   <td>");
            if (typeof (page.head.modified.user.name) !== "undefined" && (page.head.modified.user.name) != null) {
                _.push($.encode((typeof (page.head.modified.user.name) === "function" ? (page.head.modified.user.name).call($item) : (page.head.modified.user.name))));
            }
            _.push(" / ");
            if (typeof (page.head.modified.date.toLocaleString) !== "undefined" && (page.head.modified.date.toLocaleString) != null) {
                _.push($.encode(page.head.modified.date.toLocaleString()));
            }
            _.push("</td>  ");
        } else {
            if ((true) && true) {
                _.push("   <td>-</td>  ");
            }
        }
        _.push("  <td class=\"wbl-action\">   <img src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/resourcebrowser/images/icon_read_list.png\" class=\"wbl-listitem-read\" alt=\"Preview\">   <img src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/resourcebrowser/images/icon_settings_list.png\" class=\"wbl-listitem-settings\" alt=\"Settings\">   <img src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/resourcebrowser/images/icon_trash_list.png\" class=\"wbl-listitem-delete\" alt=\"Trash\">   <!-- <img src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/resourcebrowser/images/icon_favorite.png\" class=\"wbl-itemFavorize\" alt=\"favorize\"> -->   <div class=\"wbl-previewOverlay\">    <img class=\"wbl-overlayPreviewImage\" src=\"\" />    <video preload=\"preload\" controls=\"controls\"></video>    <div class=\"wbl-overlayPreviewContent\"></div>    <iframe src=\"\" sandbox=\"\" seamless></iframe>   </div>  </td> </tr>");
    }
    return _;
}
).call(jQuery, jQuery, {data: data}).join(''); });;
steal.end();
steal.plugins("jquery/view/tmpl","jquery/event/key","jquery/controller","jqueryui/effects","editor/mediaeditor").views("//editor/resourcebrowser/views/resourcepagessearch.tmpl","//editor/resourcebrowser/views/resourcemediasearch.tmpl").resources("fileuploader").models("../../models/file").css("resources/fileuploader").then(function(a){a.Controller("Editor.Resourcesearch",{init:function(d){if(this.options.resourceType=="pages")a(d).html("//editor/resourcebrowser/views/resourcepagessearch.tmpl",{runtime:this.options.runtime});
else if(this.options.resourceType=="media"){a(d).html("//editor/resourcebrowser/views/resourcemediasearch.tmpl",{});this.map=[];new qq.FileUploader({element:document.getElementById("wbl-mediaFileUploader"),params:{language:this.options.language},allowedExtensions:[],sizeLimit:0,minSizeLimit:0,onComplete:a.proxy(function(b,e,c){if(!a.isEmptyObject(c)){this.map[b]={resourceId:c.url.substring(c.url.lastIndexOf("/")+1),eTag:c.eTag};e=this.element.parent().parent().find("div#wbl-pendingCircle");c=parseInt(e.html());
if(isNaN(c))c=0;e.html(++c).fadeIn();b=a(this.element.find("ul.qq-upload-list li#"+b));b.effect("transfer",{to:this.element.parent().parent().find("div#wbl-pendingCircle")},1E3);b.delay(5E3).fadeOut(400,function(){a(this).remove()})}},this),action:"/system/weblounge/files/uploads"})}a("input#wbl-resourceSearch").keypress(a.proxy(function(b){if(b.key()=="\r"){b.preventDefault();a(b.target).trigger("searchResources",b.target.value)}},this))},"img.wbl-addPageImg click":function(d,b){b.stopPropagation();
a(".wbl-menu").hide();a("#wbl-pagecreator").editor_pagecreator({language:this.options.language,runtime:this.options.runtime})}})});
;
steal.end();
steal.plugins("jquery/event").then(function(e){var i={},c={};e.event.key=function(a){e.extend(i,a);for(var b in a)c[a[b]]=b};e.event.key({"\u0008":"8","\t":"9","\r":"13",shift:"16",ctrl:"17",alt:"18","pause-break":"19",caps:"20",escape:"27","num-lock":"144","scroll-lock":"145",print:"44","page-up":"33","page-down":"34",end:"35",home:"36",left:"37",up:"38",right:"39",down:"40",insert:"45","delete":"46"," ":"32","0":"48","1":"49","2":"50","3":"51","4":"52","5":"53","6":"54","7":"55","8":"56","9":"57",
a:"65",b:"66",c:"67",d:"68",e:"69",f:"70",g:"71",h:"72",i:"73",j:"74",k:"75",l:"76",m:"77",n:"78",o:"79",p:"80",q:"81",r:"82",s:"83",t:"84",u:"85",v:"86",w:"87",x:"88",y:"89",z:"90",num0:"96",num1:"97",num2:"98",num3:"99",num4:"100",num5:"101",num6:"102",num7:"103",num8:"104",num9:"105","*":"106","+":"107","-":"109",".":"110","/":"111",";":"186","=":"187",",":"188","-":"189",".":"190","/":"191","`":"192","[":"219","\\":"220","]":"221","'":"222","left window key":"91","right window key":"92","select key":"93",
f1:"112",f2:"113",f3:"114",f4:"115",f5:"116",f6:"117",f7:"118",f8:"119",f9:"120",f10:"121",f11:"122",f12:"123"});jQuery.Event.prototype.key=function(){var a=this,b=/\w/,f=c[(a.keyCode||a.which)+""],g=String.fromCharCode(a.keyCode||a.which),h=a.charCode&&c[a.charCode+""],d=a.charCode&&String.fromCharCode(a.charCode);if(d&&b.test(d))return d.toLowerCase();if(h&&b.test(h))return d.toLowerCase();if(g&&b.test(g))return g.toLowerCase();if(f&&b.test(f))return f.toLowerCase();if(a.type=="keypress")return a.keyCode?
String.fromCharCode(a.keyCode):String.fromCharCode(a.which);if(!a.keyCode&&a.which)return String.fromCharCode(a.which);return c[a.keyCode+""]}});
;
steal.end();
steal.plugins("jqueryui/effects/blind","jqueryui/effects/bounce","jqueryui/effects/blind","jqueryui/effects/clip","jqueryui/effects/drop","jqueryui/effects/explode","jqueryui/effects/fade","jqueryui/effects/fold","jqueryui/effects/highlight","jqueryui/effects/pulsate","jqueryui/effects/scale","jqueryui/effects/shake","jqueryui/effects/slide","jqueryui/effects/transfer");
;
steal.end();
steal.plugins("jqueryui/effects/core").then("../../lib/ui/jquery.effects.blind.js");
;
steal.end();
jQuery.effects||steal("../../lib/ui/jquery.effects.core.js");
;
steal.end();
jQuery.effects||function(f,j){function n(c){var a;if(c&&c.constructor==Array&&c.length==3)return c;if(a=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)];if(a=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))return[parseFloat(a[1])*2.55,parseFloat(a[2])*2.55,parseFloat(a[3])*2.55];if(a=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))return[parseInt(a[1],
16),parseInt(a[2],16),parseInt(a[3],16)];if(a=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)];if(/rgba\(0, 0, 0, 0\)/.exec(c))return o.transparent;return o[f.trim(c).toLowerCase()]}function t(c,a){var b;do{b=f.curCSS(c,a);if(b!=""&&b!="transparent"||f.nodeName(c,"body"))break;a="backgroundColor"}while(c=c.parentNode);return n(b)}function p(){var c=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,
a={},b,d,e;if(c&&c.length&&c[0]&&c[c[0]])for(e=c.length;e--;){b=c[e];if(typeof c[b]=="string"){d=b.replace(/\-(\w)/g,function(g,h){return h.toUpperCase()});a[d]=c[b]}}else for(b in c)if(typeof c[b]==="string")a[b]=c[b];return a}function q(c){var a,b;for(a in c){b=c[a];if(b==null||f.isFunction(b)||a in u||/scrollbar/.test(a)||!/color/i.test(a)&&isNaN(parseFloat(b)))delete c[a]}return c}function v(c,a){var b={_:0},d;for(d in a)if(c[d]!=a[d])b[d]=a[d];return b}function k(c,a,b,d){if(f.isPlainObject(c))return c;
c={effect:c};if(a===j)a={};if(f.isFunction(a)){d=a;b=null;a={}}if(f.type(a)=="number"||f.fx.speeds[a]){d=b;b=a;a={}}if(f.isFunction(b)){d=b;b=null}a&&f.extend(c,a);b=b||a.duration;c.duration=f.fx.off?0:typeof b=="number"?b:b in f.fx.speeds?f.fx.speeds[b]:f.fx.speeds._default;c.complete=d||a.complete;return c}function m(c){if(!c||typeof c==="number"||f.fx.speeds[c])return true;if(typeof c==="string"&&!f.effects.effect[c]){if(r&&f.effects[c])return false;return true}return false}var r=f.uiBackCompat!==
false;f.effects={effect:{}};f.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(c,a){f.fx.step[a]=function(b){if(!b.colorInit){b.start=t(b.elem,a);b.end=n(b.end);b.colorInit=true}b.elem.style[a]="rgb("+Math.max(Math.min(parseInt(b.pos*(b.end[0]-b.start[0])+b.start[0],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[1]-b.start[1])+b.start[1],10),255),0)+","+Math.max(Math.min(parseInt(b.pos*(b.end[2]-
b.start[2])+b.start[2],10),255),0)+")"}});var o={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,
0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},s=["add","remove","toggle"],u={border:1,borderBottom:1,borderColor:1,
borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};f.effects.animateClass=function(c,a,b,d){if(f.isFunction(b)){d=b;b=null}return this.queue("fx",function(){var e=f(this),g=e.attr("style")||" ",h=q(p.call(this)),l,w=e.attr("className");f.each(s,function(x,i){c[i]&&e[i+"Class"](c[i])});l=q(p.call(this));e.attr("className",w);e.animate(v(h,l),a,b,function(){f.each(s,function(x,i){c[i]&&e[i+"Class"](c[i])});if(typeof e.attr("style")=="object"){e.attr("style").cssText="";e.attr("style").cssText=
g}else e.attr("style",g);d&&d.apply(this,arguments)});h=f.queue(this);l=h.splice(h.length-1,1)[0];h.splice(1,0,l);f.dequeue(this)})};f.fn.extend({_addClass:f.fn.addClass,addClass:function(c,a,b,d){return a?f.effects.animateClass.apply(this,[{add:c},a,b,d]):this._addClass(c)},_removeClass:f.fn.removeClass,removeClass:function(c,a,b,d){return a?f.effects.animateClass.apply(this,[{remove:c},a,b,d]):this._removeClass(c)},_toggleClass:f.fn.toggleClass,toggleClass:function(c,a,b,d,e){return typeof a=="boolean"||
a===j?b?f.effects.animateClass.apply(this,[a?{add:c}:{remove:c},b,d,e]):this._toggleClass(c,a):f.effects.animateClass.apply(this,[{toggle:c},a,b,d])},switchClass:function(c,a,b,d,e){return f.effects.animateClass.apply(this,[{add:a,remove:c},b,d,e])}});f.extend(f.effects,{version:"@VERSION",save:function(c,a){for(var b=0;b<a.length;b++)a[b]!==null&&c.data("ec.storage."+a[b],c[0].style[a[b]])},restore:function(c,a){for(var b=0;b<a.length;b++)a[b]!==null&&c.css(a[b],c.data("ec.storage."+a[b]))},setMode:function(c,
a){if(a=="toggle")a=c.is(":hidden")?"show":"hide";return a},getBaseline:function(c,a){var b;switch(c[0]){case "top":b=0;break;case "middle":b=0.5;break;case "bottom":b=1;break;default:b=c[0]/a.height}switch(c[1]){case "left":c=0;break;case "center":c=0.5;break;case "right":c=1;break;default:c=c[1]/a.width}return{x:c,y:b}},createWrapper:function(c){if(c.parent().is(".ui-effects-wrapper"))return c.parent();var a={width:c.outerWidth(true),height:c.outerHeight(true),"float":c.css("float")},b=f("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",
background:"transparent",border:"none",margin:0,padding:0});c.wrap(b);b=c.parent();if(c.css("position")=="static"){b.css({position:"relative"});c.css({position:"relative"})}else{f.extend(a,{position:c.css("position"),zIndex:c.css("z-index")});f.each(["top","left","bottom","right"],function(d,e){a[e]=c.css(e);if(isNaN(parseInt(a[e],10)))a[e]="auto"});c.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})}return b.css(a).show()},removeWrapper:function(c){if(c.parent().is(".ui-effects-wrapper"))return c.parent().replaceWith(c);
return c},setTransition:function(c,a,b,d){d=d||{};f.each(a,function(e,g){unit=c.cssUnit(g);if(unit[0]>0)d[g]=unit[0]*b+unit[1]});return d}});f.fn.extend({effect:function(){var c=k.apply(this,arguments),a=c.mode,b=f.effects.effect[c.effect],d=!b&&r&&f.effects[c.effect];if(f.fx.off||!(b||d))return a?this[a](c.duration,c.complete):this.each(function(){c.complete&&c.complete.call(this)});return b?b.call(this,c):d.call(this,{options:c,duration:c.duration,callback:c.complete,mode:c.mode})},_show:f.fn.show,
show:function(c){if(m(c))return this._show.apply(this,arguments);else{var a=k.apply(this,arguments);a.mode="show";return this.effect.call(this,a)}},_hide:f.fn.hide,hide:function(c){if(m(c))return this._hide.apply(this,arguments);else{var a=k.apply(this,arguments);a.mode="hide";return this.effect.call(this,a)}},__toggle:f.fn.toggle,toggle:function(c){if(m(c)||typeof c==="boolean"||f.isFunction(c))return this.__toggle.apply(this,arguments);else{var a=k.apply(this,arguments);a.mode="toggle";return this.effect.call(this,
a)}},cssUnit:function(c){var a=this.css(c),b=[];f.each(["em","px","%","pt"],function(d,e){if(a.indexOf(e)>0)b=[parseFloat(a),e]});return b}});f.easing.jswing=f.easing.swing;f.extend(f.easing,{def:"easeOutQuad",swing:function(c,a,b,d,e){return f.easing[f.easing.def](c,a,b,d,e)},easeInQuad:function(c,a,b,d,e){return d*(a/=e)*a+b},easeOutQuad:function(c,a,b,d,e){return-d*(a/=e)*(a-2)+b},easeInOutQuad:function(c,a,b,d,e){if((a/=e/2)<1)return d/2*a*a+b;return-d/2*(--a*(a-2)-1)+b},easeInCubic:function(c,
a,b,d,e){return d*(a/=e)*a*a+b},easeOutCubic:function(c,a,b,d,e){return d*((a=a/e-1)*a*a+1)+b},easeInOutCubic:function(c,a,b,d,e){if((a/=e/2)<1)return d/2*a*a*a+b;return d/2*((a-=2)*a*a+2)+b},easeInQuart:function(c,a,b,d,e){return d*(a/=e)*a*a*a+b},easeOutQuart:function(c,a,b,d,e){return-d*((a=a/e-1)*a*a*a-1)+b},easeInOutQuart:function(c,a,b,d,e){if((a/=e/2)<1)return d/2*a*a*a*a+b;return-d/2*((a-=2)*a*a*a-2)+b},easeInQuint:function(c,a,b,d,e){return d*(a/=e)*a*a*a*a+b},easeOutQuint:function(c,a,b,
d,e){return d*((a=a/e-1)*a*a*a*a+1)+b},easeInOutQuint:function(c,a,b,d,e){if((a/=e/2)<1)return d/2*a*a*a*a*a+b;return d/2*((a-=2)*a*a*a*a+2)+b},easeInSine:function(c,a,b,d,e){return-d*Math.cos(a/e*(Math.PI/2))+d+b},easeOutSine:function(c,a,b,d,e){return d*Math.sin(a/e*(Math.PI/2))+b},easeInOutSine:function(c,a,b,d,e){return-d/2*(Math.cos(Math.PI*a/e)-1)+b},easeInExpo:function(c,a,b,d,e){return a==0?b:d*Math.pow(2,10*(a/e-1))+b},easeOutExpo:function(c,a,b,d,e){return a==e?b+d:d*(-Math.pow(2,-10*a/
e)+1)+b},easeInOutExpo:function(c,a,b,d,e){if(a==0)return b;if(a==e)return b+d;if((a/=e/2)<1)return d/2*Math.pow(2,10*(a-1))+b;return d/2*(-Math.pow(2,-10*--a)+2)+b},easeInCirc:function(c,a,b,d,e){return-d*(Math.sqrt(1-(a/=e)*a)-1)+b},easeOutCirc:function(c,a,b,d,e){return d*Math.sqrt(1-(a=a/e-1)*a)+b},easeInOutCirc:function(c,a,b,d,e){if((a/=e/2)<1)return-d/2*(Math.sqrt(1-a*a)-1)+b;return d/2*(Math.sqrt(1-(a-=2)*a)+1)+b},easeInElastic:function(c,a,b,d,e){c=1.70158;var g=e*0.3,h=d;if(a==0)return b;
if((a/=e)==1)return b+d;if(h<Math.abs(d)){h=d;c=g/4}else c=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g))+b},easeOutElastic:function(c,a,b,d,e){c=1.70158;var g=e*0.3,h=d;if(a==0)return b;if((a/=e)==1)return b+d;if(h<Math.abs(d)){h=d;c=g/4}else c=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*a)*Math.sin((a*e-c)*2*Math.PI/g)+d+b},easeInOutElastic:function(c,a,b,d,e){c=1.70158;var g=e*0.3*1.5,h=d;if(a==0)return b;if((a/=e/2)==2)return b+d;if(h<Math.abs(d)){h=
d;c=g/4}else c=g/(2*Math.PI)*Math.asin(d/h);if(a<1)return-0.5*h*Math.pow(2,10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g)+b;return h*Math.pow(2,-10*(a-=1))*Math.sin((a*e-c)*2*Math.PI/g)*0.5+d+b},easeInBack:function(c,a,b,d,e,g){if(g==j)g=1.70158;return d*(a/=e)*a*((g+1)*a-g)+b},easeOutBack:function(c,a,b,d,e,g){if(g==j)g=1.70158;return d*((a=a/e-1)*a*((g+1)*a+g)+1)+b},easeInOutBack:function(c,a,b,d,e,g){if(g==j)g=1.70158;if((a/=e/2)<1)return d/2*a*a*(((g*=1.525)+1)*a-g)+b;return d/2*((a-=2)*a*(((g*=1.525)+
1)*a+g)+2)+b},easeInBounce:function(c,a,b,d,e){return d-f.easing.easeOutBounce(c,e-a,0,d,e)+b},easeOutBounce:function(c,a,b,d,e){return(a/=e)<1/2.75?d*7.5625*a*a+b:a<2/2.75?d*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?d*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:d*(7.5625*(a-=2.625/2.75)*a+0.984375)+b},easeInOutBounce:function(c,a,b,d,e){if(a<e/2)return f.easing.easeInBounce(c,a*2,0,d,e)*0.5+b;return f.easing.easeOutBounce(c,a*2-e,0,d,e)*0.5+d*0.5+b}})}(jQuery);
;
steal.end();
(function(b){b.effects.effect.blind=function(c){return this.queue(function(){var a=b(this),g=["position","top","bottom","left","right"],e=b.effects.setMode(a,c.mode||"hide"),f=(c.direction||"vertical")=="vertical"?"height":"width",h={},d;b.effects.save(a,g);a.show();d=b.effects.createWrapper(a).css({overflow:"hidden"});h[f]=e=="show"?d[f]():0;e=="show"&&d.css(f,0);d.animate(h,c.duration,c.easing,function(){e=="hide"&&a.hide();b.effects.restore(a,g);b.effects.removeWrapper(a);b.isFunction(c.complete)&&
c.complete.apply(a[0],arguments);a.dequeue()})})}})(jQuery);
;
steal.end();
steal.plugins("jqueryui/effects/core").then("../../lib/ui/jquery.effects.bounce.js");
;
steal.end();
(function(e){var n=/show|hide/;e.effects.effect.bounce=function(b){return this.queue(function(){var a=e(this),l=["position","top","bottom","left","right"],h=e.effects.setMode(a,b.mode||"effect"),d=b.direction||"up",c=b.distance||20,m=b.times||5,i=b.duration||250,g=d=="up"||d=="down"?"top":"left";d=d=="up"||d=="left";var f,j,k;n.test(h)&&l.push("opacity");e.effects.save(a,l);a.show();e.effects.createWrapper(a);c||(c=a[g=="top"?"outerHeight":"outerWidth"]({margin:true})/3);if(h=="show")a.css("opacity",
0).css(g,d?-c:c);if(h=="hide")c/=m*2;h!="hide"&&m--;if(h=="show"){f={opacity:1};f[g]=(d?"+=":"-=")+c;a.animate(f,i/2,b.easing);c/=2;m--}for(f=0;f<m;f++){j={};k={};j[g]=(d?"-=":"+=")+c;k[g]=(d?"+=":"-=")+c;a.animate(j,i/2,b.easing).animate(k,i/2,b.easing);c=h=="hide"?c*2:c/2}if(h=="hide"){f={opacity:0};f[g]=(d?"-=":"+=")+c;a.animate(f,i/2,b.easing,function(){a.hide();e.effects.restore(a,l);e.effects.removeWrapper(a);e.isFunction(b.complete)&&b.complete.apply(this,arguments)})}else{j={};k={};j[g]=(d?
"-=":"+=")+c;k[g]=(d?"+=":"-=")+c;a.animate(j,i/2,b.easing).animate(k,i/2,b.easing,function(){e.effects.restore(a,l);e.effects.removeWrapper(a);e.isFunction(b.complete)&&b.complete.apply(this,arguments)})}a.dequeue()})}})(jQuery);
;
steal.end();
steal.plugins("jqueryui/effects/core").then("../../lib/ui/jquery.effects.clip.js");
;
steal.end();
(function(b){b.effects.effect.clip=function(e){return this.queue(function(){var a=b(this),i=["position","top","bottom","left","right","height","width"],f=b.effects.setMode(a,e.mode||"hide"),c=e.direction||"vertical";c={size:c=="vertical"?"height":"width",position:c=="vertical"?"top":"left"};var h={},d,g;b.effects.save(a,i);a.show();d=b.effects.createWrapper(a).css({overflow:"hidden"});d=a[0].tagName=="IMG"?d:a;g=d[c.size]();if(f=="show"){d.css(c.size,0);d.css(c.position,g/2)}h[c.size]=f=="show"?g:
0;h[c.position]=f=="show"?0:g/2;d.animate(h,{queue:false,duration:e.duration,easing:e.easing,complete:function(){f=="hide"&&a.hide();b.effects.restore(a,i);b.effects.removeWrapper(a);b.isFunction(e.complete)&&e.complete.apply(a[0],arguments);a.dequeue()}})})}})(jQuery);
;
steal.end();
steal.plugins("jqueryui/effects/core").then("../../lib/ui/jquery.effects.drop.js");
;
steal.end();
(function(b){b.effects.effect.drop=function(d){return this.queue(function(){var a=b(this),h=["position","top","bottom","left","right","opacity"],e=b.effects.setMode(a,d.mode||"hide"),c=d.direction||"left",g=c=="up"||c=="down"?"top":"left";c=c=="up"||c=="left"?"pos":"neg";var i={opacity:e=="show"?1:0},f;b.effects.save(a,h);a.show();b.effects.createWrapper(a);f=d.distance||a[g=="top"?"outerHeight":"outerWidth"]({margin:true})/2;if(e=="show")a.css("opacity",0).css(g,c=="pos"?-f:f);i[g]=(e=="show"?c==
"pos"?"+=":"-=":c=="pos"?"-=":"+=")+f;a.animate(i,{queue:false,duration:d.duration,easing:d.easing,complete:function(){e=="hide"&&a.hide();b.effects.restore(a,h);b.effects.removeWrapper(a);b.isFunction(d.complete)&&d.complete.apply(this,arguments);a.dequeue()}})})}})(jQuery);
;
steal.end();
steal.plugins("jqueryui/effects/core").then("../../lib/ui/jquery.effects.explode.js");
;
steal.end();
(function(f){f.effects.effect.explode=function(b){return this.queue(function(q){function r(){k.push(this);k.length==g*j&&s()}function s(){a.css({visibility:"visible"});f(k).remove();c||a.hide();f.isFunction(b.complete)&&b.complete.apply(a[0]);q()}var g=b.pieces?Math.round(Math.sqrt(b.pieces)):3,j=g,a=f(this),c=f.effects.setMode(a,b.mode||"hide")=="show",p=a.show().css("visibility","hidden").offset(),h=Math.ceil(a.outerWidth()/j),i=Math.ceil(a.outerHeight()/g),k=[],d,e,l,m,n,o;for(d=0;d<g;d++){m=p.top+
d*i;o=d-(g-1)/2;for(e=0;e<j;e++){l=p.left+e*h;n=e-(j-1)/2;a.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-e*h,top:-d*i}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:h,height:i,left:l+(c?n*h:0),top:m+(c?o*i:0),opacity:c?0:1}).animate({left:l+(c?0:n*h),top:m+(c?0:o*i),opacity:c?1:0},b.duration||500,b.easing,r)}}})}})(jQuery);
;
steal.end();
steal.plugins("jqueryui/effects/core").then("../../lib/ui/jquery.effects.fade.js");
;
steal.end();
(function(b){b.effects.effect.fade=function(a){return this.queue(function(){var c=b(this),d=b.effects.setMode(c,a.mode||"hide");c.animate({opacity:d},{queue:false,duration:a.duration,easing:a.easing,complete:function(){b.isFunction(a.complete)&&a.complete.apply(this,arguments);c.dequeue()}})})}})(jQuery);
;
steal.end();
steal.plugins("jqueryui/effects/core").then("../../lib/ui/jquery.effects.fold.js");
;
steal.end();
(function(c){c.effects.effect.fold=function(b){return this.queue(function(){var a=c(this),j=["position","top","bottom","left","right"],e=c.effects.setMode(a,b.mode||"hide"),g=b.size||15,h=/([0-9]+)%/.exec(g),i=!!b.horizFirst,f=e=="show"!=i,k=f?["width","height"]:["height","width"],l=b.duration/2,d;c.effects.save(a,j);a.show();d=c.effects.createWrapper(a).css({overflow:"hidden"});f=f?[d.width(),d.height()]:[d.height(),d.width()];if(h)g=parseInt(h[1],10)/100*f[e=="hide"?0:1];e=="show"&&d.css(i?{height:0,
width:g}:{height:g,width:0});h={};i={};h[k[0]]=e=="show"?f[0]:g;i[k[1]]=e=="show"?f[1]:0;d.animate(h,l,b.easing).animate(i,l,b.easing,function(){e=="hide"&&a.hide();c.effects.restore(a,j);c.effects.removeWrapper(a);jQuery.isFunction(b.complete)&&b.complete.apply(a[0],arguments);a.dequeue()})})}})(jQuery);
;
steal.end();
steal.plugins("jqueryui/effects/core").then("../../lib/ui/jquery.effects.highlight.js");
;
steal.end();
(function(b){b.effects.effect.highlight=function(c){return this.queue(function(){var a=b(this),e=["backgroundImage","backgroundColor","opacity"],d=b.effects.setMode(a,c.mode||"show"),f={backgroundColor:a.css("backgroundColor")};if(d=="hide")f.opacity=0;b.effects.save(a,e);a.show().css({backgroundImage:"none",backgroundColor:c.color||"#ffff99"}).animate(f,{queue:false,duration:c.duration,easing:c.easing,complete:function(){d=="hide"&&a.hide();b.effects.restore(a,e);d=="show"&&!b.support.opacity&&this.style.removeAttribute("filter");
jQuery.isFunction(c.complete)&&c.complete.apply(this,arguments);a.dequeue()}})})}})(jQuery);
;
steal.end();
steal.plugins("jqueryui/effects/core").then("../../lib/ui/jquery.effects.pulsate.js");
;
steal.end();
(function(e){e.effects.effect.pulsate=function(a){return this.queue(function(){var b=e(this),d=e.effects.setMode(b,a.mode||"show"),g=(a.times||5)*2-1,h=a.duration/2,f=b.is(":visible"),c=0;if(!f){b.css("opacity",0).show();c=1}if(d=="hide"&&f||d=="show"&&!f)g--;for(d=0;d<g;d++){b.animate({opacity:c},h,a.easing);c=(c+1)%2}b.animate({opacity:c},h,a.easing,function(){c==0&&b.hide();a.complete&&a.complete.apply(this,arguments)}).dequeue()})}})(jQuery);
;
steal.end();
steal.plugins("jqueryui/effects/core").then("../../lib/ui/jquery.effects.scale.js");
;
steal.end();
(function(b){b.effects.effect.puff=function(c){return this.queue(function(){var a=b(this),d=b.effects.setMode(a,c.mode||"hide"),i=parseInt(c.percent,10)||150,g=i/100,j={height:a.height(),width:a.width()};b.extend(c,{effect:"scale",fade:true,mode:d,percent:d=="hide"?i:100,from:d=="hide"?j:{height:j.height*g,width:j.width*g}});a.effect(c).dequeue()})};b.effects.effect.scale=function(c){return this.queue(function(){var a=b(this),d=b.extend(true,{},c),i=b.effects.setMode(a,c.mode||"effect"),g=parseInt(c.percent,
10)||(parseInt(c.percent,10)==0?0:i=="hide"?0:100),j=c.direction||"both",l=c.origin,h={height:a.height(),width:a.width()};g={y:j!="horizontal"?g/100:1,x:j!="vertical"?g/100:1};d.effect="size";if(i!="effect"){d.origin=l||["middle","center"];d.restore=true}d.from=c.from||(i=="show"?{height:0,width:0}:h);d.to={height:h.height*g.y,width:h.width*g.x};if(d.fade){if(i=="show"){d.from.opacity=0;d.to.opacity=1}if(i=="hide"){d.from.opacity=1;d.to.opacity=0}}a.effect(d).dequeue()})};b.effects.effect.size=function(c){return this.queue(function(){var a=
b(this),d=["position","top","bottom","left","right","width","height","overflow","opacity"],i=["position","top","bottom","left","right","overflow","opacity"],g=["width","height","overflow"],j=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],q=b.effects.setMode(a,c.mode||"effect"),o=c.restore||false,n=c.scale||"both",m=c.origin,k={height:a.height(),width:a.width()},e;a.from=c.from||k;a.to=c.to||k;
if(m){m=b.effects.getBaseline(m,k);a.from.top=(k.height-a.from.height)*m.y;a.from.left=(k.width-a.from.width)*m.x;a.to.top=(k.height-a.to.height)*m.y;a.to.left=(k.width-a.to.width)*m.x}e={from:{y:a.from.height/k.height,x:a.from.width/k.width},to:{y:a.to.height/k.height,x:a.to.width/k.width}};if(n=="box"||n=="both"){if(e.from.y!=e.to.y){d=d.concat(l);a.from=b.effects.setTransition(a,l,e.from.y,a.from);a.to=b.effects.setTransition(a,l,e.to.y,a.to)}if(e.from.x!=e.to.x){d=d.concat(h);a.from=b.effects.setTransition(a,
h,e.from.x,a.from);a.to=b.effects.setTransition(a,h,e.to.x,a.to)}}if(n=="content"||n=="both")if(e.from.y!=e.to.y){d=d.concat(j);a.from=b.effects.setTransition(a,j,e.from.y,a.from);a.to=b.effects.setTransition(a,j,e.to.y,a.to)}b.effects.save(a,o?d:i);a.show();b.effects.createWrapper(a);a.css("overflow","hidden").css(a.from);if(n=="content"||n=="both"){l=l.concat(["marginTop","marginBottom"]).concat(j);h=h.concat(["marginLeft","marginRight"]);g=d.concat(l).concat(h);a.find("*[width]").each(function(){var f=
b(this),p={height:f.height(),width:f.width()};o&&b.effects.save(f,g);f.from={height:p.height*e.from.y,width:p.width*e.from.x};f.to={height:p.height*e.to.y,width:p.width*e.to.x};if(e.from.y!=e.to.y){f.from=b.effects.setTransition(f,l,e.from.y,f.from);f.to=b.effects.setTransition(f,l,e.to.y,f.to)}if(e.from.x!=e.to.x){f.from=b.effects.setTransition(f,h,e.from.x,f.from);f.to=b.effects.setTransition(f,h,e.to.x,f.to)}f.css(f.from);f.animate(f.to,c.duration,c.easing,function(){o&&b.effects.restore(f,g)})})}a.animate(a.to,
{queue:false,duration:c.duration,easing:c.easing,complete:function(){a.to.opacity===0&&a.css("opacity",a.from.opacity);q=="hide"&&a.hide();b.effects.restore(a,o?d:i);b.effects.removeWrapper(a);b.isFunction(c.complete)&&c.complete.apply(this,arguments);a.dequeue()}})})}})(jQuery);
;
steal.end();
steal.plugins("jqueryui/effects/core").then("../../lib/ui/jquery.effects.shake.js");
;
steal.end();
(function(c){c.effects.effect.shake=function(a){return this.queue(function(){var b=c(this),j=["position","top","bottom","left","right"];c.effects.setMode(b,a.mode||"effect");var d=a.direction||"left",e=a.distance||20,l=a.times||3,f=a.duration||140,g=d=="up"||d=="down"?"top":"left",h=d=="up"||d=="left"?"pos":"neg";d={};var i={},k={};c.effects.save(b,j);b.show();c.effects.createWrapper(b);d[g]=(h=="pos"?"-=":"+=")+e;i[g]=(h=="pos"?"+=":"-=")+e*2;k[g]=(h=="pos"?"-=":"+=")+e*2;b.animate(d,f,a.easing);
for(e=1;e<l;e++)b.animate(i,f,a.easing).animate(k,f,a.easing);b.animate(i,f,a.easing).animate(d,f/2,a.easing,function(){c.effects.restore(b,j);c.effects.removeWrapper(b);c.isFunction(a.complete)&&a.complete.apply(this,arguments)}).dequeue()})}})(jQuery);
;
steal.end();
steal.plugins("jqueryui/effects/core").then("../../lib/ui/jquery.effects.slide.js");
;
steal.end();
(function(b){b.effects.effect.slide=function(d){return this.queue(function(){var a=b(this),h=["position","top","bottom","left","right"],f=b.effects.setMode(a,d.mode||"show"),c=d.direction||"left",g=c=="up"||c=="down"?"top":"left";c=c=="up"||c=="left"?"pos":"neg";var e,i={};b.effects.save(a,h);a.show();b.effects.createWrapper(a).css({overflow:"hidden"});e=d.distance||a[g=="top"?"outerHeight":"outerWidth"]({margin:true});if(f=="show")a.css(g,c=="pos"?isNaN(e)?"-"+e:-e:e);i[g]=(f=="show"?c=="pos"?"+=":
"-=":c=="pos"?"-=":"+=")+e;a.animate(i,{queue:false,duration:d.duration,easing:d.easing,complete:function(){f=="hide"&&a.hide();b.effects.restore(a,h);b.effects.removeWrapper(a);b.isFunction(d.complete)&&d.complete.apply(this,arguments);a.dequeue()}})})}})(jQuery);
;
steal.end();
steal.plugins("jqueryui/effects/core").then("../../lib/ui/jquery.effects.transfer.js");
;
steal.end();
(function(b){b.effects.effect.transfer=function(a){return this.queue(function(){var c=b(this),d=b(a.to),e=d.offset();d={top:e.top,left:e.left,height:d.innerHeight(),width:d.innerWidth()};e=c.offset();var f=b('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(a.className).css({top:e.top,left:e.left,height:c.innerHeight(),width:c.innerWidth(),position:"absolute"}).animate(d,a.duration,a.easing,function(){f.remove();b.isFunction(a.complete)&&a.complete.apply(c[0],arguments);
c.dequeue()})})}})(jQuery);
;
steal.end();
steal.plugins("jquery","jquery/controller/view","jquery/view","jquery/view/tmpl","jqueryui/autocomplete","jqueryui/dialog","jqueryui/draggable","jqueryui/resizable","jqueryui/mouse").models("../../models/workbench").views("//editor/mediaeditor/views/init.tmpl","//editor/mediaeditor/views/content.tmpl").css("mediaeditor").then(function(d){d.Controller("Editor.Mediaeditor",{},{init:function(a){d(a).html("//editor/mediaeditor/views/init.tmpl",{map:this.options.map,language:this.options.language,runtime:this.options.runtime});
this.element.find("div.wbl-buttonLeft:first").hide();this.options.map.length<2&&this.element.find("div.wbl-buttonRight:first").hide();this.index=0;this.metadata=[];this.file=[];this._initAutoComplete();this._initDialog();this._loadMetadata(d.proxy(function(){this._showMetadata(0)},this))},_initDialog:function(){this.element.dialog({modal:true,title:"Metadaten eingeben: Datei 1 / "+this.options.map.length,autoOpen:true,resizable:true,draggable:true,width:700,height:650,buttons:{Abbrechen:function(){d(this).dialog("close")},
Fertig:d.proxy(function(){d.each(this.metadata,d.proxy(function(a,b){this.file[a].saveMetadata(b,this.options.language,null,d.proxy(function(){this.metadata.length==a+1&&d.isFunction(this.options.success)&&this.options.success()},this))},this));this.element.dialog("close")},this)},close:d.proxy(function(){this.element.dialog("destroy");this.destroy()},this)})},_initAutoComplete:function(){Workbench.suggestTags({test:"tag"},d.proxy(function(a){if(!(a==null||a==undefined))var b=this.element.find("input[name=tags]").autocomplete({source:function(c,
e){e(d.ui.autocomplete.filter(a,c.term.split(/,\s*/).pop()))},focus:function(){return false},select:d.proxy(function(c,e){c=b.val().split(/,\s*/);c.pop();c.push(e.item.value);this._saveMetadata(this.index,{inputTags:c.toString()});c.push("");b.val(c.join(", "));return false},this)})},this));Workbench.suggestTags({test:"user"},d.proxy(function(a){a==null||a==undefined||this.element.find("input[name=author]").autocomplete({source:a,select:d.proxy(function(b,c){this._saveMetadata(this.index,{author:c.item.value})},
this)})},this))},_loadMetadata:function(a){d.each(this.options.map,d.proxy(function(b,c){Editor.File.findOne({id:c.resourceId},d.proxy(function(e){this.file[b]=e;this.metadata[b]=e.getMetadata(this.options.language);a()},this))},this))},_showMetadata:function(a){this.element.find(":input").each(function(){d(this).val("")});var b=this.file[a].getContent(this.options.language),c=this.element.find(".wbl-taggerImage");if(this.file[a].name.localPart=="movie"){var e="/system/weblounge/files/"+this.file[a].value.id+
"/content/"+b.language;c.html('<video height="270px" preload="preload" controls="controls"></video>');e=c.find("video").html('<source src="'+e+'" type="'+b.mimetype+'" />');var f=e.width();e.attr("width",f+"px");f=Math.max((c.outerWidth({margin:true})-f)/2,0);player=new MediaElementPlayer(e,{});c.find("div.mejs-container").css("left",f+"px")}else if(this.file[a].name.localPart=="image"){c.html('<img src="'+("/system/weblounge/previews/"+this.file[a].value.id+"/locales/"+this.options.language+"/styles/weblounge-ui:preview")+
'" alt="Vorschaubild" />');e=c.find("img");f=Math.max((c.outerWidth({margin:true})-e.width())/2,0);e.css("left",f+"px")}else{c.html("Kein Vorschaubild");c.css("text-align","center")}d.each(this.metadata[a],d.proxy(function(h,g){this.element.find("div.wbl-metadata input[name="+h+"]").val(g)},this));Editor.File.findReferrer({id:this.file[a].value.id},d.proxy(function(h){h==undefined?this.element.find("div.wbl-referrerMediaEditor").html("Keine Verweise"):d.each(h,d.proxy(function(g,i){g=new Page({value:i});
this.element.find("div.wbl-referrerMediaEditor").append(g.getTitle(this.options.language)).append(': <a href="'+g.getPath()+"?_="+(new Date).getTime()+'">'+g.getPath()+"</a><br />")},this))},this));c=this._formatDuration(b.duration);this.element.find("div.wbl-contentData").html("//editor/mediaeditor/views/content.tmpl",{file:this.file[a],content:b,duration:c})},_formatDuration:function(a){if(a!=undefined){var b={};a=a;b.days=Math.floor(a/1E3/60/60/24);a-=b.days*1E3*60*60*24;b.hours=Math.floor(a/1E3/
60/60);a-=b.hours*1E3*60*60;b.minutes=Math.floor(a/1E3/60);a-=b.minutes*1E3*60;b.seconds=Math.floor(a/1E3);return b.hours+":"+this._formatNumberLength(b.minutes,2)+":"+this._formatNumberLength(b.seconds,2)}},_formatNumberLength:function(a,b){for(a=""+a;a.length<b;)a="0"+a;return a},_saveMetadata:function(a,b){d.each(b,d.proxy(function(c,e){if(d.isEmptyObject(this.metadata[a]))this.metadata[a]={};this.metadata[a][c]=e},this))},"div.wbl-metadata input[name=title] change":function(a){this._saveMetadata(this.index,
{title:a.val()})},"div.wbl-metadata input[name=description] change":function(a){this._saveMetadata(this.index,{description:a.val()})},"div.wbl-metadata input[name=tags] change":function(a){this._saveMetadata(this.index,{tags:a.val()})},"div.wbl-metadata input[name=author] change":function(a){this._saveMetadata(this.index,{author:a.val()})},"div.wbl-metadata input[name=path] change":function(a){this._saveMetadata(this.index,{path:a.val()})},"div.wbl-buttonLeft click":function(a){if(this.index!=0){this.index--;
this.index==0&&a.hide();a.next().show();this._showMetadata(this.index);this.element.dialog("option","title","Metadaten eingeben: Datei "+(this.index+1)+" / "+this.options.map.length)}},"div.wbl-buttonRight click":function(a){if(this.index+1!=this.options.map.length){this.index++;this.index+1==this.options.map.length&&a.hide();a.prev().show();this._showMetadata(this.index);this.element.dialog("option","title","Metadaten eingeben: Datei "+(this.index+1)+" / "+this.options.map.length)}},"img.wbl-copyMetadata click":function(a){var b=
this;d.each(this.options.map,function(c){switch(a.prev().attr("name")){case "title":b._saveMetadata(c,{title:a.prev().val()});break;case "description":b._saveMetadata(c,{description:a.prev().val()});break;case "tags":b._saveMetadata(c,{tags:a.prev().val()});break;case "author":b._saveMetadata(c,{author:a.prev().val()});break}})}})});
;
steal.end();
steal.plugins("jquery/model").then(function(d){d.Model("Workbench",{getPageletEditor:function(a,c){var b="/system/weblounge/workbench/edit/"+a.id+"/"+a.composer+"/"+a.pagelet;if("language"in a)b+="?language="+a.language;"id"in a&&d.ajax(b,{success:c})},getRenderer:function(a,c){var b="/system/weblounge/workbench/renderer/"+a.id+"/"+a.composer+"/"+a.pageletId;if("language"in a)b+="?language="+a.language;if("id"in a)a.pagelet!=undefined?d.ajax(b,{type:"GET",data:a.pagelet,success:c}):d.ajax(b,{type:"GET",
success:c})},suggestTags:function(a,c){"seed"in a&&d.get("/system/weblounge/workbench/suggest/tags/"+a.seed,function(b){c(b)},"xml")}},{})});
;
steal.end();
$.View.preload('editor_mediaeditor_views_init_tmpl',function(data){return (
function anonymous(jQuery, $item) {
    var $ = jQuery, call, _ = [], $data = $item.data;
    with ($data) {
        _.push("<div class=\"wbl-buttonLeft\"></div> <div class=\"wbl-buttonRight\"></div> <div class=\"wbl-taggerImage\"></div> <div class=\"wbl-metadata\"> Title: <input type=\"text\" name=\"title\" /> <img src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/resourcebrowser/images/icon_more.png\" alt=\"&Uuml;bernehmen\" class=\"wbl-copyMetadata\"><br /><br /> Beschreibung: <input type=\"text\" name=\"description\" /> <img src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/resourcebrowser/images/icon_more.png\" alt=\"&Uuml;bernehmen\" class=\"wbl-copyMetadata\"><br /><br /> Tags: <input type=\"text\" name=\"tags\" /> <img src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/resourcebrowser/images/icon_more.png\" alt=\"&Uuml;bernehmen\" class=\"wbl-copyMetadata\"><br /><br /> Ersteller: <input type=\"text\" name=\"author\" placeholder=\"");
        if (typeof (runtime.getUserName) !== "undefined" && (runtime.getUserName) != null) {
            _.push($.encode(runtime.getUserName()));
        }
        _.push("\" /> <img src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/resourcebrowser/images/icon_more.png\" alt=\"&Uuml;bernehmen\" class=\"wbl-copyMetadata\"><br /><br /> Pfad: <input type=\"text\" name=\"path\" /> <h2>Verweise:</h2> <div class=\"wbl-referrerMediaEditor\"></div> <div class=\"wbl-contentData\"></div> </div>");
    }
    return _;
}
).call(jQuery, jQuery, {data: data}).join(''); });;
steal.end();
$.View.preload('editor_mediaeditor_views_content_tmpl',function(data){return (
function anonymous(jQuery, $item) {
    var $ = jQuery, call, _ = [], $data = $item.data;
    with ($data) {
        _.push("");
        if ((typeof (file.name.localPart == "movie") !== "undefined" && (file.name.localPart == "movie") != null) && (typeof (file.name.localPart == "movie") === "function" ? (file.name.localPart == "movie").call($item) : (file.name.localPart == "movie"))) {
            _.push("  <h2>Movie Metadaten:</h2>  Filename: ");
            if ((typeof (content.filename != undefined) !== "undefined" && (content.filename != undefined) != null) && (typeof (content.filename != undefined) === "function" ? (content.filename != undefined).call($item) : (content.filename != undefined))) {
                _.push("");
                if (typeof (content.filename) !== "undefined" && (content.filename) != null) {
                    _.push($.encode((typeof (content.filename) === "function" ? (content.filename).call($item) : (content.filename))));
                }
                _.push("");
            }
            _.push("<br />  Source: ");
            if ((typeof (content.source != undefined) !== "undefined" && (content.source != undefined) != null) && (typeof (content.source != undefined) === "function" ? (content.source != undefined).call($item) : (content.source != undefined))) {
                _.push("");
                if (typeof (content.source) !== "undefined" && (content.source) != null) {
                    _.push($.encode((typeof (content.source) === "function" ? (content.source).call($item) : (content.source))));
                }
                _.push("");
            }
            _.push("<br />  External: ");
            if ((typeof (content.external != undefined) !== "undefined" && (content.external != undefined) != null) && (typeof (content.external != undefined) === "function" ? (content.external != undefined).call($item) : (content.external != undefined))) {
                _.push("");
                if (typeof (content.external) !== "undefined" && (content.external) != null) {
                    _.push($.encode((typeof (content.external) === "function" ? (content.external).call($item) : (content.external))));
                }
                _.push("");
            }
            _.push("<br />  Mimetype: ");
            if ((typeof (content.mimetype != undefined) !== "undefined" && (content.mimetype != undefined) != null) && (typeof (content.mimetype != undefined) === "function" ? (content.mimetype != undefined).call($item) : (content.mimetype != undefined))) {
                _.push("");
                if (typeof (content.mimetype) !== "undefined" && (content.mimetype) != null) {
                    _.push($.encode((typeof (content.mimetype) === "function" ? (content.mimetype).call($item) : (content.mimetype))));
                }
                _.push("");
            }
            _.push("<br />  Size: ");
            if ((typeof (content.size != undefined) !== "undefined" && (content.size != undefined) != null) && (typeof (content.size != undefined) === "function" ? (content.size != undefined).call($item) : (content.size != undefined))) {
                _.push("");
                if (typeof (content.size) !== "undefined" && (content.size) != null) {
                    _.push($.encode((typeof (content.size) === "function" ? (content.size).call($item) : (content.size))));
                }
                _.push("");
            }
            _.push("<br />  Duration: ");
            if ((typeof (duration != undefined) !== "undefined" && (duration != undefined) != null) && (typeof (duration != undefined) === "function" ? (duration != undefined).call($item) : (duration != undefined))) {
                _.push("");
                if (typeof (duration) !== "undefined" && (duration) != null) {
                    _.push($.encode((typeof (duration) === "function" ? (duration).call($item) : (duration))));
                }
                _.push("");
            }
            _.push("<br /><br />    ");
            if ((typeof (!$.isEmptyObject) !== "undefined" && (!$.isEmptyObject) != null) && !$.isEmptyObject(content.audio)) {
                _.push("  Audio Bitdepht: ");
                if ((typeof (content.audio.bitdepth != undefined) !== "undefined" && (content.audio.bitdepth != undefined) != null) && (typeof (content.audio.bitdepth != undefined) === "function" ? (content.audio.bitdepth != undefined).call($item) : (content.audio.bitdepth != undefined))) {
                    _.push("");
                    if (typeof (content.audio.bitdepth) !== "undefined" && (content.audio.bitdepth) != null) {
                        _.push($.encode((typeof (content.audio.bitdepth) === "function" ? (content.audio.bitdepth).call($item) : (content.audio.bitdepth))));
                    }
                    _.push("");
                }
                _.push("<br />  Audio Bitrate: ");
                if ((typeof (content.audio.bitrate != undefined) !== "undefined" && (content.audio.bitrate != undefined) != null) && (typeof (content.audio.bitrate != undefined) === "function" ? (content.audio.bitrate != undefined).call($item) : (content.audio.bitrate != undefined))) {
                    _.push("");
                    if (typeof (content.audio.bitrate) !== "undefined" && (content.audio.bitrate) != null) {
                        _.push($.encode((typeof (content.audio.bitrate) === "function" ? (content.audio.bitrate).call($item) : (content.audio.bitrate))));
                    }
                    _.push("");
                }
                _.push("<br />  Audio Channels: ");
                if ((typeof (content.audio.channels != undefined) !== "undefined" && (content.audio.channels != undefined) != null) && (typeof (content.audio.channels != undefined) === "function" ? (content.audio.channels != undefined).call($item) : (content.audio.channels != undefined))) {
                    _.push("");
                    if (typeof (content.audio.channels) !== "undefined" && (content.audio.channels) != null) {
                        _.push($.encode((typeof (content.audio.channels) === "function" ? (content.audio.channels).call($item) : (content.audio.channels))));
                    }
                    _.push("");
                }
                _.push("<br />  Audio Format: ");
                if ((typeof (content.audio.format != undefined) !== "undefined" && (content.audio.format != undefined) != null) && (typeof (content.audio.format != undefined) === "function" ? (content.audio.format != undefined).call($item) : (content.audio.format != undefined))) {
                    _.push("");
                    if (typeof (content.audio.format) !== "undefined" && (content.audio.format) != null) {
                        _.push($.encode((typeof (content.audio.format) === "function" ? (content.audio.format).call($item) : (content.audio.format))));
                    }
                    _.push("");
                }
                _.push("<br />  Audio Samplingrate: ");
                if ((typeof (content.audio.samplingrate != undefined) !== "undefined" && (content.audio.samplingrate != undefined) != null) && (typeof (content.audio.samplingrate != undefined) === "function" ? (content.audio.samplingrate != undefined).call($item) : (content.audio.samplingrate != undefined))) {
                    _.push("");
                    if (typeof (content.audio.samplingrate) !== "undefined" && (content.audio.samplingrate) != null) {
                        _.push($.encode((typeof (content.audio.samplingrate) === "function" ? (content.audio.samplingrate).call($item) : (content.audio.samplingrate))));
                    }
                    _.push("");
                }
                _.push("<br /><br />  ");
            }
            _.push("    ");
            if ((typeof (!$.isEmptyObject) !== "undefined" && (!$.isEmptyObject) != null) && !$.isEmptyObject(content.video)) {
                _.push("  Video Bitrate: ");
                if ((typeof (content.video.bitrate != undefined) !== "undefined" && (content.video.bitrate != undefined) != null) && (typeof (content.video.bitrate != undefined) === "function" ? (content.video.bitrate != undefined).call($item) : (content.video.bitrate != undefined))) {
                    _.push("");
                    if (typeof (content.video.bitrate) !== "undefined" && (content.video.bitrate) != null) {
                        _.push($.encode((typeof (content.video.bitrate) === "function" ? (content.video.bitrate).call($item) : (content.video.bitrate))));
                    }
                    _.push("");
                }
                _.push("<br />  Video Format: ");
                if ((typeof (content.video.format != undefined) !== "undefined" && (content.video.format != undefined) != null) && (typeof (content.video.format != undefined) === "function" ? (content.video.format != undefined).call($item) : (content.video.format != undefined))) {
                    _.push("");
                    if (typeof (content.video.format) !== "undefined" && (content.video.format) != null) {
                        _.push($.encode((typeof (content.video.format) === "function" ? (content.video.format).call($item) : (content.video.format))));
                    }
                    _.push("");
                }
                _.push("<br />  Video Framerate: ");
                if ((typeof (content.video.framerate != undefined) !== "undefined" && (content.video.framerate != undefined) != null) && (typeof (content.video.framerate != undefined) === "function" ? (content.video.framerate != undefined).call($item) : (content.video.framerate != undefined))) {
                    _.push("");
                    if (typeof (content.video.framerate) !== "undefined" && (content.video.framerate) != null) {
                        _.push($.encode((typeof (content.video.framerate) === "function" ? (content.video.framerate).call($item) : (content.video.framerate))));
                    }
                    _.push("");
                }
                _.push("<br />  Video Resolution: ");
                if ((typeof (content.video.resolution != undefined) !== "undefined" && (content.video.resolution != undefined) != null) && (typeof (content.video.resolution != undefined) === "function" ? (content.video.resolution != undefined).call($item) : (content.video.resolution != undefined))) {
                    _.push("");
                    if (typeof (content.video.resolution) !== "undefined" && (content.video.resolution) != null) {
                        _.push($.encode((typeof (content.video.resolution) === "function" ? (content.video.resolution).call($item) : (content.video.resolution))));
                    }
                    _.push("");
                }
                _.push("<br />  Video Scantype: ");
                if ((typeof (content.video.scantype != undefined) !== "undefined" && (content.video.scantype != undefined) != null) && (typeof (content.video.scantype != undefined) === "function" ? (content.video.scantype != undefined).call($item) : (content.video.scantype != undefined))) {
                    _.push("");
                    if (typeof (content.video.scantype) !== "undefined" && (content.video.scantype) != null) {
                        _.push($.encode((typeof (content.video.scantype) === "function" ? (content.video.scantype).call($item) : (content.video.scantype))));
                    }
                    _.push("");
                }
                _.push("<br />  ");
            }
            _.push(" ");
        } else {
            if ((typeof (file.name.localPart == "image") !== "undefined" && (file.name.localPart == "image") != null) && (typeof (file.name.localPart == "image") === "function" ? (file.name.localPart == "image").call($item) : (file.name.localPart == "image"))) {
                _.push("  <h2>Image Metadaten:</h2>  Width: ");
                if ((typeof (content.width != undefined) !== "undefined" && (content.width != undefined) != null) && (typeof (content.width != undefined) === "function" ? (content.width != undefined).call($item) : (content.width != undefined))) {
                    _.push("");
                    if (typeof (content.width) !== "undefined" && (content.width) != null) {
                        _.push($.encode((typeof (content.width) === "function" ? (content.width).call($item) : (content.width))));
                    }
                    _.push("");
                }
                _.push("<br />  Filename: ");
                if ((typeof (content.filename != undefined) !== "undefined" && (content.filename != undefined) != null) && (typeof (content.filename != undefined) === "function" ? (content.filename != undefined).call($item) : (content.filename != undefined))) {
                    _.push("");
                    if (typeof (content.filename) !== "undefined" && (content.filename) != null) {
                        _.push($.encode((typeof (content.filename) === "function" ? (content.filename).call($item) : (content.filename))));
                    }
                    _.push("");
                }
                _.push("<br />  Source: ");
                if ((typeof (content.source != undefined) !== "undefined" && (content.source != undefined) != null) && (typeof (content.source != undefined) === "function" ? (content.source != undefined).call($item) : (content.source != undefined))) {
                    _.push("");
                    if (typeof (content.source) !== "undefined" && (content.source) != null) {
                        _.push($.encode((typeof (content.source) === "function" ? (content.source).call($item) : (content.source))));
                    }
                    _.push("");
                }
                _.push("<br />  External: ");
                if ((typeof (content.external != undefined) !== "undefined" && (content.external != undefined) != null) && (typeof (content.external != undefined) === "function" ? (content.external != undefined).call($item) : (content.external != undefined))) {
                    _.push("");
                    if (typeof (content.external) !== "undefined" && (content.external) != null) {
                        _.push($.encode((typeof (content.external) === "function" ? (content.external).call($item) : (content.external))));
                    }
                    _.push("");
                }
                _.push("<br />  Mimetype: ");
                if ((typeof (content.mimetype != undefined) !== "undefined" && (content.mimetype != undefined) != null) && (typeof (content.mimetype != undefined) === "function" ? (content.mimetype != undefined).call($item) : (content.mimetype != undefined))) {
                    _.push("");
                    if (typeof (content.mimetype) !== "undefined" && (content.mimetype) != null) {
                        _.push($.encode((typeof (content.mimetype) === "function" ? (content.mimetype).call($item) : (content.mimetype))));
                    }
                    _.push("");
                }
                _.push("<br />  Size: ");
                if ((typeof (content.size != undefined) !== "undefined" && (content.size != undefined) != null) && (typeof (content.size != undefined) === "function" ? (content.size != undefined).call($item) : (content.size != undefined))) {
                    _.push("");
                    if (typeof (content.size) !== "undefined" && (content.size) != null) {
                        _.push($.encode((typeof (content.size) === "function" ? (content.size).call($item) : (content.size))));
                    }
                    _.push("");
                }
                _.push("<br />  Height: ");
                if ((typeof (content.height != undefined) !== "undefined" && (content.height != undefined) != null) && (typeof (content.height != undefined) === "function" ? (content.height != undefined).call($item) : (content.height != undefined))) {
                    _.push("");
                    if (typeof (content.height) !== "undefined" && (content.height) != null) {
                        _.push($.encode((typeof (content.height) === "function" ? (content.height).call($item) : (content.height))));
                    }
                    _.push("");
                }
                _.push("<br />  Datetaken: ");
                if ((typeof (content.datetaken != undefined) !== "undefined" && (content.datetaken != undefined) != null) && (typeof (content.datetaken != undefined) === "function" ? (content.datetaken != undefined).call($item) : (content.datetaken != undefined))) {
                    _.push("");
                    if (typeof (content.datetaken) !== "undefined" && (content.datetaken) != null) {
                        _.push($.encode((typeof (content.datetaken) === "function" ? (content.datetaken).call($item) : (content.datetaken))));
                    }
                    _.push("");
                }
                _.push("<br />  Location: ");
                if ((typeof (content.location != undefined) !== "undefined" && (content.location != undefined) != null) && (typeof (content.location != undefined) === "function" ? (content.location != undefined).call($item) : (content.location != undefined))) {
                    _.push("");
                    if (typeof (content.location) !== "undefined" && (content.location) != null) {
                        _.push($.encode((typeof (content.location) === "function" ? (content.location).call($item) : (content.location))));
                    }
                    _.push("");
                }
                _.push("<br />    ");
                if ((typeof (!$.isEmptyObject) !== "undefined" && (!$.isEmptyObject) != null) && !$.isEmptyObject(content.gps)) {
                    _.push("  GPS Latitude: ");
                    if ((typeof (!$.isEmptyObject) !== "undefined" && (!$.isEmptyObject) != null) && !$.isEmptyObject(content.gps.lat)) {
                        _.push("");
                        if (typeof (content.gps.lat) !== "undefined" && (content.gps.lat) != null) {
                            _.push($.encode((typeof (content.gps.lat) === "function" ? (content.gps.lat).call($item) : (content.gps.lat))));
                        }
                        _.push("");
                    }
                    _.push("<br />  GPS Longitude: ");
                    if ((typeof (!$.isEmptyObject) !== "undefined" && (!$.isEmptyObject) != null) && !$.isEmptyObject(content.gps.lng)) {
                        _.push("");
                        if (typeof (content.gps.lng) !== "undefined" && (content.gps.lng) != null) {
                            _.push($.encode((typeof (content.gps.lng) === "function" ? (content.gps.lng).call($item) : (content.gps.lng))));
                        }
                        _.push("");
                    }
                    _.push("<br />  ");
                }
                _.push("  Filmspeed: ");
                if ((typeof (content.filmspeed != undefined) !== "undefined" && (content.filmspeed != undefined) != null) && (typeof (content.filmspeed != undefined) === "function" ? (content.filmspeed != undefined).call($item) : (content.filmspeed != undefined))) {
                    _.push("");
                    if (typeof (content.filmspeed) !== "undefined" && (content.filmspeed) != null) {
                        _.push($.encode((typeof (content.filmspeed) === "function" ? (content.filmspeed).call($item) : (content.filmspeed))));
                    }
                    _.push("");
                }
                _.push("<br />  Fnumber: ");
                if ((typeof (content.fnumber != undefined) !== "undefined" && (content.fnumber != undefined) != null) && (typeof (content.fnumber != undefined) === "function" ? (content.fnumber != undefined).call($item) : (content.fnumber != undefined))) {
                    _.push("");
                    if (typeof (content.fnumber) !== "undefined" && (content.fnumber) != null) {
                        _.push($.encode((typeof (content.fnumber) === "function" ? (content.fnumber).call($item) : (content.fnumber))));
                    }
                    _.push("");
                }
                _.push("<br />  Focal Width: ");
                if ((typeof (content.focalwidth != undefined) !== "undefined" && (content.focalwidth != undefined) != null) && (typeof (content.focalwidth != undefined) === "function" ? (content.focalwidth != undefined).call($item) : (content.focalwidth != undefined))) {
                    _.push("");
                    if (typeof (content.focalwidth) !== "undefined" && (content.focalwidth) != null) {
                        _.push($.encode((typeof (content.focalwidth) === "function" ? (content.focalwidth).call($item) : (content.focalwidth))));
                    }
                    _.push("");
                }
                _.push("<br />  Exposure Time: ");
                if ((typeof (content.exposuretime != undefined) !== "undefined" && (content.exposuretime != undefined) != null) && (typeof (content.exposuretime != undefined) === "function" ? (content.exposuretime != undefined).call($item) : (content.exposuretime != undefined))) {
                    _.push("");
                    if (typeof (content.exposuretime) !== "undefined" && (content.exposuretime) != null) {
                        _.push($.encode((typeof (content.exposuretime) === "function" ? (content.exposuretime).call($item) : (content.exposuretime))));
                    }
                    _.push("");
                }
                _.push("<br /> ");
            } else {
                if ((typeof (file.name.localPart == "file") !== "undefined" && (file.name.localPart == "file") != null) && (typeof (file.name.localPart == "file") === "function" ? (file.name.localPart == "file").call($item) : (file.name.localPart == "file"))) {
                    _.push("  <h2>File Metadaten:</h2>  Filename: ");
                    if ((typeof (content.filename != undefined) !== "undefined" && (content.filename != undefined) != null) && (typeof (content.filename != undefined) === "function" ? (content.filename != undefined).call($item) : (content.filename != undefined))) {
                        _.push("");
                        if (typeof (content.filename) !== "undefined" && (content.filename) != null) {
                            _.push($.encode((typeof (content.filename) === "function" ? (content.filename).call($item) : (content.filename))));
                        }
                        _.push("");
                    }
                    _.push("<br />  Source: ");
                    if ((typeof (content.source != undefined) !== "undefined" && (content.source != undefined) != null) && (typeof (content.source != undefined) === "function" ? (content.source != undefined).call($item) : (content.source != undefined))) {
                        _.push("");
                        if (typeof (content.source) !== "undefined" && (content.source) != null) {
                            _.push($.encode((typeof (content.source) === "function" ? (content.source).call($item) : (content.source))));
                        }
                        _.push("");
                    }
                    _.push("<br />  External: ");
                    if ((typeof (content.external != undefined) !== "undefined" && (content.external != undefined) != null) && (typeof (content.external != undefined) === "function" ? (content.external != undefined).call($item) : (content.external != undefined))) {
                        _.push("");
                        if (typeof (content.external) !== "undefined" && (content.external) != null) {
                            _.push($.encode((typeof (content.external) === "function" ? (content.external).call($item) : (content.external))));
                        }
                        _.push("");
                    }
                    _.push("<br />  Mimetype: ");
                    if ((typeof (content.mimetype != undefined) !== "undefined" && (content.mimetype != undefined) != null) && (typeof (content.mimetype != undefined) === "function" ? (content.mimetype != undefined).call($item) : (content.mimetype != undefined))) {
                        _.push("");
                        if (typeof (content.mimetype) !== "undefined" && (content.mimetype) != null) {
                            _.push($.encode((typeof (content.mimetype) === "function" ? (content.mimetype).call($item) : (content.mimetype))));
                        }
                        _.push("");
                    }
                    _.push("<br />  Size: ");
                    if ((typeof (content.size != undefined) !== "undefined" && (content.size != undefined) != null) && (typeof (content.size != undefined) === "function" ? (content.size != undefined).call($item) : (content.size != undefined))) {
                        _.push("");
                        if (typeof (content.size) !== "undefined" && (content.size) != null) {
                            _.push($.encode((typeof (content.size) === "function" ? (content.size).call($item) : (content.size))));
                        }
                        _.push("");
                    }
                    _.push("<br /> ");
                }
            }
        }
        _.push("");
    }
    return _;
}
).call(jQuery, jQuery, {data: data}).join(''); });;
steal.end();
$.View.preload('editor_resourcebrowser_views_resourcepagessearch_tmpl',function(data){return (
function anonymous(jQuery, $item) {
    var $ = jQuery, call, _ = [], $data = $item.data;
    with ($data) {
        _.push("<div class=\"wbl-resourceSearch wbl-alignCenter\"> <input id=\"wbl-resourceSearch\" type=\"text\" placeholder=\"Suchen...\" /> </div> <div id=\"wbl-addPage\"> <img src=\"");
        if (typeof (runtime.getRootPath) !== "undefined" && (runtime.getRootPath) != null) {
            _.push($.encode(runtime.getRootPath()));
        }
        _.push("/editor/menubar/images/menu_add.png\" class=\"wbl-addPageImg\" title=\"Neue Seite...\" alt=\"Neue Seite...\" /> </div> <!-- <div id=\"wbl-hint-searchtabs\"></div> <div id=\"wbl-hint-searchfield\"></div> <div id=\"wbl-hint-createnew\"></div> -->");
    }
    return _;
}
).call(jQuery, jQuery, {data: data}).join(''); });;
steal.end();
$.View.preload('editor_resourcebrowser_views_resourcemediasearch_tmpl',function(data){return (
function anonymous(jQuery, $item) {
    var $ = jQuery, call, _ = [], $data = $item.data;
    with ($data) {
        _.push("<div class=\"wbl-resourceSearch wbl-alignCenter\"> <input id=\"wbl-resourceSearch\" type=\"text\" placeholder=\"Suchen...\" /> </div> <div id=\"wbl-mediaFileUploader\"></div> <!-- <div id=\"wbl-hint-searchtabs\"></div> <div id=\"wbl-hint-searchfield\"></div> <div id=\"wbl-hint-createnew\"></div> -->");
    }
    return _;
}
).call(jQuery, jQuery, {data: data}).join(''); });;
steal.end();
var qq=qq||{};qq.extend=function(a,b){for(var c in b)a[c]=b[c]};qq.indexOf=function(a,b,c){if(a.indexOf)return a.indexOf(b,c);c=c||0;var d=a.length;if(c<0)c+=d;for(;c<d;c++)if(c in a&&a[c]===b)return c;return-1};qq.getUniqueId=function(){var a=0;return function(){return a++}}();qq.attach=function(a,b,c){if(a.addEventListener)a.addEventListener(b,c,false);else a.attachEvent&&a.attachEvent("on"+b,c)};
qq.detach=function(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,false);else a.attachEvent&&a.detachEvent("on"+b,c)};qq.preventDefault=function(a){if(a.preventDefault)a.preventDefault();else a.returnValue=false};qq.insertBefore=function(a,b){b.parentNode.insertBefore(a,b)};qq.remove=function(a){a.parentNode.removeChild(a)};qq.contains=function(a,b){if(a==b)return true;return a.contains?a.contains(b):!!(b.compareDocumentPosition(a)&8)};
qq.toElement=function(){var a=document.createElement("div");return function(b){a.innerHTML=b;b=a.firstChild;a.removeChild(b);return b}}();qq.css=function(a,b){if(b.opacity!=null)if(typeof a.style.opacity!="string"&&typeof a.filters!="undefined")b.filter="alpha(opacity="+Math.round(100*b.opacity)+")";qq.extend(a.style,b)};qq.hasClass=function(a,b){return(new RegExp("(^| )"+b+"( |$)")).test(a.className)};qq.addClass=function(a,b){qq.hasClass(a,b)||(a.className+=" "+b)};
qq.removeClass=function(a,b){a.className=a.className.replace(new RegExp("(^| )"+b+"( |$)")," ").replace(/^\s+|\s+$/g,"")};qq.setText=function(a,b){a.innerText=b;a.textContent=b};qq.setStyle=function(a,b){a.style.width=b};qq.children=function(a){var b=[];for(a=a.firstChild;a;){a.nodeType==1&&b.push(a);a=a.nextSibling}return b};
qq.getByClass=function(a,b){if(a.querySelectorAll)return a.querySelectorAll("."+b);var c=[];a=a.getElementsByTagName("*");for(var d=a.length,e=0;e<d;e++)qq.hasClass(a[e],b)&&c.push(a[e]);return c};
qq.obj2url=function(a,b,c){var d=[],e="&",f=function(h,j){var i=b?/\[\]$/.test(b)?b:b+"["+j+"]":j;if(i!="undefined"&&j!="undefined")d.push(typeof h==="object"?qq.obj2url(h,i,true):Object.prototype.toString.call(h)==="[object Function]"?encodeURIComponent(i)+"="+encodeURIComponent(h()):encodeURIComponent(i)+"="+encodeURIComponent(h))};if(!c&&b){e=/\?/.test(b)?/\?$/.test(b)?"":"&":"?";d.push(b);d.push(qq.obj2url(a))}else if(Object.prototype.toString.call(a)==="[object Array]"&&typeof a!="undefined"){var g=
0;for(c=a.length;g<c;++g)f(a[g],g)}else if(typeof a!="undefined"&&a!==null&&typeof a==="object")for(g in a)f(a[g],g);else d.push(encodeURIComponent(b)+"="+encodeURIComponent(a));return d.join(e).replace(/^&/,"").replace(/%20/g,"+")};qq=qq||{};
qq.FileUploaderBasic=function(a){this._options={debug:false,action:"/server/upload",params:{},button:null,multiple:true,maxConnections:3,allowedExtensions:[],sizeLimit:0,minSizeLimit:0,onSubmit:function(){},onProgress:function(){},onComplete:function(){},onCancel:function(){},messages:{typeError:"{file} has invalid extension. Only {extensions} are allowed.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",
onLeave:"The files are being uploaded, if you leave now the upload will be cancelled."},showMessage:function(b){alert(b)}};qq.extend(this._options,a);this._filesInProgress=0;this._handler=this._createUploadHandler();if(this._options.button)this._button=this._createUploadButton(this._options.button);this._preventLeaveInProgress()};
qq.FileUploaderBasic.prototype={setParams:function(a){this._options.params=a},getInProgress:function(){return this._filesInProgress},_createUploadButton:function(a){var b=this;return new qq.UploadButton({element:a,multiple:this._options.multiple&&qq.UploadHandlerXhr.isSupported(),onChange:function(c){b._onInputChange(c)}})},_createUploadHandler:function(){var a=this,b;b=qq.UploadHandlerXhr.isSupported()?"UploadHandlerXhr":"UploadHandlerForm";return new qq[b]({debug:this._options.debug,action:this._options.action,
maxConnections:this._options.maxConnections,onProgress:function(c,d,e,f){a._onProgress(c,d,e,f);a._options.onProgress(c,d,e,f)},onComplete:function(c,d,e){a._onComplete(c,d,e);a._options.onComplete(c,d,e)},onCancel:function(c,d){a._onCancel(c,d);a._options.onCancel(c,d)}})},_preventLeaveInProgress:function(){var a=this;qq.attach(window,"beforeunload",function(b){if(a._filesInProgress){b=b||window.event;return b.returnValue=a._options.messages.onLeave}})},_onSubmit:function(){this._filesInProgress++},
_onProgress:function(){},_onComplete:function(a,b,c){this._filesInProgress--;c.error&&this._options.showMessage(c.error)},_onCancel:function(){this._filesInProgress--},_onInputChange:function(a){if(this._handler instanceof qq.UploadHandlerXhr)this._uploadFileList(a.files);else this._validateFile(a)&&this._uploadFile(a);this._button.reset()},_uploadFileList:function(a){for(var b=0;b<a.length;b++)if(!this._validateFile(a[b]))return;for(b=0;b<a.length;b++)this._uploadFile(a[b])},_uploadFile:function(a){a=
this._handler.add(a);var b=this._handler.getName(a);if(this._options.onSubmit(a,b)!==false){this._onSubmit(a,b);this._handler.upload(a,this._options.params)}},_validateFile:function(a){var b,c;if(a.value)b=a.value.replace(/.*(\/|\\)/,"");else{b=a.fileName!=null?a.fileName:a.name;c=a.fileSize!=null?a.fileSize:a.size}if(this._isAllowedExtension(b))if(c===0){this._error("emptyError",b);return false}else if(c&&this._options.sizeLimit&&c>this._options.sizeLimit){this._error("sizeError",b);return false}else{if(c&&
c<this._options.minSizeLimit){this._error("minSizeError",b);return false}}else{this._error("typeError",b);return false}return true},_error:function(a,b){function c(e,f){d=d.replace(e,f)}var d=this._options.messages[a];c("{file}",this._formatFileName(b));c("{extensions}",this._options.allowedExtensions.join(", "));c("{sizeLimit}",this._formatSize(this._options.sizeLimit));c("{minSizeLimit}",this._formatSize(this._options.minSizeLimit));this._options.showMessage(d)},_formatFileName:function(a){if(a.length>
33)a=a.slice(0,19)+"..."+a.slice(-13);return a},_isAllowedExtension:function(a){a=-1!==a.indexOf(".")?a.replace(/.*[.]/,"").toLowerCase():"";var b=this._options.allowedExtensions;if(!b.length)return true;for(var c=0;c<b.length;c++)if(b[c].toLowerCase()==a)return true;return false},_formatSize:function(a){var b=-1;do{a/=1024;b++}while(a>99);return Math.max(a,0.1).toFixed(1)+["kB","MB","GB","TB","PB","EB"][b]}};
qq.FileUploader=function(a){qq.FileUploaderBasic.apply(this,arguments);qq.extend(this._options,{element:null,listElement:null,template:'<div class="qq-uploader"><div class="qq-upload-button">Upload a file</div><div class="qq-upload-drop-area"><span>Drop files here to upload</span></div><div class="qq-upload-list-container"><ul class="qq-upload-list"></ul><div></div>',fileTemplate:'<li><span class="qq-upload-file"></span><span class="qq-upload-spinner"></span><div class="qq-upload-progress-bar-container"><div class="qq-upload-progress-bar"></div></div><span class="qq-upload-size"></span><a class="qq-upload-cancel" href="#">Cancel</a><span class="qq-upload-failed-text">Failed</span></li>',
classes:{button:"qq-upload-button",drop:"qq-upload-drop-area",dropActive:"qq-upload-drop-area-active",list:"qq-upload-list",file:"qq-upload-file",spinner:"qq-upload-spinner",size:"qq-upload-size",cancel:"qq-upload-cancel",progressBar:"qq-upload-progress-bar",progressContainer:"qq-upload-progress-bar-container",success:"qq-upload-success",fail:"qq-upload-fail"}});qq.extend(this._options,a);this._element=this._options.element;this._element.innerHTML=this._options.template;this._listElement=this._options.listElement||
this._find(this._element,"list");this._classes=this._options.classes;this._button=this._createUploadButton(this._find(this._element,"button"));this._bindCancelEvent();this._setupDragDrop()};qq.extend(qq.FileUploader.prototype,qq.FileUploaderBasic.prototype);
qq.extend(qq.FileUploader.prototype,{_find:function(a,b){a=qq.getByClass(a,this._options.classes[b])[0];if(!a)throw new Error("element not found "+b);return a},_setupDragDrop:function(){var a=this,b=this._find(this._element,"drop"),c=new qq.UploadDropZone({element:b,onEnter:function(d){qq.addClass(b,a._classes.dropActive);d.stopPropagation()},onLeave:function(d){d.stopPropagation()},onLeaveNotDescendants:function(){qq.removeClass(b,a._classes.dropActive)},onDrop:function(d){b.style.display="block";
qq.removeClass(b,a._classes.dropActive);a._uploadFileList(d.dataTransfer.files)}});b.style.display="block";qq.attach(document,"dragenter",function(d){if(c._isValidFileDrag(d))b.style.display="block"});qq.attach(document,"dragleave",function(d){if(c._isValidFileDrag(d)){d=document.elementFromPoint(d.clientX,d.clientY);if(!d||d.nodeName=="HTML")b.style.display="block"}})},_onSubmit:function(a,b){qq.FileUploaderBasic.prototype._onSubmit.apply(this,arguments);this._addToList(a,b)},_onProgress:function(a,
b,c,d){qq.FileUploaderBasic.prototype._onProgress.apply(this,arguments);var e=this._getItemByFileId(a),f=this._find(e,"size");e=this._find(e,"progressBar");f.style.display="inline";var g,h;if(c!=d){h=Math.round(c/d*100)+"%";g=Math.round(c/d*100)+"% from "+this._formatSize(d)}else g=this._formatSize(d);qq.setStyle(e,h);qq.setText(f,g)},_onComplete:function(a,b,c){qq.FileUploaderBasic.prototype._onComplete.apply(this,arguments);var d=this._getItemByFileId(a);qq.remove(this._find(d,"cancel"));qq.remove(this._find(d,
"spinner"));qq.remove(this._find(d,"progressContainer"));c.success?qq.addClass(d,this._classes.success):qq.addClass(d,this._classes.fail)},_addToList:function(a,b){var c=qq.toElement(this._options.fileTemplate);c.qqFileId=a;$(c).attr("id",a);a=this._find(c,"file");qq.setText(a,this._formatFileName(b));this._find(c,"size").style.display="none";$(c).prependTo(this._listElement)},_getItemByFileId:function(a){for(var b=this._listElement.firstChild;b;){if(b.qqFileId==a)return b;b=b.nextSibling}},_bindCancelEvent:function(){var a=
this;qq.attach(this._listElement,"click",function(b){b=b||window.event;var c=b.target||b.srcElement;if(qq.hasClass(c,a._classes.cancel)){qq.preventDefault(b);b=c.parentNode;a._handler.cancel(b.qqFileId);qq.remove(b)}})}});qq.UploadDropZone=function(a){this._options={element:null,onEnter:function(){},onLeave:function(){},onLeaveNotDescendants:function(){},onDrop:function(){}};qq.extend(this._options,a);this._element=this._options.element;this._disableDropOutside();this._attachEvents()};
qq.UploadDropZone.prototype={_disableDropOutside:function(){if(!qq.UploadDropZone.dropOutsideDisabled){qq.attach(document,"dragover",function(a){if(a.dataTransfer){a.dataTransfer.dropEffect="none";a.preventDefault()}});qq.UploadDropZone.dropOutsideDisabled=true}},_attachEvents:function(){var a=this;qq.attach(a._element,"dragover",function(b){if(a._isValidFileDrag(b)){var c=b.dataTransfer.effectAllowed;b.dataTransfer.dropEffect=c=="move"||c=="linkMove"?"move":"copy";b.stopPropagation();b.preventDefault()}});
qq.attach(a._element,"dragenter",function(b){a._isValidFileDrag(b)&&a._options.onEnter(b)});qq.attach(a._element,"dragleave",function(b){if(a._isValidFileDrag(b)){a._options.onLeave(b);var c=document.elementFromPoint(b.clientX,b.clientY);qq.contains(this,c)||a._options.onLeaveNotDescendants(b)}});qq.attach(a._element,"drop",function(b){if(a._isValidFileDrag(b)){b.preventDefault();a._options.onDrop(b)}})},_isValidFileDrag:function(a){a=a.dataTransfer;var b=navigator.userAgent.indexOf("AppleWebKit")>
-1;return a&&a.effectAllowed!="none"&&(a.files||!b&&a.types.contains&&a.types.contains("Files"))}};qq.UploadButton=function(a){this._options={element:null,multiple:false,name:"file",onChange:function(){},hoverClass:"qq-upload-button-hover",focusClass:"qq-upload-button-focus"};qq.extend(this._options,a);this._element=this._options.element;qq.css(this._element,{position:"relative",overflow:"hidden",direction:"ltr"});this._input=this._createInput()};
qq.UploadButton.prototype={getInput:function(){return this._input},reset:function(){this._input.parentNode&&qq.remove(this._input);qq.removeClass(this._element,this._options.focusClass);this._input=this._createInput()},_createInput:function(){var a=document.createElement("input");this._options.multiple&&a.setAttribute("multiple","multiple");a.setAttribute("type","file");a.setAttribute("name",this._options.name);qq.css(a,{position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:"118px",margin:0,
padding:0,cursor:"pointer",opacity:0});this._element.appendChild(a);var b=this;qq.attach(a,"change",function(){b._options.onChange(a)});qq.attach(a,"mouseover",function(){qq.addClass(b._element,b._options.hoverClass)});qq.attach(a,"mouseout",function(){qq.removeClass(b._element,b._options.hoverClass)});qq.attach(a,"focus",function(){qq.addClass(b._element,b._options.focusClass)});qq.attach(a,"blur",function(){qq.removeClass(b._element,b._options.focusClass)});window.attachEvent&&a.setAttribute("tabIndex",
"-1");return a}};qq.UploadHandlerAbstract=function(a){this._options={debug:false,action:"/upload.php",maxConnections:999,onProgress:function(){},onComplete:function(){},onCancel:function(){}};qq.extend(this._options,a);this._queue=[];this._params=[]};
qq.UploadHandlerAbstract.prototype={log:function(a){this._options.debug&&window.console&&console.log("[uploader] "+a)},add:function(){},upload:function(a,b){var c=this._queue.push(a),d={};qq.extend(d,b);this._params[a]=d;c<=this._options.maxConnections&&this._upload(a,this._params[a])},cancel:function(a){this._cancel(a);this._dequeue(a)},cancelAll:function(){for(var a=0;a<this._queue.length;a++)this._cancel(this._queue[a]);this._queue=[]},getName:function(){},getSize:function(){},getQueue:function(){return this._queue},
_upload:function(){},_cancel:function(){},_dequeue:function(a){a=qq.indexOf(this._queue,a);this._queue.splice(a,1);var b=this._options.maxConnections;if(this._queue.length>=b&&a<b){a=this._queue[b-1];this._upload(a,this._params[a])}}};qq.UploadHandlerForm=function(){qq.UploadHandlerAbstract.apply(this,arguments);this._inputs={}};qq.extend(qq.UploadHandlerForm.prototype,qq.UploadHandlerAbstract.prototype);
qq.extend(qq.UploadHandlerForm.prototype,{add:function(a){a.setAttribute("name","qqfile");var b="qq-upload-handler-iframe"+qq.getUniqueId();this._inputs[b]=a;a.parentNode&&qq.remove(a);return b},getName:function(a){return this._inputs[a].value.replace(/.*(\/|\\)/,"")},_cancel:function(a){this._options.onCancel(a,this.getName(a));delete this._inputs[a];if(a=document.getElementById(a)){a.setAttribute("src","javascript:false;");qq.remove(a)}},_upload:function(a,b){var c=this._inputs[a];if(!c)throw new Error("file with passed id was not added, or already uploaded or cancelled");
var d=this.getName(a),e=this._createIframe(a);b=this._createForm(e,b);b.appendChild(c);var f=this;this._attachLoadEvent(e,function(){f.log("iframe loaded");var g=f._getIframeContentJSON(e);f._options.onComplete(a,d,g);f._dequeue(a);delete f._inputs[a];setTimeout(function(){qq.remove(e)},1)});b.submit();qq.remove(b);return a},_attachLoadEvent:function(a,b){qq.attach(a,"load",function(){if(a.parentNode)a.contentDocument&&a.contentDocument.body&&a.contentDocument.body.innerHTML=="false"||b()})},_getIframeContentJSON:function(a){a=
a.contentDocument?a.contentDocument:a.contentWindow.document;var b;this.log("converting iframe's innerHTML to JSON");this.log("innerHTML = "+a.body.innerHTML);try{b=eval("("+a.body.innerHTML+")")}catch(c){b={}}return b},_createIframe:function(a){var b=qq.toElement('<iframe src="javascript:false;" name="'+a+'" />');b.setAttribute("id",a);b.style.display="none";document.body.appendChild(b);return b},_createForm:function(a,b){var c=qq.toElement('<form method="post" enctype="multipart/form-data"></form>');
b=qq.obj2url(b,this._options.action);c.setAttribute("action",b);c.setAttribute("target",a.name);c.style.display="none";document.body.appendChild(c);return c}});qq.UploadHandlerXhr=function(){qq.UploadHandlerAbstract.apply(this,arguments);this._files=[];this._xhrs=[];this._loaded=[]};qq.UploadHandlerXhr.isSupported=function(){var a=document.createElement("input");a.type="file";return"multiple"in a&&typeof File!="undefined"&&typeof(new XMLHttpRequest).upload!="undefined"};
qq.extend(qq.UploadHandlerXhr.prototype,qq.UploadHandlerAbstract.prototype);
qq.extend(qq.UploadHandlerXhr.prototype,{add:function(a){if(!(a instanceof File))throw new Error("Passed obj in not a File (in qq.UploadHandlerXhr)");return this._files.push(a)-1},getName:function(a){a=this._files[a];return a.fileName!=null?a.fileName:a.name},getSize:function(a){a=this._files[a];return a.fileSize!=null?a.fileSize:a.size},getLoaded:function(a){return this._loaded[a]||0},_upload:function(a,b){var c=this._files[a],d=this.getName(a);this.getSize(a);this._loaded[a]=0;var e=this._xhrs[a]=
new XMLHttpRequest,f=this;e.upload.onprogress=function(g){if(g.lengthComputable){f._loaded[a]=g.loaded;f._options.onProgress(a,d,g.loaded,g.total)}};e.onreadystatechange=function(){e.readyState==4&&f._onComplete(a,e)};b=b||{};b.qqfile=d;b=qq.obj2url(b,this._options.action);e.open("POST",b,true);e.setRequestHeader("X-Requested-With","XMLHttpRequest");e.setRequestHeader("X-File-Name",encodeURIComponent(d));e.setRequestHeader("Content-Type","application/octet-stream");e.send(c)},_onComplete:function(a,
b){if(this._files[a]){var c=this.getName(a),d=this.getSize(a);this._options.onProgress(a,c,d,d);if(b.status==201){b={success:true,url:b.getResponseHeader("Location"),eTag:b.getResponseHeader("Etag")};this._options.onComplete(a,c,b)}else this._options.onComplete(a,c,{});this._files[a]=null;this._xhrs[a]=null;this._dequeue(a)}},_cancel:function(a){this._options.onCancel(a,this.getName(a));this._files[a]=null;if(this._xhrs[a]){this._xhrs[a].abort();this._xhrs[a]=null}}});
;
steal.end();
steal.then("jsonix").then(function(b){b.Model("Editor.File",{findOne:function(a,c){if("path"in a)b.ajax("/system/weblounge/files?path="+a.path,{success:function(){this.callback(["parseXML","wrap",c])}});else if("language"in a)b.ajax("/system/weblounge/files/"+a.id+"/content/"+a.language,{success:this.callback(["parseXML","wrap",c])});else"id"in a&&b.ajax("/system/weblounge/files/"+a.id,{success:this.callback(["parseXML","wrap",c])})},findAll:function(a,c){var d="/system/weblounge/files/?sort=created-asc&limit=0&offset=0";
if("filter"in a)d+="&filter="+a.filter;if("type"in a)d+="&type="+a.type;b.ajax(d,{success:function(e){e=Editor.File.parseXML(e);c(Editor.File.concatFiles(e))}})},findRecent:function(a,c){var d="/system/weblounge/files/?sort=modified-desc&limit=8&offset=0";if("filter"in a)d+="&filter="+a.filter;if("type"in a)d+="&type="+a.type;b.ajax(d,{success:function(e){e=Editor.File.parseXML(e);c(Editor.File.concatFiles(e))}})},findPending:function(a,c){var d="/system/weblounge/files/pending?limit=0";if("filter"in
a)d+="?filter="+a.filter;if("type"in a)d+="&type="+a.type;b.ajax(d,{success:function(e){e=Editor.File.parseXML(e);c(Editor.File.concatFiles(e))}})},findBySearch:function(a,c){var d="/system/weblounge/files/?searchterms="+a.search+"&sort=modified-desc&limit=8&offset=0";if("filter"in a)d+="&filter="+a.filter;if("type"in a)d+="&type="+a.type;b.ajax(d,{success:function(e){e=Editor.File.parseXML(e);c(Editor.File.concatFiles(e))}})},findReferrer:function(a,c){"id"in a&&b.ajax("/system/weblounge/files/"+
a.id+"/referrer",{success:function(d){d=Page.parseXML(d);c(d.value.page)}})},update:function(a,c,d){var e={},f="";if("eTag"in a)e={"If-Match":a.eTag};if("id"in a)f="/system/weblounge/files/"+a.id;if("language"in a)f+="/content/"+a.language;b.ajax({url:f,type:"put",headers:e,success:d,dataType:"xml",data:{content:Editor.File.parseJSON(c)}})},create:function(a,c,d){"path"in a&&b.ajax({url:"/system/weblounge/files/",type:"post",dataType:"xml",success:d,data:{path:a.path,content:Editor.File.parseJSON(c)}})},
upload:function(a,c){"path"in a&&b.ajax({url:"/system/weblounge/files/uploads",type:"post",dataType:"xml",data:{path:a.path,mimeType:a.mimeType,languageid:a.languageid,content:Editor.File.parseJSON(c)}})},destroy:function(a,c,d){if("language"in a)b.ajax({url:"/system/weblounge/files/"+a.id+"/content/"+a.language,type:"delete",success:c,error:d});else"id"in a&&b.ajax({url:"/system/weblounge/files/"+a.id,type:"delete",success:c,error:d})},concatFiles:function(a){if(b.isEmptyObject(a.value.movie))a.value.movie=
[];if(b.isEmptyObject(a.value.image))a.value.image=[];if(b.isEmptyObject(a.value.file))a.value.file=[];b.each(a.value.movie,function(c,d){d.type="movie"});b.each(a.value.image,function(c,d){d.type="image"});b.each(a.value.file,function(c,d){d.type="file"});return[].concat(a.value.movie,a.value.image,a.value.file)},parseXML:function(a){return Editor.Jsonix.context().createUnmarshaller().unmarshalDocument(a)},parseJSON:function(a){return Editor.Jsonix.context().createMarshaller().marshalString(a)}},
{getTitle:function(a){if(b.isEmptyObject(this.value.head.metadata))return"";if(b.isEmptyObject(this.value.head.metadata.title))return"";if(b.isEmptyObject(this.value.head.metadata.title[a]))return"";return this.value.head.metadata.title[a]},getDescription:function(a){if(b.isEmptyObject(this.value.head.metadata))return"";if(b.isEmptyObject(this.value.head.metadata.description))return"";if(b.isEmptyObject(this.value.head.metadata.description[a]))return"";return this.value.head.metadata.description[a]},
getTags:function(){if(b.isEmptyObject(this.value.head.metadata))return"";if(b.isEmptyObject(this.value.head.metadata.subject))return"";return this.value.head.metadata.subject},getAuthor:function(a){a=this.getContent(a);if(b.isEmptyObject(a))return"";if(b.isEmptyObject(a.author))return"";return a.author},getContent:function(a){if(b.isEmptyObject(this.value.body))return null;if(b.isEmptyObject(this.value.body.contents))return null;var c=null,d=null;b.each(this.value.body.contents,function(e,f){if(f.language==
a)c=f;if(d==null||d.created.date>f.created.date)d=f});if(c==null)return d;return c},getMetadata:function(a){var c={};c.title="";c.description="";c.tags="";c.path="";c.author=this.getAuthor(a);if(!b.isEmptyObject(this.value.path))c.path=this.value.path;if(b.isEmptyObject(this.value.head.metadata))this.value.head.metadata={};if(!b.isEmptyObject(this.value.head.metadata.title)&&this.value.head.metadata.title[a]!=undefined)c.title=this.value.head.metadata.title[a];if(!b.isEmptyObject(this.value.head.metadata.description)&&
this.value.head.metadata.description[a]!=undefined)c.description=this.value.head.metadata.description[a];if(!b.isEmptyObject(this.value.head.metadata.subject))c.tags=this.value.head.metadata.subject.toString();return c},saveMetadata:function(a,c,d,e){if(b.isEmptyObject(this.value.head.metadata))this.value.head.metadata={};if(b.isEmptyObject(this.value.head.metadata.title))this.value.head.metadata.title={};if(b.isEmptyObject(this.value.head.metadata.description))this.value.head.metadata.description=
{};if(b.isEmptyObject(this.value.head.metadata.subject))this.value.head.metadata.subject=[];if(!b.isEmptyObject(a.path))this.value.path=a.path.toLowerCase().replace(/^\s+|\s+$/g,"").replace(/[_|\s]+/g,"-").replace(/[^a-z/\u0400-\u04FF0-9-]+/g,"").replace(/[-]+/g,"-").replace(/^-+|-+$/g,"").replace(/[-]+/g,"-");if(!b.isEmptyObject(a.title))this.value.head.metadata.title[c]=a.title;if(!b.isEmptyObject(a.description))this.value.head.metadata.description[c]=a.description;if(!b.isEmptyObject(a.author))this.getContent(c).author=
a.author;this.value.head.metadata.subject=a.tags.split(/\s*,\s*/).filter(function(f){return f!=""});if(d==null)Editor.File.update({id:this.value.id},this,e);else{d=d.replace(/"/g,"");Editor.File.update({id:this.value.id,eTag:d},this,e)}}})});
;
steal.end();
steal.plugins("jquery/model").resources("../../resources/Jsonix-all-1.1-SNAPSHOT").then("page-mappings","file-mappings","image-mappings").then(function(a){a.Class("Editor.Jsonix",{context:function(){return new Jsonix.Context([PageMappings,FileMappings,ImageMappings],{})}},{})});
;
steal.end();
var Jsonix={singleFile:true};Jsonix.Util={};Jsonix.Util.extend=function(a,b){a=a||{};if(b){for(var c in b){var d=b[c];if(d!==undefined)a[c]=d}if(!(typeof window.Event=="function"&&b instanceof window.Event)&&b.hasOwnProperty&&b.hasOwnProperty("toString"))a.toString=b.toString}return a};
Jsonix.Class=function(){for(var a=function(){this.initialize.apply(this,arguments)},b={},c=function(){},d,e,f=0,g=arguments.length;f<g;++f){e=arguments[f];if(typeof e=="function"){if(f===0&&g>1){d=e.prototype.initialize;e.prototype.initialize=c;b=new e;if(d===undefined)delete e.prototype.initialize;else e.prototype.initialize=d}d=e.prototype}else d=e;Jsonix.Util.extend(b,d)}a.prototype=b;return a};Jsonix.XML={};
Jsonix.DOM={createDocument:function(){return document.implementation&&document.implementation.createDocument?document.implementation.createDocument("","",null):new ActiveXObject("MSXML2.DOMDocument")},serialize:function(a){Jsonix.Util.Ensure.ensureExists(a);if(typeof XMLSerializer!=="undefined")return(new XMLSerializer).serializeToString(a);else if(Jsonix.Util.Type.exists(a.xml))return a.xml;else throw"Could not serialize the node, neither XMLSerializer nor the [xml] property were found.";},parse:function(a){Jsonix.Util.Ensure.ensureExists(a);
if(typeof DOMParser!="undefined")return(new DOMParser).parseFromString(a,"application/xml");else if(typeof ActiveXObject!="undefined"){var b=Jsonix.DOM.createDocument("","");b.loadXML(a);return b}else{a="data:text/xml;charset=utf-8,"+encodeURIComponent(a);b=new XMLHttpRequest;b.open("GET",a,false);b.overrideMimeType&&b.overrideMimeType("text/xml");b.send(null);return b.responseXML}},load:function(a,b,c){Jsonix.Request.INSTANCE.issue(a,function(d){if(Jsonix.Util.Type.exists(d.responseXML)&&Jsonix.Util.Type.exists(d.responseXML.documentElement))d=
d.responseXML;else if(Jsonix.Util.Type.isString(d.responseText))d=Jsonix.DOM.parse(d.responseText);else throw"Response does not have valid [responseXML] or [responseText].";b(d)},function(){throw"Could not retrieve XML from URL ["+a+"].";},c)}};
Jsonix.Request=Jsonix.Class({factories:[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],initialize:function(){},issue:function(a,b,c,d){Jsonix.Util.Ensure.ensureString(a);if(Jsonix.Util.Type.exists(b))Jsonix.Util.Ensure.ensureFunction(b);else b=function(){};if(Jsonix.Util.Type.exists(c))Jsonix.Util.Ensure.ensureFunction(c);
else c=function(){};if(Jsonix.Util.Type.exists(d))Jsonix.Util.Ensure.ensureObject(d);else d={};var e=this.createTransport(),f=Jsonix.Util.Type.isString(d.method)?d.method:"GET",g=Jsonix.Util.Type.isBoolean(d.async)?d.async:true,l=Jsonix.Util.Type.isString(d.proxy)?d.proxy:Jsonix.Request.PROXY,h=Jsonix.Util.Type.isString(d.user)?d.user:null,i=Jsonix.Util.Type.isString(d.password)?d.password:null;if(Jsonix.Util.Type.isString(l)&&a.indexOf("http")===0)a=l+encodeURIComponent(a);Jsonix.Util.Type.isString(h)?
e.open(f,a,g,h,i):e.open(f,a,g);if(Jsonix.Util.Type.isObject(d.headers))for(var j in d.headers)d.headers.hasOwnProperty(j)&&e.setRequestHeader(j,d.headers[j]);var k=Jsonix.Util.Type.exists(d.data)?d.data:null;if(g){var m=this;e.onreadystatechange=function(){m.handleTransport(e,b,c)};window.setTimeout(function(){e.send(k)},0)}else{e.send(k);this.handleTransport(e,b,c)}return e},handleTransport:function(a,b,c){if(a.readyState==4){if(!a.status||a.status>=200&&a.status<300)b(a);if(a.status&&(a.status<
200||a.status>=300))c(a)}},createTransport:function(){for(var a=0,b=this.factories.length;a<b;a++)try{return this.factories[a]()}catch(c){}throw"Could not create XML HTTP transport.";},CLASS_NAME:"Jsonix.Request"});Jsonix.Request.INSTANCE=new Jsonix.Request;Jsonix.Request.PROXY=null;Jsonix.Schema={};Jsonix.Model={};
Jsonix.Util.Type={exists:function(a){return typeof a!=="undefined"&&a!==null},isString:function(a){return typeof a==="string"},isBoolean:function(a){return typeof a==="boolean"},isObject:function(a){return typeof a==="object"},isFunction:function(a){return typeof a==="function"},isNumber:function(a){return typeof a==="number"&&!isNaN(a)},isNumberOrNaN:function(a){return a===+a||Object.prototype.toString.call(a)==="[object Number]"},isNaN:function(a){return Jsonix.Util.Type.isNumberOrNaN(a)&&isNaN(a)},
isArray:function(a){return!!(a&&a.concat&&a.unshift&&!a.callee)},isDate:function(a){return!!(a&&a.getTimezoneOffset&&a.setUTCFullYear)},isRegExp:function(a){return!!(a&&a.test&&a.exec&&(a.ignoreCase||a.ignoreCase===false))},equals:function(a,b,c){var d=Jsonix.Util.Type.isFunction(c),e=function(){var i=slice.call(arguments),j=i.length<=1,k=j?0:i[0],m=i[2]||1;i=Math.max(Math.ceil(((j?i[0]:i[1])-k)/m),0);j=0;for(var n=new Array(i);j<i;){n[j++]=k;k+=m}return n},f=Object.keys||function(i){if(Jsonix.Util.Type.isArray(i))return e(0,
i.length);var j=[];for(var k in i)if(i.hasOwnProperty(k))j[j.length]=k;return j};if(a===b)return true;if(Jsonix.Util.Type.isNaN(a)&&Jsonix.Util.Type.isNaN(b))return true;var g=typeof a,l=typeof b;if(g!=l){d&&c("Types differ ["+g+"], ["+l+"].");return false}if(a==b)return true;if(!a&&b||a&&!b){d&&c("One is falsy, the other is truthy.");return false}if(Jsonix.Util.Type.isDate(a)&&Jsonix.Util.Type.isDate(b))return a.getTime()===b.getTime();if(Jsonix.Util.Type.isNaN(a)&&Jsonix.Util.Type.isNaN(b))return false;
if(Jsonix.Util.Type.isRegExp(a)&&Jsonix.Util.Type.isRegExp(b))return a.source===b.source&&a.global===b.global&&a.ignoreCase===b.ignoreCase&&a.multiline===b.multiline;if(g!=="object")return false;if(a.length&&a.length!==b.length)return false;g=f(a);f=f(b);if(g.length!=f.length){d&&c("Different number of properties ["+g.length+"], ["+f.length+"].");for(var h=0;h<g.length;h++)d&&c("A ["+g[h]+"]="+a[g[h]]);for(a=0;a<f.length;a++)d&&c("B ["+f[a]+"]="+b[f[a]]);return false}for(h in a)if(a.hasOwnProperty[h])if(!(h in
b)||!Jsonix.Util.Type.isEqual(a[h],b[h])){if(d){c("One of the properties differ.");c("Key: ["+h+"].");c("Left: ["+a[h]+"].");c("Right: ["+b[h]+"].")}return false}return true}};Jsonix.Util.NumberUtils={isInteger:function(a){return Jsonix.Util.Type.isNumber(a)&&a%1===0}};
Jsonix.Util.StringUtils={trim:function(a){Jsonix.Util.Ensure.ensureString(a);return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},isEmpty:function(a){return Jsonix.Util.StringUtils.trim(a).length===0},isBlank:function(a){return!Jsonix.Util.Type.exists(a)||Jsonix.Util.StringUtils.trim(a).length===0},isNotBlank:function(a){return Jsonix.Util.Type.isString(a)&&Jsonix.Util.StringUtils.trim(a).length!==0}};
Jsonix.Util.Ensure={ensureBoolean:function(a){if(!Jsonix.Util.Type.isBoolean(a))throw"Argument ["+a+"] must be a boolean.";},ensureString:function(a){if(!Jsonix.Util.Type.isString(a))throw"Argument ["+a+"] must be a string.";},ensureNumber:function(a){if(!Jsonix.Util.Type.isNumber(a))throw"Argument ["+a+"] must be a number.";},ensureNumberOrNaN:function(a){if(!Jsonix.Util.Type.isNumberOrNaN(a))throw"Argument ["+a+"] must be a number or NaN.";},ensureInteger:function(a){if(Jsonix.Util.Type.isNumber(a)){if(!Jsonix.Util.NumberUtils.isInteger(a))throw"Argument ["+
a+"] must be an integer.";}else throw"Argument must be an integer, but it is not a number.";},ensureDate:function(a){if(!(a instanceof Date))throw"Argument ["+a+"] must be a date.";},ensureObject:function(a){if(!Jsonix.Util.Type.isObject(a))throw"Argument ["+a+"] must be an object.";},ensureArray:function(a){if(!Jsonix.Util.Type.isArray(a))throw"Argument ["+a+"] must be an array.";},ensureFunction:function(a){if(!Jsonix.Util.Type.isFunction(a))throw"Argument ["+a+"] must be a function.";},ensureExists:function(a){if(!Jsonix.Util.Type.exists(a))throw"Argument ["+
a+"] does not exist.";}};
Jsonix.XML.QName=Jsonix.Class({key:null,namespaceURI:null,localPart:null,prefix:null,string:null,initialize:function(a,b,c){var d;if(Jsonix.Util.Type.exists(b))if(Jsonix.Util.Type.exists(c)){d=Jsonix.Util.Type.exists(a)?a:"";b=b;c=Jsonix.Util.Type.exists(c)?c:""}else{d=Jsonix.Util.Type.exists(a)?a:"";a=b.indexOf(":");if(a>0&&a<b.length){c=b.substring(0,a);b=b.substring(a+1)}else{c="";b=b}}else{d="";b=a;c=""}this.namespaceURI=d;this.localPart=b;this.prefix=c;this.key=(d!==""?"{"+d+"}":"")+b;this.string=
(d!==""?"{"+d+"}":"")+(c!==""?c+":":"")+b},toString:function(){return this.string},clone:function(){return new Jsonix.XML.QName(this.namespaceURI,this.localPart,this.prefix)},equals:function(a){return a?this.namespaceURI==a.namespaceURI&&this.localPart==a.localPart:false},CLASS_NAME:"Jsonix.XML.QName"});
Jsonix.XML.QName.fromString=function(a){var b=a.indexOf("{"),c=a.lastIndexOf("}");if(b===0&&c>0&&c<a.length){b=a.substring(1,c);c=a.substring(c+1)}else{b="";c=a}var d=c.indexOf(":");if(d>0&&d<c.length){a=c.substring(0,d);c=c.substring(d+1)}else{a="";c=c}return new Jsonix.XML.QName(b,c,a)};
Jsonix.XML.QName.fromObject=function(a){Jsonix.Util.Ensure.ensureObject(a);if(Jsonix.Util.Type.isString(a.CLASS_NAME)&&a.CLASS_NAME==="Jsonix.XML.QName")return a;Jsonix.Util.Ensure.ensureString(a.localPart);var b=Jsonix.Util.Type.isString(a.namespaceURI)?a.namespaceURI:"",c=a.localPart;a=Jsonix.Util.Type.isString(a.prefix)?a.prefix:"";return new Jsonix.XML.QName(b,c,a)};Jsonix.XML.QName.key=function(a,b){Jsonix.Util.Ensure.ensureString(b);return Jsonix.Util.StringUtils.isNotBlank(a)?"{"+a+"}"+b:b};
Jsonix.XML.Calendar=Jsonix.Class({year:NaN,month:NaN,day:NaN,hour:NaN,minute:NaN,second:NaN,fractionalSecond:NaN,timezone:NaN,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);if(Jsonix.Util.Type.exists(a.year)){Jsonix.Util.Ensure.ensureInteger(a.year);if(a.year>=-9999&&a.year<=9999)this.year=a.year;else throw"Invalid year ["+a.year+"].";}else this.year=NaN;if(Jsonix.Util.Type.exists(a.month)){Jsonix.Util.Ensure.ensureInteger(a.month);if(a.month>=1&&a.month<=12)this.month=a.month;else throw"Invalid month ["+
a.month+"].";}else this.month=NaN;if(Jsonix.Util.Type.exists(a.day)){Jsonix.Util.Ensure.ensureInteger(a.day);if(a.day>=1&&a.day<=31)this.day=a.day;else throw"Invalid day ["+a.day+"].";}else this.day=NaN;if(Jsonix.Util.Type.exists(a.hour)){Jsonix.Util.Ensure.ensureInteger(a.hour);if(a.hour>=0&&a.hour<=23)this.hour=a.hour;else throw"Invalid hour ["+a.hour+"].";}else this.hour=NaN;if(Jsonix.Util.Type.exists(a.minute)){Jsonix.Util.Ensure.ensureInteger(a.minute);if(a.minute>=0&&a.minute<=59)this.minute=
a.minute;else throw"Invalid minute ["+a.minute+"].";}else this.minute=NaN;if(Jsonix.Util.Type.exists(a.second)){Jsonix.Util.Ensure.ensureInteger(a.second);if(a.second>=0&&a.second<=59)this.second=a.second;else throw"Invalid second ["+a.second+"].";}else this.second=NaN;if(Jsonix.Util.Type.exists(a.fractionalSecond)){Jsonix.Util.Ensure.ensureNumber(a.fractionalSecond);if(a.fractionalSecond>=0&&a.fractionalSecond<1)this.fractionalSecond=a.fractionalSecond;else throw"Invalid fractional second ["+a.fractionalSecond+
"].";}else this.fractionalSecond=NaN;if(Jsonix.Util.Type.exists(a.timezone))if(Jsonix.Util.Type.isNaN(a.timezone))this.timezone=NaN;else{Jsonix.Util.Ensure.ensureInteger(a.timezone);if(a.timezone>=-1440&&a.timezone<1440)this.timezone=a.timezone;else throw"Invalid timezone ["+a.timezone+"].";}else this.timezone=NaN},CLASS_NAME:"Jsonix.XML.Calendar"});
Jsonix.XML.Calendar.fromObject=function(a){Jsonix.Util.Ensure.ensureObject(a);if(Jsonix.Util.Type.isString(a.CLASS_NAME)&&a.CLASS_NAME==="Jsonix.XML.Calendar")return a;return new Jsonix.XML.Calendar(a)};
Jsonix.XML.Input=Jsonix.Class({root:null,node:null,eventType:null,initialize:function(a){Jsonix.Util.Ensure.ensureExists(a);this.root=a},hasNext:function(){return this.node===null?true:this.node===this.root?this.node.nodeType===9&&this.eventType===8?false:this.node.nodeType===1&&this.eventType===2?false:true:true},next:function(){if(this.eventType===null)return this.enter(this.root);return this.eventType===7?Jsonix.Util.Type.exists(this.node.documentElement)?this.enter(this.node.documentElement):
this.leave(this.node):this.eventType===1?Jsonix.Util.Type.exists(this.node.firstChild)?this.enter(this.node.firstChild):this.leave(this.node):this.eventType===2?Jsonix.Util.Type.exists(this.node.nextSibling)?this.enter(this.node.nextSibling):this.leave(this.node):this.leave(this.node)},enter:function(a){var b=a.nodeType;if(b===1){this.node=a;return this.eventType=1}else if(b===2){this.node=a;return this.eventType=10}else if(b===3){this.node=a;return this.eventType=Jsonix.Util.StringUtils.isEmpty(a.nodeValue)?
6:4}else if(b===4){this.node=a;return this.eventType=12}else if(b===5){this.node=a;return this.eventType=9}else if(b===6){this.node=a;return this.eventType=15}else if(b===7){this.node=a;return this.eventType=3}else if(b===8){this.node=a;return this.eventType=5}else if(b===9){this.node=a;return this.eventType=7}else if(b===10){this.node=a;return this.eventType=12}else if(b===12){this.node=a;return this.eventType=14}else throw"Node type ["+b+"] is not supported.";},leave:function(a){if(a.nodeType===
9)if(this.eventType==8)throw"Invalid state.";else{this.node=a;return this.eventType=8}else if(a.nodeType===1)if(this.eventType==2){if(Jsonix.Util.Type.exists(a.nextSibling))return this.enter(a.nextSibling)}else{this.node=a;return this.eventType=2}if(Jsonix.Util.Type.exists(a.nextSibling))return this.enter(a.nextSibling);else{this.node=a=a.parentNode;return this.eventType=a.nodeType===9?8:2}},getName:function(){var a=this.node;return Jsonix.Util.Type.isString(a.nodeName)?Jsonix.Util.Type.isString(a.namespaceURI)?
new Jsonix.XML.QName(a.namespaceURI,a.nodeName):new Jsonix.XML.QName(a.nodeName):null},getText:function(){return this.node.nodeValue},nextTag:function(){for(var a=this.next();a===7||a===4||a===12||a===6||a===3||a===5;)a=this.next();if(a!==1&&a!==2)throw"Expected start or end tag.";return a},getElementText:function(){if(this.eventType!=1)throw"Parser must be on START_ELEMENT to read next text.";for(var a=this.next(),b="";a!==2;){if(a===4||a===12||a===6||a===9)b+=this.getText();else if(!(a===3||a===
5))if(a===8)throw"Unexpected end of document when reading element text content.";else if(a===1)throw"Element text content may not contain START_ELEMENT.";else throw"Unexpected event type ["+a+"].";a=this.next()}return b},getAttributeCount:function(){var a;if(this.eventType===1)a=this.node.attributes;else if(this.eventType===10)a=this.node.parentNode.attributes;else throw"Number of attributes can only be retrieved for START_ELEMENT or ATTRIBUTE.";return a.length},getAttributeName:function(a){var b;
if(this.eventType===1)b=this.node.attributes;else if(this.eventType===10)b=this.node.parentNode.attributes;else throw"Number of attributes can only be retrieved for START_ELEMENT or ATTRIBUTE.";if(a<0||a>=b.length)throw"Invalid attribute index ["+a+"].";a=b[a];return Jsonix.Util.Type.isString(a.namespaceURI)?new Jsonix.XML.QName(a.namespaceURI,a.nodeName):new Jsonix.XML.QName(a.nodeName)},getAttributeValue:function(a){var b;if(this.eventType===1)b=this.node.attributes;else if(this.eventType===10)b=
this.node.parentNode.attributes;else throw"Number of attributes can only be retrieved for START_ELEMENT or ATTRIBUTE.";if(a<0||a>=b.length)throw"Invalid attribute index ["+a+"].";return b[a].nodeValue},getElement:function(){if(this.eventType===1||this.eventType===2){this.eventType=2;return this.node}else throw"Parser must be on START_ELEMENT or END_ELEMENT to return current element.";},CLASS_NAME:"Jsonix.XML.Input"});Jsonix.XML.Input.START_ELEMENT=1;Jsonix.XML.Input.END_ELEMENT=2;
Jsonix.XML.Input.PROCESSING_INSTRUCTION=3;Jsonix.XML.Input.CHARACTERS=4;Jsonix.XML.Input.COMMENT=5;Jsonix.XML.Input.SPACE=6;Jsonix.XML.Input.START_DOCUMENT=7;Jsonix.XML.Input.END_DOCUMENT=8;Jsonix.XML.Input.ENTITY_REFERENCE=9;Jsonix.XML.Input.ATTRIBUTE=10;Jsonix.XML.Input.DTD=11;Jsonix.XML.Input.CDATA=12;Jsonix.XML.Input.NAMESPACE=13;Jsonix.XML.Input.NOTATION_DECLARATION=14;Jsonix.XML.Input.ENTITY_DECLARATION=15;
Jsonix.XML.Output=Jsonix.Class({document:null,node:null,nodes:null,xmldom:null,namespacePrefixes:null,namespacePrefixIndex:0,initialize:function(a){this.xmldom=window.ActiveXObject?new ActiveXObject("Microsoft.XMLDOM"):null;this.nodes=[];this.namespacePrefixes={"":""};if(Jsonix.Util.Type.isObject(a))if(Jsonix.Util.Type.isObject(a.namespacePrefixes))for(var b in a.namespacePrefixes)if(a.namespacePrefixes.hasOwnProperty(b))this.namespacePrefixes[b]=a.namespacePrefixes[b]},destroy:function(){this.xmldom=
null},writeStartDocument:function(){var a=Jsonix.DOM.createDocument();this.document=a;return this.push(a)},writeEndDocument:function(){return this.pop()},writeStartElement:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.localPart);var b=Jsonix.Util.Type.isString(a.namespaceURI)?a.namespaceURI:"",c=a.localPart;a=Jsonix.Util.StringUtils.isNotBlank(a.prefix)?a.prefix:this.getPrefix(b);c=a===""?c:a+":"+c;b=this.xmldom?this.xmldom.createNode(1,c,b):this.document.createElementNS(b,
c);this.peek().appendChild(b);return this.push(b)},writeEndElement:function(){return this.pop()},writeCharacters:function(a){a=this.xmldom?this.xmldom.createTextNode(a):this.document.createTextNode(a);this.peek().appendChild(a);return a},writeAttribute:function(a,b){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.localPart);Jsonix.Util.Ensure.ensureString(b);var c=Jsonix.Util.Type.isString(a.namespaceURI)?a.namespaceURI:"",d=a.localPart;a=Jsonix.Util.StringUtils.isNotBlank(a.prefix)?
a.prefix:this.getPrefix(c);a=a===""?d:a+":"+d;d=this.peek();if(c==="")d.setAttribute(a,b);else if(d.setAttributeNS)d.setAttributeNS(c,a,b);else if(this.xmldom){c=this.document.createNode(2,a,c);c.nodeValue=b;d.setAttributeNode(c)}else throw"setAttributeNS not implemented";},writeNode:function(a){a=Jsonix.Util.Type.exists(this.document.importNode)?this.document.importNode(a,true):a;this.peek().appendChild(a);return a},push:function(a){this.nodes.push(a);return a},peek:function(){return this.nodes[this.nodes.length-
1]},pop:function(){return this.nodes.pop()},getPrefix:function(a){var b=this.namespacePrefixes[a];if(!Jsonix.Util.Type.exists(b)){b="p"+this.namespacePrefixIndex++;this.namespacePrefixes[a]=b}return b},CLASS_NAME:"Jsonix.XML.Output"});Jsonix.Schema.XSD={};Jsonix.Schema.XSD.NAMESPACE_URI="http://www.w3.org/2001/XMLSchema";Jsonix.Schema.XSD.PREFIX="xsd";Jsonix.Schema.XSD.qname=function(a){Jsonix.Util.Ensure.ensureString(a);return new Jsonix.XML.QName(Jsonix.Schema.XSD.NAMESPACE_URI,a,Jsonix.Schema.XSD.PREFIX)};
Jsonix.Schema.XSD.AnyType=Jsonix.Class({typeName:Jsonix.Schema.XSD.qname("anyType"),initialize:function(){},isInstance:function(){throw"Abstract method [isInstance].";},CLASS_NAME:"Jsonix.Schema.XSD.AnyType"});
Jsonix.Schema.XSD.AnySimpleType=Jsonix.Class(Jsonix.Schema.XSD.AnyType,{typeName:Jsonix.Schema.XSD.qname("anySimpleType"),simpleType:true,print:function(){throw new Error("Abstract method [print].");},parse:function(){throw new Error("Abstract method [parse].");},unmarshal:function(a,b){a=b.getElementText();return Jsonix.Util.StringUtils.isNotBlank(a)?this.parse(a):null},marshal:function(a,b,c){Jsonix.Util.Type.exists(b)&&c.writeCharacters(this.print(b))},CLASS_NAME:"Jsonix.Schema.XSD.AnySimpleType"});
Jsonix.Schema.XSD.List=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:null,typeInfo:null,separator:" ",trimmedSeparator:" ",simpleType:true,initialize:function(a,b,c){Jsonix.Util.Ensure.ensureObject(a);this.typeInfo=a;if(Jsonix.Util.Type.exists(b))this.typeName=b;this.separator=Jsonix.Util.Type.isString(c)?c:" ";a=Jsonix.Util.StringUtils.trim(this.separator);this.trimmedSeparator=a.length===0?" ":a},print:function(a){if(!Jsonix.Util.Type.exists(a))return null;Jsonix.Util.Ensure.ensureArray(a);
for(var b="",c=0;c<a.length;c++){if(c>0)b+=this.separator;b+=this.typeInfo.print(a[c])}return b},parse:function(a){Jsonix.Util.Ensure.ensureString(a);a=a.split(this.trimmedSeparator);for(var b=[],c=0;c<a.length;c++)b.push(this.typeInfo.parse(Jsonix.Util.StringUtils.trim(a[c])));return b},CLASS_NAME:"Jsonix.Schema.XSD.List"});
Jsonix.Schema.XSD.String=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("string"),print:function(a){Jsonix.Util.Ensure.ensureString(a);return a},parse:function(a){Jsonix.Util.Ensure.ensureString(a);return a},isInstance:function(a){return Jsonix.Util.Type.isString(a)},CLASS_NAME:"Jsonix.Schema.XSD.String"});Jsonix.Schema.XSD.String.INSTANCE=new Jsonix.Schema.XSD.String;Jsonix.Schema.XSD.String.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.String.INSTANCE);
Jsonix.Schema.XSD.Strings=Jsonix.Class(Jsonix.Schema.XSD.List,{initialize:function(){Jsonix.Schema.XSD.List.prototype.initialize.apply(this,[Jsonix.Schema.XSD.String.INSTANCE,Jsonix.Schema.XSD.qname("strings")," "])},CLASS_NAME:"Jsonix.Schema.XSD.Strings"});Jsonix.Schema.XSD.Strings.INSTANCE=new Jsonix.Schema.XSD.Strings;Jsonix.Schema.XSD.NormalizedString=Jsonix.Class(Jsonix.Schema.XSD.String,{typeName:Jsonix.Schema.XSD.qname("normalizedString"),CLASS_NAME:"Jsonix.Schema.XSD.NormalizedString"});
Jsonix.Schema.XSD.NormalizedString.INSTANCE=new Jsonix.Schema.XSD.NormalizedString;Jsonix.Schema.XSD.NormalizedString.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NormalizedString.INSTANCE);Jsonix.Schema.XSD.Token=Jsonix.Class(Jsonix.Schema.XSD.NormalizedString,{typeName:Jsonix.Schema.XSD.qname("token"),CLASS_NAME:"Jsonix.Schema.XSD.Token"});Jsonix.Schema.XSD.Token.INSTANCE=new Jsonix.Schema.XSD.Token;Jsonix.Schema.XSD.Token.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Token.INSTANCE);
Jsonix.Schema.XSD.Language=Jsonix.Class(Jsonix.Schema.XSD.Token,{typeName:Jsonix.Schema.XSD.qname("language"),CLASS_NAME:"Jsonix.Schema.XSD.Language"});Jsonix.Schema.XSD.Language.INSTANCE=new Jsonix.Schema.XSD.Language;Jsonix.Schema.XSD.Language.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Language.INSTANCE);Jsonix.Schema.XSD.Name=Jsonix.Class(Jsonix.Schema.XSD.Token,{typeName:Jsonix.Schema.XSD.qname("Name"),CLASS_NAME:"Jsonix.Schema.XSD.Name"});Jsonix.Schema.XSD.Name.INSTANCE=new Jsonix.Schema.XSD.Name;
Jsonix.Schema.XSD.Name.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Name.INSTANCE);Jsonix.Schema.XSD.NCName=Jsonix.Class(Jsonix.Schema.XSD.Name,{typeName:Jsonix.Schema.XSD.qname("NCName"),CLASS_NAME:"Jsonix.Schema.XSD.NCName"});Jsonix.Schema.XSD.NCName.INSTANCE=new Jsonix.Schema.XSD.NCName;Jsonix.Schema.XSD.NCName.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NCName.INSTANCE);
Jsonix.Schema.XSD.NMToken=Jsonix.Class(Jsonix.Schema.XSD.Token,{typeName:Jsonix.Schema.XSD.qname("NMTOKEN"),CLASS_NAME:"Jsonix.Schema.XSD.NMToken"});Jsonix.Schema.XSD.NMToken.INSTANCE=new Jsonix.Schema.XSD.NMToken;Jsonix.Schema.XSD.NMTokens=Jsonix.Class(Jsonix.Schema.XSD.List,{initialize:function(){Jsonix.Schema.XSD.List.prototype.initialize.apply(this,[Jsonix.Schema.XSD.NMToken.INSTANCE,Jsonix.Schema.XSD.qname("NMTOKEN")," "])},CLASS_NAME:"Jsonix.Schema.XSD.NMTokens"});
Jsonix.Schema.XSD.NMTokens.INSTANCE=new Jsonix.Schema.XSD.NMTokens;
Jsonix.Schema.XSD.Boolean=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("boolean"),print:function(a){Jsonix.Util.Ensure.ensureBoolean(a);return a?"true":"false"},parse:function(a){Jsonix.Util.Ensure.ensureString(a);if(a==="true"||a==="1")return true;else if(a==="false"||a==="0")return false;else throw"Either [true], [1], [0] or [false] expected as boolean value.";},isInstance:function(a){return Jsonix.Util.Type.isBoolean(a)},CLASS_NAME:"Jsonix.Schema.XSD.Boolean"});
Jsonix.Schema.XSD.Boolean.INSTANCE=new Jsonix.Schema.XSD.Boolean;Jsonix.Schema.XSD.Boolean.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Boolean.INSTANCE);Jsonix.Schema.XSD.Base64Binary=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("base64Binary"),CLASS_NAME:"Jsonix.Schema.XSD.Base64Binary"});Jsonix.Schema.XSD.Base64Binary.INSTANCE=new Jsonix.Schema.XSD.Base64Binary;Jsonix.Schema.XSD.Base64Binary.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Base64Binary.INSTANCE);
Jsonix.Schema.XSD.HexBinary=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("hexBinary"),CLASS_NAME:"Jsonix.Schema.XSD.HexBinary"});Jsonix.Schema.XSD.HexBinary.INSTANCE=new Jsonix.Schema.XSD.HexBinary;Jsonix.Schema.XSD.HexBinary.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.HexBinary.INSTANCE);
Jsonix.Schema.XSD.Number=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("number"),print:function(a){Jsonix.Util.Ensure.ensureNumberOrNaN(a);return Jsonix.Util.Type.isNaN(a)?"NaN":a===Infinity?"INF":a===-Infinity?"-INF":String(a)},parse:function(a){Jsonix.Util.Ensure.ensureString(a);if(a==="-INF")return-Infinity;else if(a==="INF")return Infinity;else if(a==="NaN")return NaN;else{a=Number(a);Jsonix.Util.Ensure.ensureNumber(a);return a}},isInstance:function(a){return Jsonix.Util.Type.isNumberOrNaN(a)},
CLASS_NAME:"Jsonix.Schema.XSD.Number"});Jsonix.Schema.XSD.Number.INSTANCE=new Jsonix.Schema.XSD.Number;Jsonix.Schema.XSD.Number.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Number.INSTANCE);
Jsonix.Schema.XSD.Float=Jsonix.Class(Jsonix.Schema.XSD.Number,{typeName:Jsonix.Schema.XSD.qname("float"),isInstance:function(a){return Jsonix.Util.Type.isNaN(a)||a===-Infinity||a===Infinity||Jsonix.Util.Type.isNumber(a)&&a>=this.MIN_VALUE&&a<=this.MAX_VALUE},MIN_VALUE:-3.4028235E38,MAX_VALUE:3.4028235E38,CLASS_NAME:"Jsonix.Schema.XSD.Float"});Jsonix.Schema.XSD.Float.INSTANCE=new Jsonix.Schema.XSD.Float;Jsonix.Schema.XSD.Float.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Float.INSTANCE);
Jsonix.Schema.XSD.Decimal=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("decimal"),print:function(a){Jsonix.Util.Ensure.ensureNumber(a);return String(a)},parse:function(a){Jsonix.Util.Ensure.ensureString(a);a=Number(a);Jsonix.Util.Ensure.ensureNumber(a);return a},isInstance:function(a){return Jsonix.Util.Type.isNumber(a)},CLASS_NAME:"Jsonix.Schema.XSD.Decimal"});Jsonix.Schema.XSD.Decimal.INSTANCE=new Jsonix.Schema.XSD.Decimal;
Jsonix.Schema.XSD.Decimal.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Decimal.INSTANCE);
Jsonix.Schema.XSD.Integer=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("integer"),print:function(a){Jsonix.Util.Ensure.ensureInteger(a);return String(a)},parse:function(a){Jsonix.Util.Ensure.ensureString(a);a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},isInstance:function(a){return Jsonix.Util.NumberUtils.isInteger(a)&&a>=this.MIN_VALUE&&a<=this.MAX_VALUE},MIN_VALUE:-9223372036854775808,MAX_VALUE:9223372036854775E3,CLASS_NAME:"Jsonix.Schema.XSD.Integer"});
Jsonix.Schema.XSD.Integer.INSTANCE=new Jsonix.Schema.XSD.Integer;Jsonix.Schema.XSD.Integer.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Integer.INSTANCE);Jsonix.Schema.XSD.NonPositiveInteger=Jsonix.Class(Jsonix.Schema.XSD.Integer,{typeName:Jsonix.Schema.XSD.qname("nonPositiveInteger"),MIN_VALUE:-9223372036854775808,MAX_VALUE:0,CLASS_NAME:"Jsonix.Schema.XSD.NonPositiveInteger"});Jsonix.Schema.XSD.NonPositiveInteger.INSTANCE=new Jsonix.Schema.XSD.NonPositiveInteger;
Jsonix.Schema.XSD.NonPositiveInteger.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NonPositiveInteger.INSTANCE);Jsonix.Schema.XSD.NegativeInteger=Jsonix.Class(Jsonix.Schema.XSD.NonPositiveInteger,{typeName:Jsonix.Schema.XSD.qname("negativeInteger"),MIN_VALUE:-9223372036854775808,MAX_VALUE:-1,CLASS_NAME:"Jsonix.Schema.XSD.NegativeInteger"});Jsonix.Schema.XSD.NegativeInteger.INSTANCE=new Jsonix.Schema.XSD.NegativeInteger;Jsonix.Schema.XSD.NegativeInteger.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NegativeInteger.INSTANCE);
Jsonix.Schema.XSD.Long=Jsonix.Class(Jsonix.Schema.XSD.Integer,{typeName:Jsonix.Schema.XSD.qname("long"),MIN_VALUE:-9223372036854775808,MAX_VALUE:9223372036854775E3,CLASS_NAME:"Jsonix.Schema.XSD.Long"});Jsonix.Schema.XSD.Long.INSTANCE=new Jsonix.Schema.XSD.Long;Jsonix.Schema.XSD.Long.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Long.INSTANCE);Jsonix.Schema.XSD.Int=Jsonix.Class(Jsonix.Schema.XSD.Long,{typeName:Jsonix.Schema.XSD.qname("int"),MIN_VALUE:-2147483648,MAX_VALUE:2147483647,CLASS_NAME:"Jsonix.Schema.XSD.Int"});
Jsonix.Schema.XSD.Int.INSTANCE=new Jsonix.Schema.XSD.Int;Jsonix.Schema.XSD.Int.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Int.INSTANCE);Jsonix.Schema.XSD.Short=Jsonix.Class(Jsonix.Schema.XSD.Int,{typeName:Jsonix.Schema.XSD.qname("short"),MIN_VALUE:-32768,MAX_VALUE:32767,CLASS_NAME:"Jsonix.Schema.XSD.Short"});Jsonix.Schema.XSD.Short.INSTANCE=new Jsonix.Schema.XSD.Short;Jsonix.Schema.XSD.Short.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Short.INSTANCE);
Jsonix.Schema.XSD.Byte=Jsonix.Class(Jsonix.Schema.XSD.Short,{typeName:Jsonix.Schema.XSD.qname("byte"),MIN_VALUE:-128,MAX_VALUE:127,CLASS_NAME:"Jsonix.Schema.XSD.Byte"});Jsonix.Schema.XSD.Byte.INSTANCE=new Jsonix.Schema.XSD.Byte;Jsonix.Schema.XSD.Byte.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Byte.INSTANCE);Jsonix.Schema.XSD.NonNegativeInteger=Jsonix.Class(Jsonix.Schema.XSD.Integer,{typeName:Jsonix.Schema.XSD.qname("nonNegativeInteger"),MIN_VALUE:0,MAX_VALUE:9223372036854775E3,CLASS_NAME:"Jsonix.Schema.XSD.NonNegativeInteger"});
Jsonix.Schema.XSD.NonNegativeInteger.INSTANCE=new Jsonix.Schema.XSD.NonNegativeInteger;Jsonix.Schema.XSD.NonNegativeInteger.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NonNegativeInteger.INSTANCE);Jsonix.Schema.XSD.UnsignedLong=Jsonix.Class(Jsonix.Schema.XSD.NonNegativeInteger,{typeName:Jsonix.Schema.XSD.qname("unsignedLong"),MIN_VALUE:0,MAX_VALUE:1.8446744073709552E19,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedLong"});Jsonix.Schema.XSD.UnsignedLong.INSTANCE=new Jsonix.Schema.XSD.UnsignedLong;
Jsonix.Schema.XSD.UnsignedLong.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedLong.INSTANCE);Jsonix.Schema.XSD.UnsignedInt=Jsonix.Class(Jsonix.Schema.XSD.UnsignedLong,{typeName:Jsonix.Schema.XSD.qname("unsignedInt"),MIN_VALUE:0,MAX_VALUE:4294967295,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedInt"});Jsonix.Schema.XSD.UnsignedInt.INSTANCE=new Jsonix.Schema.XSD.UnsignedInt;Jsonix.Schema.XSD.UnsignedInt.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedInt.INSTANCE);
Jsonix.Schema.XSD.UnsignedShort=Jsonix.Class(Jsonix.Schema.XSD.UnsignedInt,{typeName:Jsonix.Schema.XSD.qname("unsignedShort"),MIN_VALUE:0,MAX_VALUE:65535,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedShort"});Jsonix.Schema.XSD.UnsignedShort.INSTANCE=new Jsonix.Schema.XSD.UnsignedShort;Jsonix.Schema.XSD.UnsignedShort.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedShort.INSTANCE);
Jsonix.Schema.XSD.UnsignedByte=Jsonix.Class(Jsonix.Schema.XSD.UnsignedShort,{typeName:Jsonix.Schema.XSD.qname("unsignedByte"),MIN_VALUE:0,MAX_VALUE:255,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedByte"});Jsonix.Schema.XSD.UnsignedByte.INSTANCE=new Jsonix.Schema.XSD.UnsignedByte;Jsonix.Schema.XSD.UnsignedByte.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedByte.INSTANCE);
Jsonix.Schema.XSD.PositiveInteger=Jsonix.Class(Jsonix.Schema.XSD.NonNegativeInteger,{typeName:Jsonix.Schema.XSD.qname("positiveInteger"),MIN_VALUE:1,MAX_VALUE:9223372036854775E3,CLASS_NAME:"Jsonix.Schema.XSD.PositiveInteger"});Jsonix.Schema.XSD.PositiveInteger.INSTANCE=new Jsonix.Schema.XSD.PositiveInteger;Jsonix.Schema.XSD.PositiveInteger.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.PositiveInteger.INSTANCE);
Jsonix.Schema.XSD.Double=Jsonix.Class(Jsonix.Schema.XSD.Number,{typeName:Jsonix.Schema.XSD.qname("double"),isInstance:function(a){return Jsonix.Util.Type.isNaN(a)||a===-Infinity||a===Infinity||Jsonix.Util.Type.isNumber(a)&&a>=this.MIN_VALUE&&a<=this.MAX_VALUE},MIN_VALUE:-1.7976931348623157E308,MAX_VALUE:1.7976931348623157E308,CLASS_NAME:"Jsonix.Schema.XSD.Double"});Jsonix.Schema.XSD.Double.INSTANCE=new Jsonix.Schema.XSD.Double;Jsonix.Schema.XSD.Double.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Double.INSTANCE);
Jsonix.Schema.XSD.AnyURI=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("anyURI"),print:function(a){Jsonix.Util.Ensure.ensureString(a);return a},parse:function(a){Jsonix.Util.Ensure.ensureString(a);return a},isInstance:function(a){return Jsonix.Util.Type.isString(a)},CLASS_NAME:"Jsonix.Schema.XSD.AnyURI"});Jsonix.Schema.XSD.AnyURI.INSTANCE=new Jsonix.Schema.XSD.AnyURI;Jsonix.Schema.XSD.AnyURI.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.AnyURI.INSTANCE);
Jsonix.Schema.XSD.QName=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("QName"),CLASS_NAME:"Jsonix.Schema.XSD.QName"});Jsonix.Schema.XSD.QName.INSTANCE=new Jsonix.Schema.XSD.QName;Jsonix.Schema.XSD.QName.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.QName.INSTANCE);
Jsonix.Schema.XSD.Calendar=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("calendar"),parse:function(a){Jsonix.Util.Ensure.ensureString(a);var b=a.charAt(0)==="-"?a.substring(1):a;if(b.length>=19&&b.charAt(4)==="-"&&b.charAt(7)==="-"&&b.charAt(10)==="T"&&b.charAt(13)===":"&&b.charAt(16)===":")return this.parseDateTime(a);else if(b.length>=10&&b.charAt(4)==="-"&&b.charAt(7)==="-")return this.parseDate(a);else if(b.length>=8&&b.charAt(2)===":"&&b.charAt(5)===":")return this.parseTime(a);
else throw"Value ["+a+"] does not match dateTime, date or time patterns.";},parseDateTime:function(a){Jsonix.Util.Ensure.ensureString(a);var b=a.charAt(0)==="-",c=b?-1:1;a=b?a.substring(1):a;if(a.length<19||a.charAt(4)!=="-"||a.charAt(7)!=="-"||a.charAt(10)!=="T"||a.charAt(13)!==":"||a.charAt(16)!==":")throw"Date time string ["+a+"] must be a string in format ['-'? yyyy '-' mm '-' dd 'T' hh ':' mm ':' ss ('.' s+)? (zzzzzz)?].";var d;b=a.indexOf("+",19);if(b>=0)d=b;else{b=a.indexOf("-",19);if(b>=0)d=
b;else{b=a.indexOf("Z",19);d=b>=0?b:a.length}}var e=d>0&&d<a.length,f=a.substring(0,10);b=e?a.substring(11,d):a.substring(11);a=e?a.substring(d):"";f=this.parseDateString(f);b=this.parseTimeString(b);a=this.parseTimeZoneString(a);return Jsonix.XML.Calendar.fromObject({year:c*f.year,month:f.month,day:f.day,hour:b.hour,minute:b.minute,second:b.second,fractionalSecond:b.fractionalSecond,timezone:a})},parseDate:function(a){Jsonix.Util.Ensure.ensureString(a);var b=a.charAt(0)==="-",c=b?-1:1;b=b?a.substring(1):
a;var d;d=b.indexOf("+",10);if(d>=0)d=d;else{d=b.indexOf("-",10);if(d>=0)d=d;else{d=b.indexOf("Z",10);d=d>=0?d:b.length}}var e=d>0&&d<b.length;b=this.parseDateString(e?b.substring(0,d):b);a=this.parseTimeZoneString(e?a.substring(d):"");return Jsonix.XML.Calendar.fromObject({year:c*b.year,month:b.month,day:b.day,timezone:a})},parseTime:function(a){Jsonix.Util.Ensure.ensureString(a);var b,c=a.indexOf("+",7);if(c>=0)b=c;else{c=a.indexOf("-",7);if(c>=0)b=c;else{c=a.indexOf("Z",7);b=c>=0?c:a.length}}var d=
b>0&&b<a.length;c=this.parseTimeString(d?a.substring(0,b):a);a=this.parseTimeZoneString(d?a.substring(b):"");return Jsonix.XML.Calendar.fromObject({hour:c.hour,minute:c.minute,second:c.second,fractionalSecond:c.fractionalSecond,timezone:a})},parseDateString:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==10)throw"Date string ["+a+"] must be 10 characters long.";if(a.charAt(4)!=="-"||a.charAt(7)!=="-")throw"Date string ["+a+"] must be a string in format [yyyy '-' mm '-' ss ].";var b=this.parseYear(a.substring(0,
4)),c=this.parseMonth(a.substring(5,7));a=this.parseDay(a.substring(8,10));return{year:b,month:c,day:a}},parseTimeString:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length<8||a.charAt(2)!==":"||a.charAt(5)!==":")throw"Time string ["+a+"] must be a string in format [hh ':' mm ':' ss ('.' s+)?].";var b=a.substring(0,2),c=a.substring(3,5),d=a.substring(6,8);a=a.length>=9?a.substring(8):"";b=this.parseHour(b);c=this.parseHour(c);d=this.parseSecond(d);a=this.parseFractionalSecond(a);return{hour:b,
minute:c,second:d,fractionalSecond:a}},parseTimeZoneString:function(a){Jsonix.Util.Ensure.ensureString(a);if(a==="")return NaN;else if(a==="Z")return 0;else{if(a.length!==6)throw"Time zone must be an empty string, 'Z' or a string in format [('+' | '-') hh ':' mm].";var b=a.charAt(0);if(b==="+")b=1;else if(b==="-")b=-1;else throw"First character of the time zone ["+a+"] must be '+' or '-'.";var c=this.parseHour(a.substring(1,3));a=this.parseMinute(a.substring(4,6));return b*(c*60+a)}},parseYear:function(a){Jsonix.Util.Ensure.ensureString(a);
if(a.length!==4)throw"Year ["+a+"] must be a four-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseMonth:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==2)throw"Month ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseDay:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==2)throw"Day ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseHour:function(a){Jsonix.Util.Ensure.ensureString(a);
if(a.length!==2)throw"Hour ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseMinute:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==2)throw"Minute ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseSecond:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==2)throw"Second ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureNumber(a);return a},parseFractionalSecond:function(a){Jsonix.Util.Ensure.ensureString(a);
if(a==="")return 0;else{a=Number(a);Jsonix.Util.Ensure.ensureNumber(a);return a}},print:function(a){Jsonix.Util.Ensure.ensureObject(a);if(Jsonix.Util.NumberUtils.isInteger(a.year)&&Jsonix.Util.NumberUtils.isInteger(a.month)&&Jsonix.Util.NumberUtils.isInteger(a.day)&&Jsonix.Util.NumberUtils.isInteger(a.hour)&&Jsonix.Util.NumberUtils.isInteger(a.minute)&&Jsonix.Util.NumberUtils.isInteger(a.second))return this.printDateTime(a);else if(Jsonix.Util.NumberUtils.isInteger(a.year)&&Jsonix.Util.NumberUtils.isInteger(a.month)&&
Jsonix.Util.NumberUtils.isInteger(a.day))return this.printDate(a);else if(Jsonix.Util.NumberUtils.isInteger(a.hour)&&Jsonix.Util.NumberUtils.isInteger(a.minute)&&Jsonix.Util.NumberUtils.isInteger(a.second))return this.printTime(a);else throw"Value ["+a+"] is not recognized as dateTime, date or time.";},printDateTime:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureInteger(a.year);Jsonix.Util.Ensure.ensureInteger(a.month);Jsonix.Util.Ensure.ensureInteger(a.day);Jsonix.Util.Ensure.ensureInteger(a.hour);
Jsonix.Util.Ensure.ensureInteger(a.minute);Jsonix.Util.Ensure.ensureNumber(a.second);Jsonix.Util.Type.exists(a.fractionalString)&&Jsonix.Util.Ensure.ensureNumber(a.fractionalString);Jsonix.Util.Type.exists(a.timezone)&&!Jsonix.Util.Type.isNaN(a.timezone)&&Jsonix.Util.Ensure.ensureInteger(a.timezone);var b=this.printDateString(a);b+="T";b+=this.printTimeString(a);if(Jsonix.Util.Type.exists(a.timezone))b+=this.printTimeZoneString(a.timezone);return b},printDate:function(a){Jsonix.Util.Ensure.ensureObject(a);
Jsonix.Util.Ensure.ensureNumber(a.year);Jsonix.Util.Ensure.ensureNumber(a.month);Jsonix.Util.Ensure.ensureNumber(a.day);Jsonix.Util.Type.exists(a.timezone)&&!Jsonix.Util.Type.isNaN(a.timezone)&&Jsonix.Util.Ensure.ensureInteger(a.timezone);var b=this.printDateString(a);if(Jsonix.Util.Type.exists(a.timezone))b+=this.printTimeZoneString(a.timezone);return b},printTime:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureNumber(a.hour);Jsonix.Util.Ensure.ensureNumber(a.minute);Jsonix.Util.Ensure.ensureNumber(a.second);
Jsonix.Util.Type.exists(a.fractionalString)&&Jsonix.Util.Ensure.ensureNumber(a.fractionalString);Jsonix.Util.Type.exists(a.timezone)&&!Jsonix.Util.Type.isNaN(a.timezone)&&Jsonix.Util.Ensure.ensureInteger(a.timezone);var b=this.printTimeString(a);if(Jsonix.Util.Type.exists(a.timezone))b+=this.printTimeZoneString(a.timezone);return b},printDateString:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureInteger(a.year);Jsonix.Util.Ensure.ensureInteger(a.month);Jsonix.Util.Ensure.ensureInteger(a.day);
return(a.year<0?"-"+this.printYear(-a.year):this.printYear(a.year))+"-"+this.printMonth(a.month)+"-"+this.printDay(a.day)},printTimeString:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureInteger(a.hour);Jsonix.Util.Ensure.ensureInteger(a.minute);Jsonix.Util.Ensure.ensureInteger(a.second);Jsonix.Util.Type.exists(a.fractionalSecond)&&Jsonix.Util.Ensure.ensureNumber(a.fractionalSecond);var b=this.printHour(a.hour);b+=":";b+=this.printMinute(a.minute);b+=":";b+=this.printSecond(a.second);
if(Jsonix.Util.Type.exists(a.fractionalSecond))b+=this.printFractionalSecond(a.fractionalSecond);return b},printTimeZoneString:function(a){if(!Jsonix.Util.Type.exists(a)||Jsonix.Util.Type.isNaN(a))return"";else{Jsonix.Util.Ensure.ensureInteger(a);var b=a<0?-1:a>0?1:0,c=a*b;a=c%60;c=Math.floor(c/60);var d;if(b===0)return"Z";else{if(b>0)d="+";else if(b<0)d="-";d+=this.printHour(c);d+=":";d+=this.printMinute(a);return d}}},printYear:function(a){return this.printInteger(a,4)},printMonth:function(a){return this.printInteger(a,
2)},printDay:function(a){return this.printInteger(a,2)},printHour:function(a){return this.printInteger(a,2)},printMinute:function(a){return this.printInteger(a,2)},printSecond:function(a){return this.printInteger(a,2)},printFractionalSecond:function(a){Jsonix.Util.Ensure.ensureNumber(a);if(a<0||a>=1)throw"Fractional second ["+a+"] must be between 0 and 1.";else if(a===0)return"";else{a=String(a);var b=a.indexOf(".");return b<0?"":a.substring(b)}},printInteger:function(a,b){Jsonix.Util.Ensure.ensureInteger(a);
Jsonix.Util.Ensure.ensureInteger(b);if(b<=0)throw"Length ["+a+"] must be positive.";if(a<0)throw"Value ["+a+"] must not be negative.";if(a>=Math.pow(10,b))throw"Value ["+a+"] must be less than ["+Math.pow(10,b)+"].";a=String(a);for(var c=a.length;c<b;c++)a="0"+a;return a},isInstance:function(a){return Jsonix.Util.Type.isObject(a)&&(Jsonix.Util.NumberUtils.isInteger(a.year)&&Jsonix.Util.NumberUtils.isInteger(a.month)&&Jsonix.Util.NumberUtils.isInteger(a.day)||Jsonix.Util.NumberUtils.isInteger(a.hour)&&
Jsonix.Util.NumberUtils.isInteger(a.minute)&&Jsonix.Util.NumberUtils.isInteger(a.second))},CLASS_NAME:"Jsonix.Schema.XSD.Calendar"});Jsonix.Schema.XSD.Calendar.INSTANCE=new Jsonix.Schema.XSD.Calendar;Jsonix.Schema.XSD.Calendar.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Calendar.INSTANCE);Jsonix.Schema.XSD.Duration=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("duration"),CLASS_NAME:"Jsonix.Schema.XSD.Duration"});
Jsonix.Schema.XSD.Duration.INSTANCE=new Jsonix.Schema.XSD.Duration;Jsonix.Schema.XSD.Duration.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Duration.INSTANCE);
Jsonix.Schema.XSD.DateTime=Jsonix.Class(Jsonix.Schema.XSD.Calendar,{typeName:Jsonix.Schema.XSD.qname("dateTime"),parse:function(a){a=this.parseDateTime(a);var b=new Date;b.setFullYear(a.year);b.setMonth(a.month-1);b.setDate(a.day);b.setHours(a.hour);b.setMinutes(a.minute);b.setSeconds(a.second);Jsonix.Util.Type.isNumber(a.fractionalSecond)&&b.setMilliseconds(Math.floor(1E3*a.fractionalSecond));return Jsonix.Util.NumberUtils.isInteger(a.timezone)?new Date(b.getTime()-6E4*b.getTimezoneOffset()+a.timezone*
6E4):b},print:function(a){Jsonix.Util.Ensure.ensureDate(a);return this.printDateTime(new Jsonix.XML.Calendar({year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds(),fractionalSecond:a.getMilliseconds()/1E3}))},isInstance:function(a){return Jsonix.Util.Type.isDate(a)},CLASS_NAME:"Jsonix.Schema.XSD.DateTime"});Jsonix.Schema.XSD.DateTime.INSTANCE=new Jsonix.Schema.XSD.DateTime;Jsonix.Schema.XSD.DateTime.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.DateTime.INSTANCE);
Jsonix.Schema.XSD.Time=Jsonix.Class(Jsonix.Schema.XSD.Calendar,{typeName:Jsonix.Schema.XSD.qname("time"),parse:function(a){a=this.parseTime(a);if(Jsonix.Util.NumberUtils.isInteger(a.timezone)){var b=new Date(70,0,1,a.hour,a.minute,a.second);Jsonix.Util.Type.isNumber(a.fractionalSecond)&&b.setMilliseconds(Math.floor(1E3*a.fractionalSecond));a=b.getTime()-a.timezone*6E4;return new Date(a-6E4*b.getTimezoneOffset())}else{b=new Date(70,0,1,a.hour,a.minute,a.second);Jsonix.Util.Type.isNumber(a.fractionalSecond)&&
b.setMilliseconds(Math.floor(1E3*a.fractionalSecond));return b}},print:function(a){Jsonix.Util.Ensure.ensureDate(a);var b=a.getTime();if(b<=-86400000&&b>=864E5)throw"Invalid time ["+a+"].";if(b>=0)return this.printTime(new Jsonix.XML.Calendar({hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds(),fractionalSecond:a.getMilliseconds()/1E3}));else{b=Math.ceil(-b/36E5);return this.printTime(new Jsonix.XML.Calendar({hour:(a.getUTCHours()+b)%24,minute:a.getUTCMinutes(),second:a.getUTCSeconds(),
fractionalSecond:a.getUTCMilliseconds()/1E3,timezone:b*60}))}},isInstance:function(a){return Jsonix.Util.Type.isDate(a)&&a.getTime()>-86400000&&a.getTime()<864E5},CLASS_NAME:"Jsonix.Schema.XSD.Time"});Jsonix.Schema.XSD.Time.INSTANCE=new Jsonix.Schema.XSD.Time;Jsonix.Schema.XSD.Time.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Time.INSTANCE);
Jsonix.Schema.XSD.Date=Jsonix.Class(Jsonix.Schema.XSD.Calendar,{typeName:Jsonix.Schema.XSD.qname("date"),parse:function(a){a=this.parseDate(a);if(Jsonix.Util.NumberUtils.isInteger(a.timezone)){var b=new Date;b.setFullYear(a.year);b.setMonth(a.month-1);b.setDate(a.day);b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);return new Date(b.getTime()-6E4*b.getTimezoneOffset()+a.timezone*6E4)}else{b=new Date;b.setFullYear(a.year);b.setMonth(a.month-1);b.setDate(a.day);b.setHours(0);b.setMinutes(0);
b.setSeconds(0);b.setMilliseconds(0);return b}},print:function(a){Jsonix.Util.Ensure.ensureDate(a);var b=new Date(a.getTime());b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);b=a.getTime()-b.getTime();if(b===0)return this.printDate(new Jsonix.XML.Calendar({year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate()}));else{b=b+6E4*a.getTimezoneOffset();if(b<=432E5)return this.printDate(new Jsonix.XML.Calendar({year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),timezone:Math.floor(b/
6E4)}));else{a=new Date(a.getTime()+864E5);return this.printDate(new Jsonix.XML.Calendar({year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),timezone:Math.floor(b/6E4)-1440}))}}},isInstance:function(a){return Jsonix.Util.Type.isDate(a)},CLASS_NAME:"Jsonix.Schema.XSD.Date"});Jsonix.Schema.XSD.Date.INSTANCE=new Jsonix.Schema.XSD.Date;Jsonix.Schema.XSD.Date.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Date.INSTANCE);
Jsonix.Schema.XSD.GYearMonth=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gYearMonth"),CLASS_NAME:"Jsonix.Schema.XSD.GYearMonth"});Jsonix.Schema.XSD.GYearMonth.INSTANCE=new Jsonix.Schema.XSD.GYearMonth;Jsonix.Schema.XSD.GYearMonth.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GYearMonth.INSTANCE);Jsonix.Schema.XSD.GYear=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gYear"),CLASS_NAME:"Jsonix.Schema.XSD.GYear"});
Jsonix.Schema.XSD.GYear.INSTANCE=new Jsonix.Schema.XSD.GYear;Jsonix.Schema.XSD.GYear.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GYear.INSTANCE);Jsonix.Schema.XSD.GMonthDay=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gMonthDay"),CLASS_NAME:"Jsonix.Schema.XSD.GMonthDay"});Jsonix.Schema.XSD.GMonthDay.INSTANCE=new Jsonix.Schema.XSD.GMonthDay;Jsonix.Schema.XSD.GMonthDay.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GMonthDay.INSTANCE);
Jsonix.Schema.XSD.GDay=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gDay"),CLASS_NAME:"Jsonix.Schema.XSD.GDay"});Jsonix.Schema.XSD.GDay.INSTANCE=new Jsonix.Schema.XSD.GDay;Jsonix.Schema.XSD.GDay.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GDay.INSTANCE);Jsonix.Schema.XSD.GMonth=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gMonth"),CLASS_NAME:"Jsonix.Schema.XSD.GMonth"});Jsonix.Schema.XSD.GMonth.INSTANCE=new Jsonix.Schema.XSD.GMonth;
Jsonix.Schema.XSD.GMonth.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GMonth.INSTANCE);
Jsonix.Model.ClassInfo=Jsonix.Class({name:null,baseTypeInfo:null,properties:null,structure:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.name);this.name=a.name;if(Jsonix.Util.Type.exists(a.baseTypeInfo)){Jsonix.Util.Ensure.ensureObject(a.baseTypeInfo);this.baseTypeInfo=a.baseTypeInfo}this.properties=[];if(Jsonix.Util.Type.exists(a.properties)){Jsonix.Util.Ensure.ensureArray(a.properties);for(var b=0;b<a.properties.length;b++)this.properties[b]=a.properties[b]}},
destroy:function(){},build:function(a){if(this.structure===null){var b={elements:null,attributes:{},anyAttribute:null,value:null,any:null};Jsonix.Util.Type.exists(this.baseTypeInfo)&&this.baseTypeInfo.buildStructure(a,b);this.buildStructure(a,b);this.structure=b}},buildStructure:function(a,b){for(var c=0;c<this.properties.length;c++)this.properties[c].buildStructure(a,b)},unmarshal:function(a,b){this.build(a);var c={};if(b.eventType!==1)throw"Parser must be on START_ELEMENT to read a class info.";
if(Jsonix.Util.Type.exists(this.structure.attributes)){var d=b.getAttributeCount();if(d!==0)for(var e=0;e<d;e++){var f=b.getAttributeName(e).key;Jsonix.Util.Type.exists(this.structure.attributes[f])&&this.unmarshalProperty(a,b,this.structure.attributes[f],c)}}Jsonix.Util.Type.exists(this.structure.anyAttribute)&&this.unmarshalProperty(a,b,this.structure.anyAttribute,c);if(Jsonix.Util.Type.exists(this.structure.elements))for(d=b.next();d!==Jsonix.XML.Input.END_ELEMENT;){if(d===Jsonix.XML.Input.START_ELEMENT){d=
b.getName().key;if(Jsonix.Util.Type.exists(this.structure.elements[d]))this.unmarshalProperty(a,b,this.structure.elements[d],c);else if(Jsonix.Util.Type.exists(this.structure.any))this.unmarshalProperty(a,b,this.structure.any,c);else throw"Unexpected element ["+d+"].";}else if((d===Jsonix.XML.Input.CHARACTERS||d===Jsonix.XML.Input.CDATA||d===Jsonix.XML.Input.ENTITY_REFERENCE)&&Jsonix.Util.Type.exists(this.structure.mixed))this.unmarshalProperty(a,b,this.structure.mixed,c);else if(!(d===Jsonix.XML.Input.SPACE||
d===Jsonix.XML.Input.COMMENT||d===Jsonix.XML.Input.PROCESSING_INSTRUCTION))throw"Illegal state: unexpected event type ["+d+"].";d=b.next()}else Jsonix.Util.Type.exists(this.structure.value)?this.unmarshalProperty(a,b,this.structure.value,c):b.nextTag();if(b.eventType!==2)throw"Illegal state: must be END_ELEMENT.";return c},unmarshalProperty:function(a,b,c,d){a=c.unmarshal(a,this,b);c.setProperty(d,a)},marshal:function(a,b,c){Jsonix.Util.Type.exists(this.baseTypeInfo)&&this.baseTypeInfo.marshal(a,
b,c);for(var d=0;d<this.properties.length;d++){var e=this.properties[d],f=b[e.name];Jsonix.Util.Type.exists(f)&&e.marshal(a,this,f,c)}},isInstance:function(a){return Jsonix.Util.Type.isObject(a)&&Jsonix.Util.Type.isString(a.TYPE_NAME)&&a.TYPE_NAME===this.name}});
Jsonix.Model.PropertyInfo=Jsonix.Class({name:null,collection:false,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.name);this.name=a.name;this.collection=Jsonix.Util.Type.isBoolean(a.collection)?a.collection:false},buildStructure:function(){throw"Abstract method [buildStructure].";},setProperty:function(a,b){if(Jsonix.Util.Type.exists(b))if(this.collection){Jsonix.Util.Ensure.ensureArray(b,"Collection property requires an array value.");Jsonix.Util.Type.exists(a[this.name])||
(a[this.name]=[]);for(var c=0;c<b.length;c++)a[this.name].push(b[c])}else a[this.name]=b},CLASS_NAME:"Jsonix.Model.PropertyInfo"});
Jsonix.Model.AnyAttributePropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a])},unmarshal:function(a,b,c){a=c.getAttributeCount();if(a===0)return null;else{b={};for(var d=0;d<a;d++){var e=c.getAttributeName(d),f=c.getAttributeValue(d);if(Jsonix.Util.Type.isString(f))b[e.key]=f}return b}},marshal:function(a,b,c,d){if(Jsonix.Util.Type.isObject(c))for(var e in c)if(c.hasOwnProperty(e)){a=
c[e];Jsonix.Util.Type.isString(a)&&d.writeAttribute(Jsonix.XML.QName.fromString(e),a)}},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);b.anyAttribute=this},CLASS_NAME:"Jsonix.Model.AnyAttributePropertyInfo"});
Jsonix.Model.SingleTypePropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{typeInfo:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureObject(a.typeInfo);this.typeInfo=a.typeInfo},CLASS_NAME:"Jsonix.Model.SingleTypePropertyInfo"});
Jsonix.Model.AttributePropertyInfo=Jsonix.Class(Jsonix.Model.SingleTypePropertyInfo,{attributeName:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.SingleTypePropertyInfo.prototype.initialize.apply(this,[a]);this.attributeName=Jsonix.Util.Type.isObject(a.attributeName)?a.attributeName:new Jsonix.XML.QName(this.name)},unmarshal:function(a,b,c){a=c.getAttributeCount();b=null;for(var d=0;d<a;d++)if(this.attributeName.key===c.getAttributeName(d).key){var e=c.getAttributeValue(d);
if(Jsonix.Util.Type.isString(e))b=this.typeInfo.parse(e)}return b},marshal:function(a,b,c,d){Jsonix.Util.Type.exists(c)&&d.writeAttribute(this.attributeName,this.typeInfo.print(c))},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);Jsonix.Util.Ensure.ensureObject(b.attributes);b.attributes[this.attributeName.key]=this},CLASS_NAME:"Jsonix.Model.AttributePropertyInfo"});
Jsonix.Model.ValuePropertyInfo=Jsonix.Class(Jsonix.Model.SingleTypePropertyInfo,{initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.SingleTypePropertyInfo.prototype.initialize.apply(this,[a])},unmarshal:function(a,b,c){a=c.getElementText();return Jsonix.Util.StringUtils.isNotBlank(a)?this.typeInfo.parse(a):null},marshal:function(a,b,c,d){Jsonix.Util.Type.exists(c)&&d.writeCharacters(this.typeInfo.print(c))},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);if(Jsonix.Util.Type.exists(b.elements))throw"The structure already defines element mappings, it cannot define a value property.";
else b.value=this},CLASS_NAME:"Jsonix.Model.ValuePropertyInfo"});
Jsonix.Model.AbstractElementsPropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{wrapperElementName:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a]);this.wrapperElementName=Jsonix.Util.Type.isObject(a.wrapperElementName)?a.wrapperElementName:null},unmarshal:function(a,b,c){var d=null,e=this;b=function(f){if(e.collection){if(d===null)d=[];d.push(f)}else if(d===null)d=f;else throw"Value already set.";};Jsonix.Util.Type.exists(this.wrapperElementName)?
this.unmarshalWrapperElement(a,c,b):this.unmarshalElement(a,c,b);return d},unmarshalWrapperElement:function(a,b,c){for(var d=b.next();d!==Jsonix.XML.Input.END_ELEMENT;){if(d===Jsonix.XML.Input.START_ELEMENT)this.unmarshalElement(a,b,c);else if(!(d===Jsonix.XML.Input.SPACE||d===Jsonix.XML.Input.COMMENT||d===Jsonix.XML.Input.PROCESSING_INSTRUCTION))throw"Illegal state: unexpected event type ["+d+"].";d=b.next()}},unmarshalElement:function(){throw"Abstract method [unmarshalElement].";},marshal:function(a,
b,c,d){if(Jsonix.Util.Type.exists(c)){Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeStartElement(this.wrapperElementName);if(this.collection){Jsonix.Util.Ensure.ensureArray(c);for(b=0;b<c.length;b++)this.marshalElement(a,c[b],d)}else this.marshalElement(a,c,d);Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeEndElement()}},marshalElement:function(){throw"Abstract method [marshalElement].";},marshalElementTypeInfo:function(a,b,c,d,e){e.writeStartElement(c);d.marshal(a,b,e);e.writeEndElement()},
buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);if(Jsonix.Util.Type.exists(b.value))throw"The structure already defines a value property.";else if(!Jsonix.Util.Type.exists(b.elements))b.elements={};if(Jsonix.Util.Type.exists(this.wrapperElementName))b.elements[this.wrapperElementName.key]=this;else this.buildStructureElements(a,b)},buildStructureElements:function(){throw"Abstract method [buildStructureElements].";},CLASS_NAME:"Jsonix.Model.AbstractElementsPropertyInfo"});
Jsonix.Model.ElementPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementsPropertyInfo,{typeInfo:null,elementName:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureObject(a.typeInfo);this.typeInfo=a.typeInfo;this.elementName=Jsonix.Util.Type.isObject(a.elementName)?a.elementName:new Jsonix.XML.QName(this.name)},unmarshalElement:function(a,b,c){return c(this.typeInfo.unmarshal(a,b))},
marshalElement:function(a,b,c){this.marshalElementTypeInfo(a,b,this.elementName,this.typeInfo,c)},buildStructureElements:function(a,b){b.elements[this.elementName.key]=this},CLASS_NAME:"Jsonix.Model.ElementPropertyInfo"});
Jsonix.Model.ElementsPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementsPropertyInfo,{elementTypeInfos:null,elementTypeInfosMap:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureArray(a.elementTypeInfos);this.elementTypeInfos=a.elementTypeInfos;this.elementTypeInfosMap={};for(a=0;a<this.elementTypeInfos.length;a++){var b=this.elementTypeInfos[a];Jsonix.Util.Ensure.ensureObject(b);
this.elementTypeInfosMap[b.elementName.key]=b.typeInfo}},unmarshalElement:function(a,b,c){var d=b.getName().key,e=this.elementTypeInfosMap[d];if(Jsonix.Util.Type.exists(e))return c(e.unmarshal(a,b));throw"Element ["+d+"] is not known in this context";},marshalElement:function(a,b,c){for(var d=0;d<this.elementTypeInfos.length;d++){var e=this.elementTypeInfos[d],f=e.typeInfo;if(f.isInstance(b)){this.marshalElementTypeInfo(a,b,e.elementName,f,c);return}}throw"Could not find an element with type info supporting the value ["+
b+"].";},buildStructureElements:function(a,b){for(a=0;a<this.elementTypeInfos.length;a++)b.elements[this.elementTypeInfos[a].elementName.key]=this},CLASS_NAME:"Jsonix.Model.ElementsPropertyInfo"});
Jsonix.Model.ElementMapPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementsPropertyInfo,{elementName:null,key:null,value:null,entryTypeInfo:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureObject(a.key);this.key=a.key;Jsonix.Util.Ensure.ensureObject(a.value);this.value=a.value;this.elementName=Jsonix.Util.Type.isObject(a.elementName)?a.elementName:new Jsonix.XML.QName(this.name);
this.entryTypeInfo=new Jsonix.Model.ClassInfo({name:"",properties:[this.key,this.value]})},unmarshalWrapperElement:function(){Jsonix.Model.AbstractElementsPropertyInfo.prototype.unmarshalWrapperElement.apply(this,arguments)},unmarshal:function(a,b,c){var d=null,e=this;b=function(f){if(Jsonix.Util.Type.exists(f)){Jsonix.Util.Ensure.ensureObject(f,"Map property requires an object.");Jsonix.Util.Type.exists(d)||(d={});for(var g in f)if(f.hasOwnProperty(g)){var l=f[g];if(e.collection){Jsonix.Util.Type.exists(d[g])||
(d[g]=[]);d[g].push(l)}else if(Jsonix.Util.Type.exists(d[g]))throw"Value already set.";else d[g]=l}}};Jsonix.Util.Type.exists(this.wrapperElementName)?this.unmarshalWrapperElement(a,c,b):this.unmarshalElement(a,c,b);return d},unmarshalElement:function(a,b,c){a=this.entryTypeInfo.unmarshal(a,b);b={};if(a[this.key.name])b[a[this.key.name]]=a[this.value.name];return c(b)},marshal:function(a,b,c,d){if(Jsonix.Util.Type.exists(c)){Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeStartElement(this.wrapperElementName);
this.marshalElement(a,c,d);Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeEndElement()}},marshalElement:function(a,b,c){if(b)for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];if(this.collection)for(var f=0;f<e.length;f++){var g={};g[this.key.name]=d;g[this.value.name]=e[f];c.writeStartElement(this.elementName);this.entryTypeInfo.marshal(a,g,c);c.writeEndElement()}else{f={};f[this.key.name]=d;f[this.value.name]=e;c.writeStartElement(this.elementName);this.entryTypeInfo.marshal(a,f,c);c.writeEndElement()}}},
buildStructureElements:function(a,b){b.elements[this.elementName.key]=this},setProperty:function(a,b){if(Jsonix.Util.Type.exists(b)){Jsonix.Util.Ensure.ensureObject(b,"Map property requires an object.");Jsonix.Util.Type.exists(a[this.name])||(a[this.name]={});a=a[this.name];for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];if(this.collection){Jsonix.Util.Type.exists(a[c])||(a[c]=[]);for(var e=0;e<d.length;e++)a[c].push(d[e])}else a[c]=d}}},CLASS_NAME:"Jsonix.Model.ElementMapPropertyInfo"});
Jsonix.Model.AbstractElementRefsPropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{wrapperElementName:null,mixed:false,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a,"Options argument must be an object.");Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a]);if(Jsonix.Util.Type.isObject(a.wrapperElementName)){Jsonix.Util.Ensure.ensureString(a.wrapperElementName.localPart,"Wrapper element name must contain a string property [localPart].");this.wrapperElementName=Jsonix.XML.QName.fromObject(a.wrapperElementName)}else this.wrapperElementName=
null;this.mixed=Jsonix.Util.Type.isBoolean(a.mixed)?a.mixed:false},unmarshal:function(a,b,c){var d=c.eventType;if(d===Jsonix.XML.Input.START_ELEMENT)return Jsonix.Util.Type.exists(this.wrapperElementName)?this.unmarshalWrapperElement(a,b,c):this.unmarshalElement(a,b,c);else if(this.mixed&&(d===Jsonix.XML.Input.CHARACTERS||d===Jsonix.XML.Input.CDATA||d===Jsonix.XML.Input.ENTITY_REFERENCE)){a=c.getText();return this.collection?[a]:a}else if(!(d===Jsonix.XML.Input.SPACE||d===Jsonix.XML.Input.COMMENT||
d===Jsonix.XML.Input.PROCESSING_INSTRUCTION))throw"Illegal state: unexpected event type ["+d+"].";},unmarshalWrapperElement:function(a,b,c){for(var d=null,e=c.next();e!==Jsonix.XML.Input.END_ELEMENT;){if(e===Jsonix.XML.Input.START_ELEMENT){c.getName();e=this.unmarshalElement(a,b,c);if(this.collection){if(d===null)d=[];for(var f=0;f<e.length;f++)d.push(e[f])}else if(d===null)d=e;else throw"Value already set.";}else if(this.mixed&&(e===Jsonix.XML.Input.CHARACTERS||e===Jsonix.XML.Input.CDATA||e===Jsonix.XML.Input.ENTITY_REFERENCE)){e=
c.getText();if(this.collection){if(d===null)d=[];d.push(e)}else if(d===null)d=e;else throw"Value already set.";}else if(!(e===Jsonix.XML.Input.SPACE||e===Jsonix.XML.Input.COMMENT||e===Jsonix.XML.Input.PROCESSING_INSTRUCTION))throw"Illegal state: unexpected event type ["+e+"].";e=c.next()}return d},unmarshalElement:function(a,b,c){var d=c.getName();b=this.getElementTypeInfo(a,b,d);a={name:c.getName(),value:b.unmarshal(a,c)};return this.collection?[a]:a},marshal:function(a,b,c,d){if(Jsonix.Util.Type.exists(c)){Jsonix.Util.Type.exists(this.wrapperElementName)&&
d.writeStartElement(this.wrapperElementName);if(this.collection){Jsonix.Util.Ensure.ensureArray(c,"Collection property requires an array value.");for(var e=0;e<c.length;e++)this.marshalItem(a,b,c[e],d)}else this.marshalItem(a,b,c,d);Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeEndElement()}},marshalItem:function(a,b,c,d){if(Jsonix.Util.Type.isString(c))if(this.mixed)d.writeCharacters(c);else throw"Property is not mixed, can't handle string values.";else if(Jsonix.Util.Type.isObject(c))this.marshalElement(a,
b,c,d);else if(this.mixed)throw"Unsupported content type, either objects or strings are supported.";else throw"Unsupported content type, only objects are supported.";},marshalElement:function(a,b,c,d){var e=Jsonix.XML.QName.fromObject(c.name);b=this.getElementTypeInfo(a,b,e);return this.marshalElementTypeInfo(a,c,e,b,d)},marshalElementTypeInfo:function(a,b,c,d,e){e.writeStartElement(c);Jsonix.Util.Type.exists(b.value)&&d.marshal(a,b.value,e);e.writeEndElement()},getElementTypeInfo:function(a,b,c){var d=
this.getPropertyElementTypeInfo(c);if(Jsonix.Util.Type.exists(d))return d.typeInfo;else{a=a.getElementInfo(c,b);if(Jsonix.Util.Type.exists(a))return a.typeInfo;else throw"Element ["+c.key+"] is not known in this context.";}},getPropertyElementTypeInfo:function(){throw"Abstract method [getPropertyElementTypeInfo].";},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);if(Jsonix.Util.Type.exists(b.value))throw"The structure already defines a value property.";else if(!Jsonix.Util.Type.exists(b.elements))b.elements=
{};if(Jsonix.Util.Type.exists(this.wrapperElementName))b.elements[this.wrapperElementName.key]=this;else this.buildStructureElements(a,b);if(this.mixed&&!Jsonix.Util.Type.exists(this.wrapperElementName))b.mixed=this},buildStructureElements:function(){throw"Abstract method [buildStructureElements].";},buildStructureElementTypeInfos:function(a,b,c){b.elements[c.elementName.key]=this;c=a.getSubstitutionMembers(c.elementName);if(Jsonix.Util.Type.isArray(c))for(var d=0;d<c.length;d++)this.buildStructureElementTypeInfos(a,
b,c[d])},CLASS_NAME:"Jsonix.Model.ElementRefPropertyInfo"});
Jsonix.Model.ElementRefPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementRefsPropertyInfo,{typeInfo:null,elementName:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementRefsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureObject(a.typeInfo);this.typeInfo=a.typeInfo;this.elementName=Jsonix.Util.Type.isObject(a.elementName)?a.elementName:new Jsonix.XML.QName(this.name)},getPropertyElementTypeInfo:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.localPart);
return Jsonix.XML.QName.fromObject(a).key===this.elementName.key?this:null},buildStructureElements:function(a,b){this.buildStructureElementTypeInfos(a,b,this)},CLASS_NAME:"Jsonix.Model.ElementRefPropertyInfo"});
Jsonix.Model.ElementRefsPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementRefsPropertyInfo,{elementTypeInfos:null,elementTypeInfosMap:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementRefsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureArray(a.elementTypeInfos);this.elementTypeInfos=a.elementTypeInfos;this.elementTypeInfosMap={};for(a=0;a<this.elementTypeInfos.length;a++){var b=this.elementTypeInfos[a];Jsonix.Util.Ensure.ensureObject(b);
this.elementTypeInfosMap[b.elementName.key]=b.typeInfo}},getPropertyElementTypeInfo:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.localPart);a=Jsonix.XML.QName.fromObject(a);var b=this.elementTypeInfosMap[a.key];return Jsonix.Util.Type.exists(b)?{elementName:a,typeInfo:b}:null},buildStructureElements:function(a,b){for(var c=0;c<this.elementTypeInfos.length;c++)this.buildStructureElementTypeInfos(a,b,this.elementTypeInfos[c])},CLASS_NAME:"Jsonix.Model.ElementRefsPropertyInfo"});
Jsonix.Model.AnyElementPropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{allowDom:true,allowTypedObject:true,mixed:true,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a]);this.allowDom=Jsonix.Util.Type.isBoolean(a.allowDom)?a.allowDom:true;this.allowTypedObject=Jsonix.Util.Type.isBoolean(a.allowTypedObject)?a.allowTypedObject:true;this.mixed=Jsonix.Util.Type.isBoolean(a.mixed)?a.mixed:true},unmarshal:function(a,b,c){var d=c.eventType;
if(d===Jsonix.XML.Input.START_ELEMENT)return this.unmarshalElement(a,b,c);else if(this.mixed&&(d===4||d===12||d===9)){a=c.getText();return this.collection?[a]:a}else if(this.mixed&&d===Jsonix.XML.Input.SPACE)return null;else if(d===Jsonix.XML.Input.COMMENT||d===Jsonix.XML.Input.PROCESSING_INSTRUCTION)return null;else throw"Illegal state: unexpected event type ["+d+"].";},unmarshalElement:function(a,b,c){var d=c.getName();if(this.allowTypedObject&&Jsonix.Util.Type.exists(a.getElementInfo(d,b))){b=
a.getElementInfo(d,b).typeInfo;a={name:d,value:b.unmarshal(a,c)}}else if(this.allowDom)a=c.getElement();else throw"Element ["+d.toString()+"] is not known in this context and property does not allow DOM.";return this.collection?[a]:a},marshal:function(a,b,c,d){if(Jsonix.Util.Type.exists(c))if(this.collection){Jsonix.Util.Ensure.ensureArray(c);for(b=0;b<c.length;b++)this.marshalItem(a,c[b],d)}else this.marshalItem(a,c,d)},marshalItem:function(a,b,c){if(this.mixed&&Jsonix.Util.Type.isString(b))c.writeCharacters(b);
else if(this.allowDom&&Jsonix.Util.Type.exists(b.nodeType))c.writeNode(b);else{var d=Jsonix.XML.QName.fromObject(b.name);if(this.allowTypedObject&&Jsonix.Util.Type.exists(a.getElementInfo(d))){var e=a.getElementInfo(d).typeInfo;c.writeStartElement(d);e.marshal(a,b.value,c);c.writeEndElement()}else throw"Element ["+d.toString()+"] is not known in this context";}},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);if(Jsonix.Util.Type.exists(b.value))throw"The structure already defines a value property.";
else if(!Jsonix.Util.Type.exists(b.elements))b.elements={};if(this.allowDom||this.allowTypedObject)b.any=this;if(this.mixed)b.mixed=this},CLASS_NAME:"Jsonix.Model.AnyElementPropertyInfo"});
Jsonix.Context=Jsonix.Class({elementInfos:null,properties:null,substitutionMembersMap:null,scopedElementInfosMap:null,initialize:function(a,b){this.elementInfos=[];this.properties={namespacePrefixes:{}};Jsonix.Util.Ensure.ensureArray(a);for(var c=0;c<a.length;c++){var d=a[c];Jsonix.Util.Ensure.ensureArray(d.elementInfos);for(var e=0;e<d.elementInfos.length;e++)this.elementInfos.push(d.elementInfos[e])}if(Jsonix.Util.Type.isObject(b))if(Jsonix.Util.Type.isObject(b.namespacePrefixes))this.properties.namespacePrefixes=
b.namespacePrefixes;this.substitutionMembersMap={};this.scopedElementInfosMap={};for(a=0;a<this.elementInfos.length;a++){b=this.elementInfos[a];if(Jsonix.Util.Type.exists(b.substitutionHead)){c=Jsonix.XML.QName.fromObject(b.substitutionHead).key;d=this.substitutionMembersMap[c];if(!Jsonix.Util.Type.isArray(d)){d=[];this.substitutionMembersMap[c]=d}d.push(b)}c=Jsonix.Util.Type.exists(b.scope)?b.scope.name:"##global";d=this.scopedElementInfosMap[c];if(!Jsonix.Util.Type.isObject(d)){d={};this.scopedElementInfosMap[c]=
d}d[b.elementName.key]=b}},getElementInfo:function(a,b){if(Jsonix.Util.Type.exists(b)){b=this.scopedElementInfosMap[b.name];if(Jsonix.Util.Type.exists(b)){b=b[a.key];if(Jsonix.Util.Type.exists(b))return b}}b=this.scopedElementInfosMap["##global"];if(Jsonix.Util.Type.exists(b)){a=b[a.key];if(Jsonix.Util.Type.exists(a))return a}return null},getSubstitutionMembers:function(a){return this.substitutionMembersMap[Jsonix.XML.QName.fromObject(a).key]},createMarshaller:function(){return new Jsonix.Context.Marshaller(this)},
createUnmarshaller:function(){return new Jsonix.Context.Unmarshaller(this)},CLASS_NAME:"Jsonix.Context"});
Jsonix.Context.Marshaller=Jsonix.Class({context:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);this.context=a},marshalString:function(a){a=this.marshalDocument(a);return Jsonix.DOM.serialize(a)},marshalDocument:function(a){var b=new Jsonix.XML.Output({namespacePrefixes:this.context.properties.namespacePrefixes}),c=b.writeStartDocument();this.marshalElementNode(a,b);b.writeEndDocument();return c},marshalElementNode:function(a,b){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureObject(a.name);
Jsonix.Util.Ensure.ensureString(a.name.localPart);Jsonix.Util.Ensure.ensureExists(a.value);var c=Jsonix.XML.QName.fromObject(a.name),d=this.context.getElementInfo(c);if(!Jsonix.Util.Type.exists(d))throw"Could not find element declaration for the element ["+c.key+"].";Jsonix.Util.Ensure.ensureObject(d.typeInfo);c=d.typeInfo;d=b.writeStartElement(a.name);c.marshal(this.context,a.value,b);b.writeEndElement();return d},CLASS_NAME:"Jsonix.Context.Marshaller"});
Jsonix.Context.Unmarshaller=Jsonix.Class({context:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);this.context=a},unmarshalString:function(a){Jsonix.Util.Ensure.ensureString(a);return this.unmarshalDocument(Jsonix.DOM.parse(a))},unmarshalURL:function(a,b,c){Jsonix.Util.Ensure.ensureString(a);Jsonix.Util.Ensure.ensureFunction(b);Jsonix.Util.Type.exists(c)&&Jsonix.Util.Ensure.ensureObject(c);that=this;Jsonix.DOM.load(a,function(d){b(that.unmarshalDocument(d))},c)},unmarshalDocument:function(a){a=
new Jsonix.XML.Input(a);a.nextTag();return this.unmarshalElementNode(a)},unmarshalElementNode:function(a){if(a.eventType!=1)throw"Parser must be on START_ELEMENT to read next text.";var b=null;b=Jsonix.XML.QName.fromObject(a.getName());var c=this.context.getElementInfo(b);if(!Jsonix.Util.Type.exists(c))throw"Could not find element declaration for the element ["+b.key+"].";Jsonix.Util.Ensure.ensureObject(c.typeInfo);a=c.typeInfo.unmarshal(this.context,a);return b={name:b,value:a}},CLASS_NAME:"Jsonix.Context.Unmarshaller"});
;
steal.end();
var PageMappings={};PageMappings.PagesCollection=new Jsonix.Model.ClassInfo({name:"PageMappings.PagesCollection"});PageMappings.PageType=new Jsonix.Model.ClassInfo({name:"PageMappings.PageType"});PageMappings.User=new Jsonix.Model.ClassInfo({name:"PageMappings.User"});PageMappings.CreatedModified=new Jsonix.Model.ClassInfo({name:"PageMappings.CreatedModified"});PageMappings.Published=new Jsonix.Model.ClassInfo({name:"PageMappings.Published"});PageMappings.Security=new Jsonix.Model.ClassInfo({name:"PageMappings.Security"});
PageMappings.Security.Owner=new Jsonix.Model.ClassInfo({name:"PageMappings.Security.Owner"});PageMappings.Locked=new Jsonix.Model.ClassInfo({name:"PageMappings.Locked"});PageMappings.Head=new Jsonix.Model.ClassInfo({name:"PageMappings.Head"});PageMappings.Head.Metadata=new Jsonix.Model.ClassInfo({name:"PageMappings.Head.Metadata"});PageMappings.Body=new Jsonix.Model.ClassInfo({name:"PageMappings.Body"});PageMappings.Body.Composer=new Jsonix.Model.ClassInfo({name:"PageMappings.Body.Composer"});
PageMappings.Body.Composer.Pagelet=new Jsonix.Model.ClassInfo({name:"PageMappings.Body.Composer.Pagelet"});PageMappings.Body.Composer.Pagelet.Locale=new Jsonix.Model.ClassInfo({name:"PageMappings.Body.Composer.Pagelet.Locale"});PageMappings.Body.Composer.Pagelet.Property=new Jsonix.Model.ClassInfo({name:"PageMappings.Body.Composer.Pagelet.Property"});
PageMappings.User.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"realm",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ValuePropertyInfo({name:"name",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];PageMappings.CreatedModified.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:PageMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"date",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];
PageMappings.Published.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:PageMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"from",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"to",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];PageMappings.Security.properties=[new Jsonix.Model.ElementPropertyInfo({name:"owner",typeInfo:PageMappings.Security.Owner})];
PageMappings.Security.Owner.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:PageMappings.User})];PageMappings.Locked.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:PageMappings.User})];PageMappings.PagesCollection.properties=[new Jsonix.Model.ElementPropertyInfo({name:"page",collection:true,typeInfo:PageMappings.PageType})];
PageMappings.PageType.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"path",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"version",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"head",typeInfo:PageMappings.Head}),new Jsonix.Model.ElementPropertyInfo({name:"body",typeInfo:PageMappings.Body})];
PageMappings.Head.properties=[new Jsonix.Model.ElementPropertyInfo({name:"template",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"layout",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"promote",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"index",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"metadata",typeInfo:PageMappings.Head.Metadata}),
new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:PageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"modified",typeInfo:PageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"published",typeInfo:PageMappings.Published}),new Jsonix.Model.ElementPropertyInfo({name:"security",typeInfo:PageMappings.Security}),new Jsonix.Model.ElementPropertyInfo({name:"locked",typeInfo:PageMappings.Locked})];
PageMappings.Head.Metadata.properties=[new Jsonix.Model.ElementMapPropertyInfo({name:"title",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"subject",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"series",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementMapPropertyInfo({name:"description",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"type",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementMapPropertyInfo({name:"coverage",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementMapPropertyInfo({name:"rights",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];
PageMappings.Body.properties=[new Jsonix.Model.ElementPropertyInfo({name:"composers",collection:true,elementName:new Jsonix.XML.QName("composer"),typeInfo:PageMappings.Body.Composer})];PageMappings.Body.Composer.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"pagelets",collection:true,elementName:new Jsonix.XML.QName("pagelet"),typeInfo:PageMappings.Body.Composer.Pagelet})];
PageMappings.Body.Composer.Pagelet.properties=[new Jsonix.Model.AttributePropertyInfo({name:"module",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"security",typeInfo:PageMappings.Security}),new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:PageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"published",typeInfo:PageMappings.Published}),
new Jsonix.Model.ElementPropertyInfo({name:"locale",collection:true,typeInfo:PageMappings.Body.Composer.Pagelet.Locale}),new Jsonix.Model.ElementPropertyInfo({name:"properties",typeInfo:PageMappings.Body.Composer.Pagelet.Property})];
PageMappings.Body.Composer.Pagelet.Locale.properties=[new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"original",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"modified",typeInfo:PageMappings.CreatedModified}),new Jsonix.Model.ElementMapPropertyInfo({name:"text",collection:true,key:new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];PageMappings.Body.Composer.Pagelet.Property.properties=[new Jsonix.Model.ElementMapPropertyInfo({name:"property",collection:true,key:new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];PageMappings.typeInfos=[PageMappings.Head];
PageMappings.elementInfos=[{elementName:new Jsonix.XML.QName("pages"),typeInfo:PageMappings.PagesCollection},{elementName:new Jsonix.XML.QName("page"),typeInfo:PageMappings.PageType},{elementName:new Jsonix.XML.QName("head"),typeInfo:PageMappings.Head},{elementName:new Jsonix.XML.QName("pagelet"),typeInfo:PageMappings.Body.Composer.Pagelet}];
;
steal.end();
var FileMappings={};FileMappings.FilesCollection=new Jsonix.Model.ClassInfo({name:"FileMappings.FilesCollection"});FileMappings.FileType=new Jsonix.Model.ClassInfo({name:"FileMappings.FileType"});FileMappings.User=new Jsonix.Model.ClassInfo({name:"FileMappings.User"});FileMappings.GPS=new Jsonix.Model.ClassInfo({name:"FileMappings.GPS"});FileMappings.CreatedModified=new Jsonix.Model.ClassInfo({name:"FileMappings.CreatedModified"});FileMappings.Published=new Jsonix.Model.ClassInfo({name:"FileMappings.Published"});
FileMappings.Security=new Jsonix.Model.ClassInfo({name:"FileMappings.Security"});FileMappings.Security.Owner=new Jsonix.Model.ClassInfo({name:"FileMappings.Security.Owner"});FileMappings.Locked=new Jsonix.Model.ClassInfo({name:"FileMappings.Locked"});FileMappings.Head=new Jsonix.Model.ClassInfo({name:"FileMappings.Head"});FileMappings.Head.Metadata=new Jsonix.Model.ClassInfo({name:"FileMappings.Head.Metadata"});FileMappings.Body=new Jsonix.Model.ClassInfo({name:"FileMappings.Body"});
FileMappings.Body.Content=new Jsonix.Model.ClassInfo({name:"FileMappings.Body.Content"});FileMappings.Body.Content.Video=new Jsonix.Model.ClassInfo({name:"FileMappings.Body.Content.Video"});FileMappings.Body.Content.Audio=new Jsonix.Model.ClassInfo({name:"FileMappings.Body.Content.Audio"});
FileMappings.User.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"realm",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ValuePropertyInfo({name:"name",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];FileMappings.GPS.properties=[new Jsonix.Model.AttributePropertyInfo({name:"lat",typeInfo:Jsonix.Schema.XSD.Double.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"lng",typeInfo:Jsonix.Schema.XSD.Double.INSTANCE})];
FileMappings.CreatedModified.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:FileMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"date",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];FileMappings.Published.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:FileMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"from",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"to",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];
FileMappings.Security.properties=[new Jsonix.Model.ElementPropertyInfo({name:"owner",typeInfo:FileMappings.Security.Owner})];FileMappings.Security.Owner.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:FileMappings.User})];FileMappings.Locked.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:FileMappings.User})];
FileMappings.FilesCollection.properties=[new Jsonix.Model.ElementPropertyInfo({name:"file",collection:true,typeInfo:FileMappings.FileType}),new Jsonix.Model.ElementPropertyInfo({name:"image",collection:true,typeInfo:FileMappings.FileType}),new Jsonix.Model.ElementPropertyInfo({name:"movie",collection:true,typeInfo:FileMappings.FileType})];
FileMappings.FileType.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"path",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"version",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"head",typeInfo:FileMappings.Head}),new Jsonix.Model.ElementPropertyInfo({name:"body",typeInfo:FileMappings.Body})];
FileMappings.Head.properties=[new Jsonix.Model.ElementPropertyInfo({name:"template",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"layout",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"promote",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"index",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"metadata",typeInfo:FileMappings.Head.Metadata}),
new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:FileMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"modified",typeInfo:FileMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"published",typeInfo:FileMappings.Published}),new Jsonix.Model.ElementPropertyInfo({name:"security",typeInfo:FileMappings.Security}),new Jsonix.Model.ElementPropertyInfo({name:"locked",typeInfo:FileMappings.Locked})];
FileMappings.Head.Metadata.properties=[new Jsonix.Model.ElementMapPropertyInfo({name:"title",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"subject",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"series",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementMapPropertyInfo({name:"description",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"type",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementMapPropertyInfo({name:"coverage",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementMapPropertyInfo({name:"rights",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];
FileMappings.Body.properties=[new Jsonix.Model.ElementPropertyInfo({name:"contents",collection:true,elementName:new Jsonix.XML.QName("content"),typeInfo:FileMappings.Body.Content})];
FileMappings.Body.Content.properties=[new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:FileMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"filename",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"source",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"external",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementPropertyInfo({name:"mimetype",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"size",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"width",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"height",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"author",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"datetaken",
typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"location",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"gps",typeInfo:FileMappings.GPS}),new Jsonix.Model.ElementPropertyInfo({name:"filmspeed",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"fnumber",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"focalwidth",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),
new Jsonix.Model.ElementPropertyInfo({name:"exposuretime",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"duration",typeInfo:Jsonix.Schema.XSD.Long.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"audio",typeInfo:FileMappings.Body.Content.Audio}),new Jsonix.Model.ElementPropertyInfo({name:"video",typeInfo:FileMappings.Body.Content.Video})];
FileMappings.Body.Content.Audio.properties=[new Jsonix.Model.ElementPropertyInfo({name:"bitdepth",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"bitrate",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"channels",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"samplingrate",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"format",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];
FileMappings.Body.Content.Video.properties=[new Jsonix.Model.ElementPropertyInfo({name:"bitrate",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"format",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"framerate",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"resolution",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"scantype",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];
FileMappings.typeInfos=[FileMappings.Head];FileMappings.elementInfos=[{elementName:new Jsonix.XML.QName("files"),typeInfo:FileMappings.FilesCollection},{elementName:new Jsonix.XML.QName("file"),typeInfo:FileMappings.FileType},{elementName:new Jsonix.XML.QName("image"),typeInfo:FileMappings.FileType},{elementName:new Jsonix.XML.QName("movie"),typeInfo:FileMappings.FileType},{elementName:new Jsonix.XML.QName("head"),typeInfo:FileMappings.Head},{elementName:new Jsonix.XML.QName("content"),typeInfo:FileMappings.Body.Content}];
;
steal.end();
var ImageMappings={};ImageMappings.ImagesCollection=new Jsonix.Model.ClassInfo({name:"ImageMappings.ImagesCollection"});ImageMappings.ImageType=new Jsonix.Model.ClassInfo({name:"ImageMappings.ImageType"});ImageMappings.User=new Jsonix.Model.ClassInfo({name:"ImageMappings.User"});ImageMappings.GPS=new Jsonix.Model.ClassInfo({name:"ImageMappings.GPS"});ImageMappings.CreatedModified=new Jsonix.Model.ClassInfo({name:"ImageMappings.CreatedModified"});ImageMappings.Published=new Jsonix.Model.ClassInfo({name:"ImageMappings.Published"});
ImageMappings.Security=new Jsonix.Model.ClassInfo({name:"ImageMappings.Security"});ImageMappings.Security.Owner=new Jsonix.Model.ClassInfo({name:"ImageMappings.Security.Owner"});ImageMappings.Locked=new Jsonix.Model.ClassInfo({name:"ImageMappings.Locked"});ImageMappings.Head=new Jsonix.Model.ClassInfo({name:"ImageMappings.Head"});ImageMappings.Head.Metadata=new Jsonix.Model.ClassInfo({name:"ImageMappings.Head.Metadata"});ImageMappings.Body=new Jsonix.Model.ClassInfo({name:"ImageMappings.Body"});
ImageMappings.Body.Content=new Jsonix.Model.ClassInfo({name:"ImageMappings.Body.Content"});ImageMappings.User.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"realm",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ValuePropertyInfo({name:"name",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];
ImageMappings.GPS.properties=[new Jsonix.Model.AttributePropertyInfo({name:"lat",typeInfo:Jsonix.Schema.XSD.Double.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"lng",typeInfo:Jsonix.Schema.XSD.Double.INSTANCE})];ImageMappings.CreatedModified.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:ImageMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"date",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];
ImageMappings.Published.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:ImageMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"from",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"to",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];ImageMappings.Security.properties=[new Jsonix.Model.ElementPropertyInfo({name:"owner",typeInfo:ImageMappings.Security.Owner})];
ImageMappings.Security.Owner.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:ImageMappings.User})];ImageMappings.Locked.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:ImageMappings.User})];ImageMappings.ImagesCollection.properties=[new Jsonix.Model.ElementPropertyInfo({name:"image",collection:true,typeInfo:ImageMappings.ImageType})];
ImageMappings.ImageType.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"path",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"version",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"head",typeInfo:ImageMappings.Head}),new Jsonix.Model.ElementPropertyInfo({name:"body",typeInfo:ImageMappings.Body})];
ImageMappings.Head.properties=[new Jsonix.Model.ElementPropertyInfo({name:"template",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"layout",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"promote",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"index",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"metadata",typeInfo:ImageMappings.Head.Metadata}),
new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:ImageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"modified",typeInfo:ImageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"published",typeInfo:ImageMappings.Published}),new Jsonix.Model.ElementPropertyInfo({name:"security",typeInfo:ImageMappings.Security}),new Jsonix.Model.ElementPropertyInfo({name:"locked",typeInfo:ImageMappings.Locked})];
ImageMappings.Head.Metadata.properties=[new Jsonix.Model.ElementMapPropertyInfo({name:"title",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"subject",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"series",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementMapPropertyInfo({name:"description",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"type",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementMapPropertyInfo({name:"coverage",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementMapPropertyInfo({name:"rights",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];
ImageMappings.Body.properties=[new Jsonix.Model.ElementPropertyInfo({name:"contents",collection:true,elementName:new Jsonix.XML.QName("content"),typeInfo:ImageMappings.Body.Content})];
ImageMappings.Body.Content.properties=[new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:ImageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"filename",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"source",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"external",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementPropertyInfo({name:"mimetype",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"size",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"width",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"height",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"author",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"datetaken",
typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"location",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"gps",typeInfo:FileMappings.GPS}),new Jsonix.Model.ElementPropertyInfo({name:"filmspeed",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"fnumber",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"focalwidth",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),
new Jsonix.Model.ElementPropertyInfo({name:"exposuretime",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE})];ImageMappings.typeInfos=[ImageMappings.Head];ImageMappings.elementInfos=[{elementName:new Jsonix.XML.QName("images"),typeInfo:ImageMappings.ImagesCollection},{elementName:new Jsonix.XML.QName("image"),typeInfo:ImageMappings.ImageType},{elementName:new Jsonix.XML.QName("head"),typeInfo:ImageMappings.Head},{elementName:new Jsonix.XML.QName("content"),typeInfo:ImageMappings.Body.Content}];
;
steal.end();
steal.plugins("jquery/controller","jquery/event/hover","jqueryui/sortable","jqueryui/mouse").models("../../models/page").css("composer").then("pagelet").then(function(a){a.Controller("Editor.Composer",{defaults:{connectWith:".composer",page:{}}},{init:function(e){this.id=this.element.attr("id");this.element.addClass("wbl-nojQuery");a(e).sortable({connectWith:this.options.connectWith,distance:15,placeholder:"wbl-pageletPlaceholder",items:"div.pagelet",tolerance:"pointer",cursor:"move",cursorAt:{top:-8,
left:-10},revert:true,start:a.proxy(function(c,b){this.element.find("img.wbl-iconEditing").remove();this.element.find("img.wbl-iconRemove").remove();this._disablePagelets();if(!b.item.hasClass("wbl-draggable")){c=b.item.attr("index");b.item.next();c=this.options.page.getPagelet(this.id,c);c=jQuery.extend(true,{},c);b.helper.data("pagelet",c)}},this),stop:a.proxy(function(){this._enablePagelets()},this),update:a.proxy(function(c,b){var f=this.options.page,g=this.id;this.element.hasClass("empty")&&
f.createComposer(g);c=jQuery.extend(true,[],f.getComposer(g).pagelets);if(b.item.hasClass("wbl-draggable")){var i={id:b.item.attr("id"),module:b.item.attr("module"),locale:[],properties:{property:{}},created:{user:{id:this.options.runtime.getUserLogin(),name:this.options.runtime.getUserName(),realm:this.options.runtime.getId()},date:new Date}};c.splice(b.item.index(),0,i);b.item.after('<div class="pagelet editor_pagelet" >');var h=b.item.next();b.item.remove()}else c=a.map(this.element.find(".pagelet"),
function(d){var j=a(d).attr("index");d=a(d).data("pagelet");if(d!=undefined)return d;return f.getPagelet(g,j)});f.updateComposer(g,c);this.update();b.item.hasClass("wbl-draggable")&&Workbench.getPageletEditor({id:f.value.id,language:this.options.language,composer:g,pagelet:h.attr("index")},a.proxy(function(d){a(d).find("editor:first").length||h.addClass("wbl-noEditor");h.editor_pagelet("_openPageEditor",d,true)},this))},this)});a(e).find("div.pagelet").editor_pagelet({composer:{id:this.id,page:this.options.page,
language:this.options.language,runtime:this.options.runtime}})},update:function(){var e=this.element.find("div.pagelet");if(e.length){this.element.removeClass("empty");e.editor_pagelet({composer:{id:this.id,page:this.options.page,language:this.options.language,runtime:this.options.runtime}})}else this.element.addClass("empty")},disable:function(){a(this.element).removeClass("wbl-nojQuery");a(this.element).sortable("disable");a(this.element).find("div.pagelet").editor_pagelet("disable").css("min-height",
"")},enable:function(){a(this.element).addClass("wbl-nojQuery");a(this.element).sortable("enable");a(this.element).find("div.pagelet").editor_pagelet("enable").css("min-height","35px")},hideGhostComposer:function(){a("div.#"+this.id+"-ghost").hide();a(this.element).show()},handleGhostComposer:function(){if(a(this.element).find("div.pagelet").length>0)a("div.#"+this.id+"-ghost").hide();else{a("div.#"+this.id+"-ghost").show();a(this.element).hide()}},_enablePagelets:function(){a(".composer:not(.locked)").editor_composer("enable")},
_disablePagelets:function(){a(".composer:not(.locked)").editor_composer("disable")},hoverenter:function(){a(this.element).hasClass("wbl-nojQuery")&&a(this.element).addClass("wbl-composerBorder")},hoverleave:function(){if(a(this.element).hasClass("wbl-nojQuery"))a(this.element).hasClass("empty")||a(this.element).removeClass("wbl-composerBorder")}})});
;
steal.end();
steal.plugins("jqueryui/core","jqueryui/widget","jqueryui/mouse").then("../lib/ui/jquery.ui.sortable.js");
;
steal.end();
(function(d){d.widget("ui.sortable",d.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");
this.refresh();this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData("sortable-item");return this},_setOption:function(a,b){if(a==="disabled"){this.options[a]=
b;this.widget().toggleClass("ui-sortable-disabled",!!b)}else d.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(a,b){if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(a);var c=null,e=this;d(a.target).parents().each(function(){if(d.data(this,"sortable-item")==e){c=d(this);return false}});if(d.data(a.target,"sortable-item")==e)c=d(a.target);if(!c)return false;if(this.options.handle&&!b){var f=false;d(this.options.handle,
c).find("*").andSelf().each(function(){if(this==a.target)f=true});if(!f)return false}this.currentItem=c;this._removeCurrentsFromItems();return true},_mouseStart:function(a,b,c){b=this.options;var e=this;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(a);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};
this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");d.extend(this.offset,{click:{left:a.pageX-this.offset.left,top:a.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(a);this.originalPageX=a.pageX;this.originalPageY=a.pageY;b.cursorAt&&this._adjustOffsetFromHelper(b.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&
this.currentItem.hide();this._createPlaceholder();b.containment&&this._setContainment();if(b.cursor){if(d("body").css("cursor"))this._storedCursor=d("body").css("cursor");d("body").css("cursor",b.cursor)}if(b.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");this.helper.css("opacity",b.opacity)}if(b.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",b.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!=
"HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",a,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!c)for(c=this.containers.length-1;c>=0;c--)this.containers[c]._trigger("activate",a,e._uiHash(this));if(d.ui.ddmanager)d.ui.ddmanager.current=this;d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(a);return true},_mouseDrag:function(a){this.position=
this._generatePosition(a);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs)this.lastPositionAbs=this.positionAbs;if(this.options.scroll){var b=this.options,c=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-a.pageY<b.scrollSensitivity)this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop+b.scrollSpeed;else if(a.pageY-this.overflowOffset.top<b.scrollSensitivity)this.scrollParent[0].scrollTop=
c=this.scrollParent[0].scrollTop-b.scrollSpeed;if(this.overflowOffset.left+this.scrollParent[0].offsetWidth-a.pageX<b.scrollSensitivity)this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft+b.scrollSpeed;else if(a.pageX-this.overflowOffset.left<b.scrollSensitivity)this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft-b.scrollSpeed}else{if(a.pageY-d(document).scrollTop()<b.scrollSensitivity)c=d(document).scrollTop(d(document).scrollTop()-b.scrollSpeed);else if(d(window).height()-
(a.pageY-d(document).scrollTop())<b.scrollSensitivity)c=d(document).scrollTop(d(document).scrollTop()+b.scrollSpeed);if(a.pageX-d(document).scrollLeft()<b.scrollSensitivity)c=d(document).scrollLeft(d(document).scrollLeft()-b.scrollSpeed);else if(d(window).width()-(a.pageX-d(document).scrollLeft())<b.scrollSensitivity)c=d(document).scrollLeft(d(document).scrollLeft()+b.scrollSpeed)}c!==false&&d.ui.ddmanager&&!b.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,a)}this.positionAbs=this._convertPositionTo("absolute");
if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(b=this.items.length-1;b>=0;b--){c=this.items[b];var e=c.item[0],f=this._intersectsWithPointer(c);if(f)if(e!=this.currentItem[0]&&this.placeholder[f==1?"next":"prev"]()[0]!=e&&!d.contains(this.placeholder[0],e)&&(this.options.type=="semi-dynamic"?!d.contains(this.element[0],e):true)){this.direction=f==1?"down":
"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(c))this._rearrange(a,c);else break;this._trigger("change",a,this._uiHash());break}}this._contactContainers(a);d.ui.ddmanager&&d.ui.ddmanager.drag(this,a);this._trigger("sort",a,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(a,b){if(a){d.ui.ddmanager&&!this.options.dropBehaviour&&d.ui.ddmanager.drop(this,a);if(this.options.revert){var c=this;b=c.placeholder.offset();c.reverting=true;d(this.helper).animate({left:b.left-
this.offset.parent.left-c.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:b.top-this.offset.parent.top-c.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){c._clear(a)})}else this._clear(a,b);return false}},cancel:function(){var a=this;if(this.dragging){this._mouseUp({target:null});this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):
this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--){this.containers[b]._trigger("deactivate",null,a._uiHash(this));if(this.containers[b].containerCache.over){this.containers[b]._trigger("out",null,a._uiHash(this));this.containers[b].containerCache.over=0}}}if(this.placeholder){this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();d.extend(this,{helper:null,
dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?d(this.domPosition.prev).after(this.currentItem):d(this.domPosition.parent).prepend(this.currentItem)}return this},serialize:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];a=a||{};d(b).each(function(){var e=(d(a.item||this).attr(a.attribute||"id")||"").match(a.expression||/(.+)[-=_](.+)/);if(e)c.push((a.key||e[1]+"[]")+"="+(a.key&&a.expression?e[1]:e[2]))});!c.length&&a.key&&c.push(a.key+"=");return c.join("&")},
toArray:function(a){var b=this._getItemsAsjQuery(a&&a.connected),c=[];a=a||{};b.each(function(){c.push(d(a.item||this).attr(a.attribute||"id")||"")});return c},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,e=this.positionAbs.top,f=e+this.helperProportions.height,g=a.left,h=g+a.width,i=a.top,k=i+a.height,j=this.offset.click.top,l=this.offset.click.left;j=e+j>i&&e+j<k&&b+l>g&&b+l<h;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||
this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?j:g<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<h&&i<e+this.helperProportions.height/2&&f-this.helperProportions.height/2<k},_intersectsWithPointer:function(a){var b=d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top,a.height);a=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left,a.width);b=b&&a;a=this._getDragVerticalDirection();
var c=this._getDragHorizontalDirection();if(!b)return false;return this.floating?c&&c=="right"||a=="down"?2:1:a&&(a=="down"?2:1)},_intersectsWithSides:function(a){var b=d.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height);a=d.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width);var c=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?e=="right"&&a||e=="left"&&!a:c&&(c=="down"&&b||c=="up"&&!b)},
_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return a!=0&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return a!=0&&(a>0?"right":"left")},refresh:function(a){this._refreshItems(a);this.refreshPositions();return this},_connectWith:function(){var a=this.options;return a.connectWith.constructor==String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(a){var b=[],c=[],e=this._connectWith();
if(e&&a)for(a=e.length-1;a>=0;a--)for(var f=d(e[a]),g=f.length-1;g>=0;g--){var h=d.data(f[g],"sortable");if(h&&h!=this&&!h.options.disabled)c.push([d.isFunction(h.options.items)?h.options.items.call(h.element):d(h.options.items,h.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),h])}c.push([d.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):d(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),
this]);for(a=c.length-1;a>=0;a--)c[a][0].each(function(){b.push(this)});return d(b)},_removeCurrentsFromItems:function(){for(var a=this.currentItem.find(":data(sortable-item)"),b=0;b<this.items.length;b++)for(var c=0;c<a.length;c++)a[c]==this.items[b].item[0]&&this.items.splice(b,1)},_refreshItems:function(a){this.items=[];this.containers=[this];var b=this.items,c=[[d.isFunction(this.options.items)?this.options.items.call(this.element[0],a,{item:this.currentItem}):d(this.options.items,this.element),
this]],e=this._connectWith();if(e)for(var f=e.length-1;f>=0;f--)for(var g=d(e[f]),h=g.length-1;h>=0;h--){var i=d.data(g[h],"sortable");if(i&&i!=this&&!i.options.disabled){c.push([d.isFunction(i.options.items)?i.options.items.call(i.element[0],a,{item:this.currentItem}):d(i.options.items,i.element),i]);this.containers.push(i)}}for(f=c.length-1;f>=0;f--){a=c[f][1];e=c[f][0];h=0;for(g=e.length;h<g;h++){i=d(e[h]);i.data("sortable-item",a);b.push({item:i,instance:a,width:0,height:0,left:0,top:0})}}},refreshPositions:function(a){if(this.offsetParent&&
this.helper)this.offset.parent=this._getParentOffset();for(var b=this.items.length-1;b>=0;b--){var c=this.items[b],e=this.options.toleranceElement?d(this.options.toleranceElement,c.item):c.item;if(!a){c.width=e.outerWidth();c.height=e.outerHeight()}e=e.offset();c.left=e.left;c.top=e.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(b=this.containers.length-1;b>=0;b--){e=this.containers[b].element.offset();this.containers[b].containerCache.left=
e.left;this.containers[b].containerCache.top=e.top;this.containers[b].containerCache.width=this.containers[b].element.outerWidth();this.containers[b].containerCache.height=this.containers[b].element.outerHeight()}return this},_createPlaceholder:function(a){var b=a||this,c=b.options;if(!c.placeholder||c.placeholder.constructor==String){var e=c.placeholder;c.placeholder={element:function(){var f=d(document.createElement(b.currentItem[0].nodeName)).addClass(e||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];
if(!e)f.style.visibility="hidden";return f},update:function(f,g){if(!(e&&!c.forcePlaceholderSize)){g.height()||g.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10));g.width()||g.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10))}}}}b.placeholder=d(c.placeholder.element.call(b.element,b.currentItem));b.currentItem.after(b.placeholder);
c.placeholder.update(b,b.placeholder)},_contactContainers:function(a){for(var b=null,c=null,e=this.containers.length-1;e>=0;e--)if(!d.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(!(b&&d.contains(this.containers[e].element[0],b.element[0]))){b=this.containers[e];c=e}}else if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",a,this._uiHash(this));this.containers[e].containerCache.over=0}if(b)if(this.containers.length===
1){this.containers[c]._trigger("over",a,this._uiHash(this));this.containers[c].containerCache.over=1}else if(this.currentContainer!=this.containers[c]){b=1E4;e=null;for(var f=this.positionAbs[this.containers[c].floating?"left":"top"],g=this.items.length-1;g>=0;g--)if(d.contains(this.containers[c].element[0],this.items[g].item[0])){var h=this.items[g][this.containers[c].floating?"left":"top"];if(Math.abs(h-f)<b){b=Math.abs(h-f);e=this.items[g]}}if(e||this.options.dropOnEmpty){this.currentContainer=
this.containers[c];e?this._rearrange(a,e,null,true):this._rearrange(a,null,this.containers[c].element,true);this._trigger("change",a,this._uiHash());this.containers[c]._trigger("change",a,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[c]._trigger("over",a,this._uiHash(this));this.containers[c].containerCache.over=1}}},_createHelper:function(a){var b=this.options;a=d.isFunction(b.helper)?d(b.helper.apply(this.element[0],[a,this.currentItem])):
b.helper=="clone"?this.currentItem.clone():this.currentItem;a.parents("body").length||d(b.appendTo!="parent"?b.appendTo:this.currentItem[0].parentNode)[0].appendChild(a[0]);if(a[0]==this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};if(a[0].style.width==""||b.forceHelperSize)a.width(this.currentItem.width());if(a[0].style.height==
""||b.forceHelperSize)a.height(this.currentItem.height());return a},_adjustOffsetFromHelper:function(a){if(typeof a=="string")a=a.split(" ");if(d.isArray(a))a={left:+a[0],top:+a[1]||0};if("left"in a)this.offset.click.left=a.left+this.margins.left;if("right"in a)this.offset.click.left=this.helperProportions.width-a.right+this.margins.left;if("top"in a)this.offset.click.top=a.top+this.margins.top;if("bottom"in a)this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=
this.helper.offsetParent();var a=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&d.contains(this.scrollParent[0],this.offsetParent[0])){a.left+=this.scrollParent.scrollLeft();a.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&d.browser.msie)a={top:0,left:0};return{top:a.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:a.left+(parseInt(this.offsetParent.css("borderLeftWidth"),
10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions=
{width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var a=this.options;if(a.containment=="parent")a.containment=this.helper[0].parentNode;if(a.containment=="document"||a.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,d(a.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(d(a.containment=="document"?document:window).height()||
document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(a.containment)){var b=d(a.containment)[0];a=d(a.containment).offset();var c=d(b).css("overflow")!="hidden";this.containment=[a.left+(parseInt(d(b).css("borderLeftWidth"),10)||0)+(parseInt(d(b).css("paddingLeft"),10)||0)-this.margins.left,a.top+(parseInt(d(b).css("borderTopWidth"),10)||0)+(parseInt(d(b).css("paddingTop"),10)||0)-this.margins.top,a.left+(c?Math.max(b.scrollWidth,
b.offsetWidth):b.offsetWidth)-(parseInt(d(b).css("borderLeftWidth"),10)||0)-(parseInt(d(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,a.top+(c?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(d(b).css("borderTopWidth"),10)||0)-(parseInt(d(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(a,b){if(!b)b=this.position;a=a=="absolute"?1:-1;var c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=
document&&d.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(c[0].tagName);return{top:b.top+this.offset.relative.top*a+this.offset.parent.top*a-(d.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:c.scrollTop())*a),left:b.left+this.offset.relative.left*a+this.offset.parent.left*a-(d.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():
e?0:c.scrollLeft())*a)}},_generatePosition:function(a){var b=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&d.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(c[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();var f=a.pageX,g=a.pageY;if(this.originalPosition){if(this.containment){if(a.pageX-
this.offset.click.left<this.containment[0])f=this.containment[0]+this.offset.click.left;if(a.pageY-this.offset.click.top<this.containment[1])g=this.containment[1]+this.offset.click.top;if(a.pageX-this.offset.click.left>this.containment[2])f=this.containment[2]+this.offset.click.left;if(a.pageY-this.offset.click.top>this.containment[3])g=this.containment[3]+this.offset.click.top}if(b.grid){g=this.originalPageY+Math.round((g-this.originalPageY)/b.grid[1])*b.grid[1];g=this.containment?!(g-this.offset.click.top<
this.containment[1]||g-this.offset.click.top>this.containment[3])?g:!(g-this.offset.click.top<this.containment[1])?g-b.grid[1]:g+b.grid[1]:g;f=this.originalPageX+Math.round((f-this.originalPageX)/b.grid[0])*b.grid[0];f=this.containment?!(f-this.offset.click.left<this.containment[0]||f-this.offset.click.left>this.containment[2])?f:!(f-this.offset.click.left<this.containment[0])?f-b.grid[0]:f+b.grid[0]:f}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(d.browser.safari&&
this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:c.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(d.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:c.scrollLeft())}},_rearrange:function(a,b,c,e){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?b.item[0]:b.item[0].nextSibling);this.counter=
this.counter?++this.counter:1;var f=this,g=this.counter;window.setTimeout(function(){g==f.counter&&f.refreshPositions(!e)},0)},_clear:function(a,b){this.reverting=false;var c=[];!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var e in this._storedCSS)if(this._storedCSS[e]=="auto"||this._storedCSS[e]=="static")this._storedCSS[e]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();
this.fromOutside&&!b&&c.push(function(f){this._trigger("receive",f,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!b)c.push(function(f){this._trigger("update",f,this._uiHash())});if(!d.contains(this.element[0],this.currentItem[0])){b||c.push(function(f){this._trigger("remove",f,this._uiHash())});for(e=this.containers.length-1;e>=0;e--)if(d.contains(this.containers[e].element[0],
this.currentItem[0])&&!b){c.push(function(f){return function(g){f._trigger("receive",g,this._uiHash(this))}}.call(this,this.containers[e]));c.push(function(f){return function(g){f._trigger("update",g,this._uiHash(this))}}.call(this,this.containers[e]))}}for(e=this.containers.length-1;e>=0;e--){b||c.push(function(f){return function(g){f._trigger("deactivate",g,this._uiHash(this))}}.call(this,this.containers[e]));if(this.containers[e].containerCache.over){c.push(function(f){return function(g){f._trigger("out",
g,this._uiHash(this))}}.call(this,this.containers[e]));this.containers[e].containerCache.over=0}}this._storedCursor&&d("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex)this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!b){this._trigger("beforeStop",a,this._uiHash());for(e=0;e<c.length;e++)c[e].call(this,a);this._trigger("stop",a,this._uiHash())}return false}b||
this._trigger("beforeStop",a,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!b){for(e=0;e<c.length;e++)c[e].call(this,a);this._trigger("stop",a,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){d.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},_uiHash:function(a){var b=a||this;return{helper:b.helper,placeholder:b.placeholder||d([]),position:b.position,
originalPosition:b.originalPosition,offset:b.positionAbs,item:b.currentItem,sender:a?a.element:null}}});d.extend(d.ui.sortable,{version:"@VERSION"})})(jQuery);
;
steal.end();
steal.then("jsonix").then(function(d){d.Model("Page",{findOne:function(a,c){var e=1;if("version"in a)e=a.version;if("path"in a)d.ajax("/system/weblounge/pages?details=true&path="+a.path+"&version="+e,{success:d.proxy(function(b){b=Page.parseXMLPage(b);if(b==null)Page.findOne({path:a.path,version:0},c);else{b=this.wrap(b);c(b)}},this),error:function(){Page.findOne({path:a.path,version:0},c)}});else"id"in a&&d.ajax("/system/weblounge/pages/"+a.id+"?version="+e,{success:this.callback(["parseXMLPage",
"wrap",c]),error:function(){Page.findOne({id:a.id,version:0},c)}})},findAll:function(a,c,e){var b="/system/weblounge/pages/?sort=created-asc&limit=0&offset=0";if("version"in a)b+="&version="+a.version;if("preferredversion"in a)b+="&preferredversion="+a.preferredversion;if("filter"in a)b+="&filter="+a.filter;d.ajax(b,{success:function(f){f=Page.parseXML(f);c(f.value.page)},error:e})},findRecent:function(a,c,e){var b="/system/weblounge/pages/?sort=modified-desc&limit=8&offset=0";if("version"in a)b+=
"&version="+a.version;if("preferredversion"in a)b+="&preferredversion="+a.preferredversion;if("filter"in a)b+="&filter="+a.filter;d.ajax(b,{success:function(f){f=Page.parseXML(f);c(f.value.page)},error:e})},findPending:function(a,c,e){var b="/system/weblounge/pages/pending?limit=0";if("filter"in a)b+="?filter="+a.filter;d.ajax(b,{success:function(f){f=Page.parseXML(f);c(f.value.page)},error:e})},findBySearch:function(a,c,e){var b="/system/weblounge/pages/?searchterms="+a.search+"&sort=modified-desc&limit=8&offset=0";
if("version"in a)b+="&version="+a.version;if("preferredversion"in a)b+="&preferredversion="+a.preferredversion;if("filter"in a)b+="&filter="+a.filter;d.ajax(b,{success:function(f){f=Page.parseXML(f);c(f.value.page)},error:e})},findReferrer:function(a,c,e){"id"in a&&d.ajax("/system/weblounge/pages/"+a.id+"/referrer",{success:function(b){b=Page.parseXML(b);c(b.value.page)},error:e})},update:function(a,c,e,b){var f={};if("eTag"in a)f={"If-Match":a.eTag};if("id"in a){var g=false;if("async"in a)g=a.async;
d.ajax({url:"/system/weblounge/pages/"+a.id,async:g,type:"put",success:e,error:b,headers:f,dataType:"xml",data:{content:Page.parseJSON(c)}})}},create:function(a,c,e){if("path"in a){var b={path:a.path};if("content"in a)b={path:a.path,content:Page.parseJSON(a.content)};var f=false;if("async"in a)f=a.async;d.ajax({url:"/system/weblounge/pages/",async:f,type:"post",dataType:"xml",data:b,success:function(g,i,h){g=h.getResponseHeader("Location");Page.findOne({id:g.substring(g.lastIndexOf("/")+1)},c)},error:e})}},
destroy:function(a,c,e){"id"in a&&d.ajax({url:"/system/weblounge/pages/"+a.id,type:"delete",success:c,error:e})},lock:function(a,c,e){var b={},f={user:""};if("eTag"in a)b={"If-Match":a.eTag};if("user"in a)f.user=a.user;"id"in a&&d.ajax({url:"/system/weblounge/pages/"+a.id+"/lock",type:"put",success:c,error:e,headers:b,dataType:"xml",data:f})},unlock:function(a,c,e){"id"in a&&d.ajax({url:"/system/weblounge/pages/"+a.id+"/lock",type:"delete",success:c,error:e})},publish:function(a,c,e){var b={},f={startdate:"",
enddate:""};if("eTag"in a)b={"If-Match":a.eTag};if("startdate"in a)f.startdate=a.startdate;if("enddate"in a)f.enddate=a.enddate;"id"in a&&d.ajax({url:"/system/weblounge/pages/"+a.id+"/publish",type:"put",success:c,error:e,headers:b,dataType:"xml",data:f})},unpublish:function(a,c,e){"id"in a&&d.ajax({url:"/system/weblounge/pages/"+a.id+"/publish",type:"delete",success:c,error:e})},parseXML:function(a){return Editor.Jsonix.context().createUnmarshaller().unmarshalDocument(a)},parseXMLPage:function(a){a=
d(a).find("page")[0];if(a==undefined)return null;return Editor.Jsonix.context().createUnmarshaller().unmarshalDocument(a)},parseJSON:function(a){return Editor.Jsonix.context().createMarshaller().marshalString(a)}},{getComposer:function(a){var c;d.each(this.value.body.composers,function(e,b){if(b.id==a){c=b;return false}});return c},isLocked:function(){if(d.isEmptyObject(this.value.head.locked))return false;return true},publish:function(a,c){Page.publish({id:this.value.id},a,c)},unpublish:function(a,
c){Page.unpublish({id:this.value.id},a,c)},isLockedUser:function(a){if(d.isEmptyObject(this.value.head.locked))return false;if(this.value.head.locked.user.id==a)return true;return false},lock:function(a,c,e){Page.lock({id:this.value.id,user:a},d.proxy(function(){Page.findOne({id:this.value.id},d.proxy(function(b){this.value=b.value;c()},this))},this),e)},unlock:function(a){Page.unlock({id:this.value.id},d.proxy(function(){delete this.value.head.locked;a()},this))},getLockOwner:function(){if(!d.isEmptyObject(this.value.head.locked)){if(!d.isEmptyObject(this.value.head.locked.user.name))return this.value.head.locked.user.name;
return this.value.head.locked.user.id}},getPath:function(){return this.value.path},getTemplate:function(){return this.value.head.template},getVersion:function(){return this.value.version},isWorkVersion:function(){return this.value.version=="work"},getTitle:function(a){if(d.isEmptyObject(this.value.head.metadata))return"";if(d.isEmptyObject(this.value.head.metadata.title))return"";if(d.isEmptyObject(this.value.head.metadata.title[a]))return"";return this.value.head.metadata.title[a]},getDescription:function(a){if(d.isEmptyObject(this.value.head.metadata))return"";
if(d.isEmptyObject(this.value.head.metadata.description))return"";if(d.isEmptyObject(this.value.head.metadata.description[a]))return"";return this.value.head.metadata.description[a]},getTags:function(){if(d.isEmptyObject(this.value.head.metadata))return"";if(d.isEmptyObject(this.value.head.metadata.subject))return"";return this.value.head.metadata.subject},getComposerIndex:function(a){var c=-1;d.each(this.value.body.composers,function(e,b){if(b.id==a){c=e;return false}});return c},deletePagelet:function(a,
c){this.getComposer(a).pagelets.splice(c,1);Page.update({id:this.value.id},this)},getPagelet:function(a,c){return this.getComposer(a).pagelets[c]},createComposer:function(a){if(d.isEmptyObject(this.value.body.composers))this.value.body.composers=[];if(d.isEmptyObject(this.value.body.composers.pagelets))this.value.body.composers.pagelets=[];this.getComposerIndex(a)==-1&&this.value.body.composers.push({id:a})},updateComposer:function(a,c){this.value.body.composers[this.getComposerIndex(a)].pagelets=
c;Page.update({id:this.value.id},this)},getEditorPagelet:function(a,c,e){a=this.getPagelet(a,c);var b=jQuery.extend(true,{},a);if(d.isEmptyObject(b.locale))return b;d.each(b.locale,function(f,g){if(g.language==e)b.locale.current=g;if(g.original==true)b.locale.original=g});return b},insertPagelet:function(a,c,e,b){delete a.locale.current;delete a.locale.original;this.value.body.composers[this.getComposerIndex(c)].pagelets[e]=a;Page.update({id:this.value.id,async:false},this,b)},saveMetadata:function(a,
c,e){if(d.isEmptyObject(this.value.head.metadata))this.value.head.metadata={};if(d.isEmptyObject(this.value.head.metadata.title))this.value.head.metadata.title={};if(d.isEmptyObject(this.value.head.metadata.description))this.value.head.metadata.description={};if(d.isEmptyObject(this.value.head.metadata.subject))this.value.head.metadata.subject=[];this.value.path=a.url;this.value.head.template=a.layout;this.value.head.metadata.title[c]=a.title;this.value.head.metadata.description[c]=a.description;
this.value.head.metadata.subject=a.tags.split(/\s*,\s*/).filter(function(b){return b!=""});Page.update({id:this.value.id},this,e)}})});
;
steal.end();
steal.plugins("jquery/model").resources("../../resources/Jsonix-all-1.1-SNAPSHOT").then("page-mappings","file-mappings","image-mappings").then(function(a){a.Class("Editor.Jsonix",{context:function(){return new Jsonix.Context([PageMappings,FileMappings,ImageMappings],{})}},{})});
;
steal.end();
var Jsonix={singleFile:true};Jsonix.Util={};Jsonix.Util.extend=function(a,b){a=a||{};if(b){for(var c in b){var d=b[c];if(d!==undefined)a[c]=d}if(!(typeof window.Event=="function"&&b instanceof window.Event)&&b.hasOwnProperty&&b.hasOwnProperty("toString"))a.toString=b.toString}return a};
Jsonix.Class=function(){for(var a=function(){this.initialize.apply(this,arguments)},b={},c=function(){},d,e,f=0,g=arguments.length;f<g;++f){e=arguments[f];if(typeof e=="function"){if(f===0&&g>1){d=e.prototype.initialize;e.prototype.initialize=c;b=new e;if(d===undefined)delete e.prototype.initialize;else e.prototype.initialize=d}d=e.prototype}else d=e;Jsonix.Util.extend(b,d)}a.prototype=b;return a};Jsonix.XML={};
Jsonix.DOM={createDocument:function(){return document.implementation&&document.implementation.createDocument?document.implementation.createDocument("","",null):new ActiveXObject("MSXML2.DOMDocument")},serialize:function(a){Jsonix.Util.Ensure.ensureExists(a);if(typeof XMLSerializer!=="undefined")return(new XMLSerializer).serializeToString(a);else if(Jsonix.Util.Type.exists(a.xml))return a.xml;else throw"Could not serialize the node, neither XMLSerializer nor the [xml] property were found.";},parse:function(a){Jsonix.Util.Ensure.ensureExists(a);
if(typeof DOMParser!="undefined")return(new DOMParser).parseFromString(a,"application/xml");else if(typeof ActiveXObject!="undefined"){var b=Jsonix.DOM.createDocument("","");b.loadXML(a);return b}else{a="data:text/xml;charset=utf-8,"+encodeURIComponent(a);b=new XMLHttpRequest;b.open("GET",a,false);b.overrideMimeType&&b.overrideMimeType("text/xml");b.send(null);return b.responseXML}},load:function(a,b,c){Jsonix.Request.INSTANCE.issue(a,function(d){if(Jsonix.Util.Type.exists(d.responseXML)&&Jsonix.Util.Type.exists(d.responseXML.documentElement))d=
d.responseXML;else if(Jsonix.Util.Type.isString(d.responseText))d=Jsonix.DOM.parse(d.responseText);else throw"Response does not have valid [responseXML] or [responseText].";b(d)},function(){throw"Could not retrieve XML from URL ["+a+"].";},c)}};
Jsonix.Request=Jsonix.Class({factories:[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],initialize:function(){},issue:function(a,b,c,d){Jsonix.Util.Ensure.ensureString(a);if(Jsonix.Util.Type.exists(b))Jsonix.Util.Ensure.ensureFunction(b);else b=function(){};if(Jsonix.Util.Type.exists(c))Jsonix.Util.Ensure.ensureFunction(c);
else c=function(){};if(Jsonix.Util.Type.exists(d))Jsonix.Util.Ensure.ensureObject(d);else d={};var e=this.createTransport(),f=Jsonix.Util.Type.isString(d.method)?d.method:"GET",g=Jsonix.Util.Type.isBoolean(d.async)?d.async:true,l=Jsonix.Util.Type.isString(d.proxy)?d.proxy:Jsonix.Request.PROXY,h=Jsonix.Util.Type.isString(d.user)?d.user:null,i=Jsonix.Util.Type.isString(d.password)?d.password:null;if(Jsonix.Util.Type.isString(l)&&a.indexOf("http")===0)a=l+encodeURIComponent(a);Jsonix.Util.Type.isString(h)?
e.open(f,a,g,h,i):e.open(f,a,g);if(Jsonix.Util.Type.isObject(d.headers))for(var j in d.headers)d.headers.hasOwnProperty(j)&&e.setRequestHeader(j,d.headers[j]);var k=Jsonix.Util.Type.exists(d.data)?d.data:null;if(g){var m=this;e.onreadystatechange=function(){m.handleTransport(e,b,c)};window.setTimeout(function(){e.send(k)},0)}else{e.send(k);this.handleTransport(e,b,c)}return e},handleTransport:function(a,b,c){if(a.readyState==4){if(!a.status||a.status>=200&&a.status<300)b(a);if(a.status&&(a.status<
200||a.status>=300))c(a)}},createTransport:function(){for(var a=0,b=this.factories.length;a<b;a++)try{return this.factories[a]()}catch(c){}throw"Could not create XML HTTP transport.";},CLASS_NAME:"Jsonix.Request"});Jsonix.Request.INSTANCE=new Jsonix.Request;Jsonix.Request.PROXY=null;Jsonix.Schema={};Jsonix.Model={};
Jsonix.Util.Type={exists:function(a){return typeof a!=="undefined"&&a!==null},isString:function(a){return typeof a==="string"},isBoolean:function(a){return typeof a==="boolean"},isObject:function(a){return typeof a==="object"},isFunction:function(a){return typeof a==="function"},isNumber:function(a){return typeof a==="number"&&!isNaN(a)},isNumberOrNaN:function(a){return a===+a||Object.prototype.toString.call(a)==="[object Number]"},isNaN:function(a){return Jsonix.Util.Type.isNumberOrNaN(a)&&isNaN(a)},
isArray:function(a){return!!(a&&a.concat&&a.unshift&&!a.callee)},isDate:function(a){return!!(a&&a.getTimezoneOffset&&a.setUTCFullYear)},isRegExp:function(a){return!!(a&&a.test&&a.exec&&(a.ignoreCase||a.ignoreCase===false))},equals:function(a,b,c){var d=Jsonix.Util.Type.isFunction(c),e=function(){var i=slice.call(arguments),j=i.length<=1,k=j?0:i[0],m=i[2]||1;i=Math.max(Math.ceil(((j?i[0]:i[1])-k)/m),0);j=0;for(var n=new Array(i);j<i;){n[j++]=k;k+=m}return n},f=Object.keys||function(i){if(Jsonix.Util.Type.isArray(i))return e(0,
i.length);var j=[];for(var k in i)if(i.hasOwnProperty(k))j[j.length]=k;return j};if(a===b)return true;if(Jsonix.Util.Type.isNaN(a)&&Jsonix.Util.Type.isNaN(b))return true;var g=typeof a,l=typeof b;if(g!=l){d&&c("Types differ ["+g+"], ["+l+"].");return false}if(a==b)return true;if(!a&&b||a&&!b){d&&c("One is falsy, the other is truthy.");return false}if(Jsonix.Util.Type.isDate(a)&&Jsonix.Util.Type.isDate(b))return a.getTime()===b.getTime();if(Jsonix.Util.Type.isNaN(a)&&Jsonix.Util.Type.isNaN(b))return false;
if(Jsonix.Util.Type.isRegExp(a)&&Jsonix.Util.Type.isRegExp(b))return a.source===b.source&&a.global===b.global&&a.ignoreCase===b.ignoreCase&&a.multiline===b.multiline;if(g!=="object")return false;if(a.length&&a.length!==b.length)return false;g=f(a);f=f(b);if(g.length!=f.length){d&&c("Different number of properties ["+g.length+"], ["+f.length+"].");for(var h=0;h<g.length;h++)d&&c("A ["+g[h]+"]="+a[g[h]]);for(a=0;a<f.length;a++)d&&c("B ["+f[a]+"]="+b[f[a]]);return false}for(h in a)if(a.hasOwnProperty[h])if(!(h in
b)||!Jsonix.Util.Type.isEqual(a[h],b[h])){if(d){c("One of the properties differ.");c("Key: ["+h+"].");c("Left: ["+a[h]+"].");c("Right: ["+b[h]+"].")}return false}return true}};Jsonix.Util.NumberUtils={isInteger:function(a){return Jsonix.Util.Type.isNumber(a)&&a%1===0}};
Jsonix.Util.StringUtils={trim:function(a){Jsonix.Util.Ensure.ensureString(a);return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},isEmpty:function(a){return Jsonix.Util.StringUtils.trim(a).length===0},isBlank:function(a){return!Jsonix.Util.Type.exists(a)||Jsonix.Util.StringUtils.trim(a).length===0},isNotBlank:function(a){return Jsonix.Util.Type.isString(a)&&Jsonix.Util.StringUtils.trim(a).length!==0}};
Jsonix.Util.Ensure={ensureBoolean:function(a){if(!Jsonix.Util.Type.isBoolean(a))throw"Argument ["+a+"] must be a boolean.";},ensureString:function(a){if(!Jsonix.Util.Type.isString(a))throw"Argument ["+a+"] must be a string.";},ensureNumber:function(a){if(!Jsonix.Util.Type.isNumber(a))throw"Argument ["+a+"] must be a number.";},ensureNumberOrNaN:function(a){if(!Jsonix.Util.Type.isNumberOrNaN(a))throw"Argument ["+a+"] must be a number or NaN.";},ensureInteger:function(a){if(Jsonix.Util.Type.isNumber(a)){if(!Jsonix.Util.NumberUtils.isInteger(a))throw"Argument ["+
a+"] must be an integer.";}else throw"Argument must be an integer, but it is not a number.";},ensureDate:function(a){if(!(a instanceof Date))throw"Argument ["+a+"] must be a date.";},ensureObject:function(a){if(!Jsonix.Util.Type.isObject(a))throw"Argument ["+a+"] must be an object.";},ensureArray:function(a){if(!Jsonix.Util.Type.isArray(a))throw"Argument ["+a+"] must be an array.";},ensureFunction:function(a){if(!Jsonix.Util.Type.isFunction(a))throw"Argument ["+a+"] must be a function.";},ensureExists:function(a){if(!Jsonix.Util.Type.exists(a))throw"Argument ["+
a+"] does not exist.";}};
Jsonix.XML.QName=Jsonix.Class({key:null,namespaceURI:null,localPart:null,prefix:null,string:null,initialize:function(a,b,c){var d;if(Jsonix.Util.Type.exists(b))if(Jsonix.Util.Type.exists(c)){d=Jsonix.Util.Type.exists(a)?a:"";b=b;c=Jsonix.Util.Type.exists(c)?c:""}else{d=Jsonix.Util.Type.exists(a)?a:"";a=b.indexOf(":");if(a>0&&a<b.length){c=b.substring(0,a);b=b.substring(a+1)}else{c="";b=b}}else{d="";b=a;c=""}this.namespaceURI=d;this.localPart=b;this.prefix=c;this.key=(d!==""?"{"+d+"}":"")+b;this.string=
(d!==""?"{"+d+"}":"")+(c!==""?c+":":"")+b},toString:function(){return this.string},clone:function(){return new Jsonix.XML.QName(this.namespaceURI,this.localPart,this.prefix)},equals:function(a){return a?this.namespaceURI==a.namespaceURI&&this.localPart==a.localPart:false},CLASS_NAME:"Jsonix.XML.QName"});
Jsonix.XML.QName.fromString=function(a){var b=a.indexOf("{"),c=a.lastIndexOf("}");if(b===0&&c>0&&c<a.length){b=a.substring(1,c);c=a.substring(c+1)}else{b="";c=a}var d=c.indexOf(":");if(d>0&&d<c.length){a=c.substring(0,d);c=c.substring(d+1)}else{a="";c=c}return new Jsonix.XML.QName(b,c,a)};
Jsonix.XML.QName.fromObject=function(a){Jsonix.Util.Ensure.ensureObject(a);if(Jsonix.Util.Type.isString(a.CLASS_NAME)&&a.CLASS_NAME==="Jsonix.XML.QName")return a;Jsonix.Util.Ensure.ensureString(a.localPart);var b=Jsonix.Util.Type.isString(a.namespaceURI)?a.namespaceURI:"",c=a.localPart;a=Jsonix.Util.Type.isString(a.prefix)?a.prefix:"";return new Jsonix.XML.QName(b,c,a)};Jsonix.XML.QName.key=function(a,b){Jsonix.Util.Ensure.ensureString(b);return Jsonix.Util.StringUtils.isNotBlank(a)?"{"+a+"}"+b:b};
Jsonix.XML.Calendar=Jsonix.Class({year:NaN,month:NaN,day:NaN,hour:NaN,minute:NaN,second:NaN,fractionalSecond:NaN,timezone:NaN,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);if(Jsonix.Util.Type.exists(a.year)){Jsonix.Util.Ensure.ensureInteger(a.year);if(a.year>=-9999&&a.year<=9999)this.year=a.year;else throw"Invalid year ["+a.year+"].";}else this.year=NaN;if(Jsonix.Util.Type.exists(a.month)){Jsonix.Util.Ensure.ensureInteger(a.month);if(a.month>=1&&a.month<=12)this.month=a.month;else throw"Invalid month ["+
a.month+"].";}else this.month=NaN;if(Jsonix.Util.Type.exists(a.day)){Jsonix.Util.Ensure.ensureInteger(a.day);if(a.day>=1&&a.day<=31)this.day=a.day;else throw"Invalid day ["+a.day+"].";}else this.day=NaN;if(Jsonix.Util.Type.exists(a.hour)){Jsonix.Util.Ensure.ensureInteger(a.hour);if(a.hour>=0&&a.hour<=23)this.hour=a.hour;else throw"Invalid hour ["+a.hour+"].";}else this.hour=NaN;if(Jsonix.Util.Type.exists(a.minute)){Jsonix.Util.Ensure.ensureInteger(a.minute);if(a.minute>=0&&a.minute<=59)this.minute=
a.minute;else throw"Invalid minute ["+a.minute+"].";}else this.minute=NaN;if(Jsonix.Util.Type.exists(a.second)){Jsonix.Util.Ensure.ensureInteger(a.second);if(a.second>=0&&a.second<=59)this.second=a.second;else throw"Invalid second ["+a.second+"].";}else this.second=NaN;if(Jsonix.Util.Type.exists(a.fractionalSecond)){Jsonix.Util.Ensure.ensureNumber(a.fractionalSecond);if(a.fractionalSecond>=0&&a.fractionalSecond<1)this.fractionalSecond=a.fractionalSecond;else throw"Invalid fractional second ["+a.fractionalSecond+
"].";}else this.fractionalSecond=NaN;if(Jsonix.Util.Type.exists(a.timezone))if(Jsonix.Util.Type.isNaN(a.timezone))this.timezone=NaN;else{Jsonix.Util.Ensure.ensureInteger(a.timezone);if(a.timezone>=-1440&&a.timezone<1440)this.timezone=a.timezone;else throw"Invalid timezone ["+a.timezone+"].";}else this.timezone=NaN},CLASS_NAME:"Jsonix.XML.Calendar"});
Jsonix.XML.Calendar.fromObject=function(a){Jsonix.Util.Ensure.ensureObject(a);if(Jsonix.Util.Type.isString(a.CLASS_NAME)&&a.CLASS_NAME==="Jsonix.XML.Calendar")return a;return new Jsonix.XML.Calendar(a)};
Jsonix.XML.Input=Jsonix.Class({root:null,node:null,eventType:null,initialize:function(a){Jsonix.Util.Ensure.ensureExists(a);this.root=a},hasNext:function(){return this.node===null?true:this.node===this.root?this.node.nodeType===9&&this.eventType===8?false:this.node.nodeType===1&&this.eventType===2?false:true:true},next:function(){if(this.eventType===null)return this.enter(this.root);return this.eventType===7?Jsonix.Util.Type.exists(this.node.documentElement)?this.enter(this.node.documentElement):
this.leave(this.node):this.eventType===1?Jsonix.Util.Type.exists(this.node.firstChild)?this.enter(this.node.firstChild):this.leave(this.node):this.eventType===2?Jsonix.Util.Type.exists(this.node.nextSibling)?this.enter(this.node.nextSibling):this.leave(this.node):this.leave(this.node)},enter:function(a){var b=a.nodeType;if(b===1){this.node=a;return this.eventType=1}else if(b===2){this.node=a;return this.eventType=10}else if(b===3){this.node=a;return this.eventType=Jsonix.Util.StringUtils.isEmpty(a.nodeValue)?
6:4}else if(b===4){this.node=a;return this.eventType=12}else if(b===5){this.node=a;return this.eventType=9}else if(b===6){this.node=a;return this.eventType=15}else if(b===7){this.node=a;return this.eventType=3}else if(b===8){this.node=a;return this.eventType=5}else if(b===9){this.node=a;return this.eventType=7}else if(b===10){this.node=a;return this.eventType=12}else if(b===12){this.node=a;return this.eventType=14}else throw"Node type ["+b+"] is not supported.";},leave:function(a){if(a.nodeType===
9)if(this.eventType==8)throw"Invalid state.";else{this.node=a;return this.eventType=8}else if(a.nodeType===1)if(this.eventType==2){if(Jsonix.Util.Type.exists(a.nextSibling))return this.enter(a.nextSibling)}else{this.node=a;return this.eventType=2}if(Jsonix.Util.Type.exists(a.nextSibling))return this.enter(a.nextSibling);else{this.node=a=a.parentNode;return this.eventType=a.nodeType===9?8:2}},getName:function(){var a=this.node;return Jsonix.Util.Type.isString(a.nodeName)?Jsonix.Util.Type.isString(a.namespaceURI)?
new Jsonix.XML.QName(a.namespaceURI,a.nodeName):new Jsonix.XML.QName(a.nodeName):null},getText:function(){return this.node.nodeValue},nextTag:function(){for(var a=this.next();a===7||a===4||a===12||a===6||a===3||a===5;)a=this.next();if(a!==1&&a!==2)throw"Expected start or end tag.";return a},getElementText:function(){if(this.eventType!=1)throw"Parser must be on START_ELEMENT to read next text.";for(var a=this.next(),b="";a!==2;){if(a===4||a===12||a===6||a===9)b+=this.getText();else if(!(a===3||a===
5))if(a===8)throw"Unexpected end of document when reading element text content.";else if(a===1)throw"Element text content may not contain START_ELEMENT.";else throw"Unexpected event type ["+a+"].";a=this.next()}return b},getAttributeCount:function(){var a;if(this.eventType===1)a=this.node.attributes;else if(this.eventType===10)a=this.node.parentNode.attributes;else throw"Number of attributes can only be retrieved for START_ELEMENT or ATTRIBUTE.";return a.length},getAttributeName:function(a){var b;
if(this.eventType===1)b=this.node.attributes;else if(this.eventType===10)b=this.node.parentNode.attributes;else throw"Number of attributes can only be retrieved for START_ELEMENT or ATTRIBUTE.";if(a<0||a>=b.length)throw"Invalid attribute index ["+a+"].";a=b[a];return Jsonix.Util.Type.isString(a.namespaceURI)?new Jsonix.XML.QName(a.namespaceURI,a.nodeName):new Jsonix.XML.QName(a.nodeName)},getAttributeValue:function(a){var b;if(this.eventType===1)b=this.node.attributes;else if(this.eventType===10)b=
this.node.parentNode.attributes;else throw"Number of attributes can only be retrieved for START_ELEMENT or ATTRIBUTE.";if(a<0||a>=b.length)throw"Invalid attribute index ["+a+"].";return b[a].nodeValue},getElement:function(){if(this.eventType===1||this.eventType===2){this.eventType=2;return this.node}else throw"Parser must be on START_ELEMENT or END_ELEMENT to return current element.";},CLASS_NAME:"Jsonix.XML.Input"});Jsonix.XML.Input.START_ELEMENT=1;Jsonix.XML.Input.END_ELEMENT=2;
Jsonix.XML.Input.PROCESSING_INSTRUCTION=3;Jsonix.XML.Input.CHARACTERS=4;Jsonix.XML.Input.COMMENT=5;Jsonix.XML.Input.SPACE=6;Jsonix.XML.Input.START_DOCUMENT=7;Jsonix.XML.Input.END_DOCUMENT=8;Jsonix.XML.Input.ENTITY_REFERENCE=9;Jsonix.XML.Input.ATTRIBUTE=10;Jsonix.XML.Input.DTD=11;Jsonix.XML.Input.CDATA=12;Jsonix.XML.Input.NAMESPACE=13;Jsonix.XML.Input.NOTATION_DECLARATION=14;Jsonix.XML.Input.ENTITY_DECLARATION=15;
Jsonix.XML.Output=Jsonix.Class({document:null,node:null,nodes:null,xmldom:null,namespacePrefixes:null,namespacePrefixIndex:0,initialize:function(a){this.xmldom=window.ActiveXObject?new ActiveXObject("Microsoft.XMLDOM"):null;this.nodes=[];this.namespacePrefixes={"":""};if(Jsonix.Util.Type.isObject(a))if(Jsonix.Util.Type.isObject(a.namespacePrefixes))for(var b in a.namespacePrefixes)if(a.namespacePrefixes.hasOwnProperty(b))this.namespacePrefixes[b]=a.namespacePrefixes[b]},destroy:function(){this.xmldom=
null},writeStartDocument:function(){var a=Jsonix.DOM.createDocument();this.document=a;return this.push(a)},writeEndDocument:function(){return this.pop()},writeStartElement:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.localPart);var b=Jsonix.Util.Type.isString(a.namespaceURI)?a.namespaceURI:"",c=a.localPart;a=Jsonix.Util.StringUtils.isNotBlank(a.prefix)?a.prefix:this.getPrefix(b);c=a===""?c:a+":"+c;b=this.xmldom?this.xmldom.createNode(1,c,b):this.document.createElementNS(b,
c);this.peek().appendChild(b);return this.push(b)},writeEndElement:function(){return this.pop()},writeCharacters:function(a){a=this.xmldom?this.xmldom.createTextNode(a):this.document.createTextNode(a);this.peek().appendChild(a);return a},writeAttribute:function(a,b){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.localPart);Jsonix.Util.Ensure.ensureString(b);var c=Jsonix.Util.Type.isString(a.namespaceURI)?a.namespaceURI:"",d=a.localPart;a=Jsonix.Util.StringUtils.isNotBlank(a.prefix)?
a.prefix:this.getPrefix(c);a=a===""?d:a+":"+d;d=this.peek();if(c==="")d.setAttribute(a,b);else if(d.setAttributeNS)d.setAttributeNS(c,a,b);else if(this.xmldom){c=this.document.createNode(2,a,c);c.nodeValue=b;d.setAttributeNode(c)}else throw"setAttributeNS not implemented";},writeNode:function(a){a=Jsonix.Util.Type.exists(this.document.importNode)?this.document.importNode(a,true):a;this.peek().appendChild(a);return a},push:function(a){this.nodes.push(a);return a},peek:function(){return this.nodes[this.nodes.length-
1]},pop:function(){return this.nodes.pop()},getPrefix:function(a){var b=this.namespacePrefixes[a];if(!Jsonix.Util.Type.exists(b)){b="p"+this.namespacePrefixIndex++;this.namespacePrefixes[a]=b}return b},CLASS_NAME:"Jsonix.XML.Output"});Jsonix.Schema.XSD={};Jsonix.Schema.XSD.NAMESPACE_URI="http://www.w3.org/2001/XMLSchema";Jsonix.Schema.XSD.PREFIX="xsd";Jsonix.Schema.XSD.qname=function(a){Jsonix.Util.Ensure.ensureString(a);return new Jsonix.XML.QName(Jsonix.Schema.XSD.NAMESPACE_URI,a,Jsonix.Schema.XSD.PREFIX)};
Jsonix.Schema.XSD.AnyType=Jsonix.Class({typeName:Jsonix.Schema.XSD.qname("anyType"),initialize:function(){},isInstance:function(){throw"Abstract method [isInstance].";},CLASS_NAME:"Jsonix.Schema.XSD.AnyType"});
Jsonix.Schema.XSD.AnySimpleType=Jsonix.Class(Jsonix.Schema.XSD.AnyType,{typeName:Jsonix.Schema.XSD.qname("anySimpleType"),simpleType:true,print:function(){throw new Error("Abstract method [print].");},parse:function(){throw new Error("Abstract method [parse].");},unmarshal:function(a,b){a=b.getElementText();return Jsonix.Util.StringUtils.isNotBlank(a)?this.parse(a):null},marshal:function(a,b,c){Jsonix.Util.Type.exists(b)&&c.writeCharacters(this.print(b))},CLASS_NAME:"Jsonix.Schema.XSD.AnySimpleType"});
Jsonix.Schema.XSD.List=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:null,typeInfo:null,separator:" ",trimmedSeparator:" ",simpleType:true,initialize:function(a,b,c){Jsonix.Util.Ensure.ensureObject(a);this.typeInfo=a;if(Jsonix.Util.Type.exists(b))this.typeName=b;this.separator=Jsonix.Util.Type.isString(c)?c:" ";a=Jsonix.Util.StringUtils.trim(this.separator);this.trimmedSeparator=a.length===0?" ":a},print:function(a){if(!Jsonix.Util.Type.exists(a))return null;Jsonix.Util.Ensure.ensureArray(a);
for(var b="",c=0;c<a.length;c++){if(c>0)b+=this.separator;b+=this.typeInfo.print(a[c])}return b},parse:function(a){Jsonix.Util.Ensure.ensureString(a);a=a.split(this.trimmedSeparator);for(var b=[],c=0;c<a.length;c++)b.push(this.typeInfo.parse(Jsonix.Util.StringUtils.trim(a[c])));return b},CLASS_NAME:"Jsonix.Schema.XSD.List"});
Jsonix.Schema.XSD.String=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("string"),print:function(a){Jsonix.Util.Ensure.ensureString(a);return a},parse:function(a){Jsonix.Util.Ensure.ensureString(a);return a},isInstance:function(a){return Jsonix.Util.Type.isString(a)},CLASS_NAME:"Jsonix.Schema.XSD.String"});Jsonix.Schema.XSD.String.INSTANCE=new Jsonix.Schema.XSD.String;Jsonix.Schema.XSD.String.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.String.INSTANCE);
Jsonix.Schema.XSD.Strings=Jsonix.Class(Jsonix.Schema.XSD.List,{initialize:function(){Jsonix.Schema.XSD.List.prototype.initialize.apply(this,[Jsonix.Schema.XSD.String.INSTANCE,Jsonix.Schema.XSD.qname("strings")," "])},CLASS_NAME:"Jsonix.Schema.XSD.Strings"});Jsonix.Schema.XSD.Strings.INSTANCE=new Jsonix.Schema.XSD.Strings;Jsonix.Schema.XSD.NormalizedString=Jsonix.Class(Jsonix.Schema.XSD.String,{typeName:Jsonix.Schema.XSD.qname("normalizedString"),CLASS_NAME:"Jsonix.Schema.XSD.NormalizedString"});
Jsonix.Schema.XSD.NormalizedString.INSTANCE=new Jsonix.Schema.XSD.NormalizedString;Jsonix.Schema.XSD.NormalizedString.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NormalizedString.INSTANCE);Jsonix.Schema.XSD.Token=Jsonix.Class(Jsonix.Schema.XSD.NormalizedString,{typeName:Jsonix.Schema.XSD.qname("token"),CLASS_NAME:"Jsonix.Schema.XSD.Token"});Jsonix.Schema.XSD.Token.INSTANCE=new Jsonix.Schema.XSD.Token;Jsonix.Schema.XSD.Token.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Token.INSTANCE);
Jsonix.Schema.XSD.Language=Jsonix.Class(Jsonix.Schema.XSD.Token,{typeName:Jsonix.Schema.XSD.qname("language"),CLASS_NAME:"Jsonix.Schema.XSD.Language"});Jsonix.Schema.XSD.Language.INSTANCE=new Jsonix.Schema.XSD.Language;Jsonix.Schema.XSD.Language.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Language.INSTANCE);Jsonix.Schema.XSD.Name=Jsonix.Class(Jsonix.Schema.XSD.Token,{typeName:Jsonix.Schema.XSD.qname("Name"),CLASS_NAME:"Jsonix.Schema.XSD.Name"});Jsonix.Schema.XSD.Name.INSTANCE=new Jsonix.Schema.XSD.Name;
Jsonix.Schema.XSD.Name.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Name.INSTANCE);Jsonix.Schema.XSD.NCName=Jsonix.Class(Jsonix.Schema.XSD.Name,{typeName:Jsonix.Schema.XSD.qname("NCName"),CLASS_NAME:"Jsonix.Schema.XSD.NCName"});Jsonix.Schema.XSD.NCName.INSTANCE=new Jsonix.Schema.XSD.NCName;Jsonix.Schema.XSD.NCName.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NCName.INSTANCE);
Jsonix.Schema.XSD.NMToken=Jsonix.Class(Jsonix.Schema.XSD.Token,{typeName:Jsonix.Schema.XSD.qname("NMTOKEN"),CLASS_NAME:"Jsonix.Schema.XSD.NMToken"});Jsonix.Schema.XSD.NMToken.INSTANCE=new Jsonix.Schema.XSD.NMToken;Jsonix.Schema.XSD.NMTokens=Jsonix.Class(Jsonix.Schema.XSD.List,{initialize:function(){Jsonix.Schema.XSD.List.prototype.initialize.apply(this,[Jsonix.Schema.XSD.NMToken.INSTANCE,Jsonix.Schema.XSD.qname("NMTOKEN")," "])},CLASS_NAME:"Jsonix.Schema.XSD.NMTokens"});
Jsonix.Schema.XSD.NMTokens.INSTANCE=new Jsonix.Schema.XSD.NMTokens;
Jsonix.Schema.XSD.Boolean=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("boolean"),print:function(a){Jsonix.Util.Ensure.ensureBoolean(a);return a?"true":"false"},parse:function(a){Jsonix.Util.Ensure.ensureString(a);if(a==="true"||a==="1")return true;else if(a==="false"||a==="0")return false;else throw"Either [true], [1], [0] or [false] expected as boolean value.";},isInstance:function(a){return Jsonix.Util.Type.isBoolean(a)},CLASS_NAME:"Jsonix.Schema.XSD.Boolean"});
Jsonix.Schema.XSD.Boolean.INSTANCE=new Jsonix.Schema.XSD.Boolean;Jsonix.Schema.XSD.Boolean.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Boolean.INSTANCE);Jsonix.Schema.XSD.Base64Binary=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("base64Binary"),CLASS_NAME:"Jsonix.Schema.XSD.Base64Binary"});Jsonix.Schema.XSD.Base64Binary.INSTANCE=new Jsonix.Schema.XSD.Base64Binary;Jsonix.Schema.XSD.Base64Binary.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Base64Binary.INSTANCE);
Jsonix.Schema.XSD.HexBinary=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("hexBinary"),CLASS_NAME:"Jsonix.Schema.XSD.HexBinary"});Jsonix.Schema.XSD.HexBinary.INSTANCE=new Jsonix.Schema.XSD.HexBinary;Jsonix.Schema.XSD.HexBinary.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.HexBinary.INSTANCE);
Jsonix.Schema.XSD.Number=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("number"),print:function(a){Jsonix.Util.Ensure.ensureNumberOrNaN(a);return Jsonix.Util.Type.isNaN(a)?"NaN":a===Infinity?"INF":a===-Infinity?"-INF":String(a)},parse:function(a){Jsonix.Util.Ensure.ensureString(a);if(a==="-INF")return-Infinity;else if(a==="INF")return Infinity;else if(a==="NaN")return NaN;else{a=Number(a);Jsonix.Util.Ensure.ensureNumber(a);return a}},isInstance:function(a){return Jsonix.Util.Type.isNumberOrNaN(a)},
CLASS_NAME:"Jsonix.Schema.XSD.Number"});Jsonix.Schema.XSD.Number.INSTANCE=new Jsonix.Schema.XSD.Number;Jsonix.Schema.XSD.Number.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Number.INSTANCE);
Jsonix.Schema.XSD.Float=Jsonix.Class(Jsonix.Schema.XSD.Number,{typeName:Jsonix.Schema.XSD.qname("float"),isInstance:function(a){return Jsonix.Util.Type.isNaN(a)||a===-Infinity||a===Infinity||Jsonix.Util.Type.isNumber(a)&&a>=this.MIN_VALUE&&a<=this.MAX_VALUE},MIN_VALUE:-3.4028235E38,MAX_VALUE:3.4028235E38,CLASS_NAME:"Jsonix.Schema.XSD.Float"});Jsonix.Schema.XSD.Float.INSTANCE=new Jsonix.Schema.XSD.Float;Jsonix.Schema.XSD.Float.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Float.INSTANCE);
Jsonix.Schema.XSD.Decimal=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("decimal"),print:function(a){Jsonix.Util.Ensure.ensureNumber(a);return String(a)},parse:function(a){Jsonix.Util.Ensure.ensureString(a);a=Number(a);Jsonix.Util.Ensure.ensureNumber(a);return a},isInstance:function(a){return Jsonix.Util.Type.isNumber(a)},CLASS_NAME:"Jsonix.Schema.XSD.Decimal"});Jsonix.Schema.XSD.Decimal.INSTANCE=new Jsonix.Schema.XSD.Decimal;
Jsonix.Schema.XSD.Decimal.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Decimal.INSTANCE);
Jsonix.Schema.XSD.Integer=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("integer"),print:function(a){Jsonix.Util.Ensure.ensureInteger(a);return String(a)},parse:function(a){Jsonix.Util.Ensure.ensureString(a);a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},isInstance:function(a){return Jsonix.Util.NumberUtils.isInteger(a)&&a>=this.MIN_VALUE&&a<=this.MAX_VALUE},MIN_VALUE:-9223372036854775808,MAX_VALUE:9223372036854775E3,CLASS_NAME:"Jsonix.Schema.XSD.Integer"});
Jsonix.Schema.XSD.Integer.INSTANCE=new Jsonix.Schema.XSD.Integer;Jsonix.Schema.XSD.Integer.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Integer.INSTANCE);Jsonix.Schema.XSD.NonPositiveInteger=Jsonix.Class(Jsonix.Schema.XSD.Integer,{typeName:Jsonix.Schema.XSD.qname("nonPositiveInteger"),MIN_VALUE:-9223372036854775808,MAX_VALUE:0,CLASS_NAME:"Jsonix.Schema.XSD.NonPositiveInteger"});Jsonix.Schema.XSD.NonPositiveInteger.INSTANCE=new Jsonix.Schema.XSD.NonPositiveInteger;
Jsonix.Schema.XSD.NonPositiveInteger.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NonPositiveInteger.INSTANCE);Jsonix.Schema.XSD.NegativeInteger=Jsonix.Class(Jsonix.Schema.XSD.NonPositiveInteger,{typeName:Jsonix.Schema.XSD.qname("negativeInteger"),MIN_VALUE:-9223372036854775808,MAX_VALUE:-1,CLASS_NAME:"Jsonix.Schema.XSD.NegativeInteger"});Jsonix.Schema.XSD.NegativeInteger.INSTANCE=new Jsonix.Schema.XSD.NegativeInteger;Jsonix.Schema.XSD.NegativeInteger.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NegativeInteger.INSTANCE);
Jsonix.Schema.XSD.Long=Jsonix.Class(Jsonix.Schema.XSD.Integer,{typeName:Jsonix.Schema.XSD.qname("long"),MIN_VALUE:-9223372036854775808,MAX_VALUE:9223372036854775E3,CLASS_NAME:"Jsonix.Schema.XSD.Long"});Jsonix.Schema.XSD.Long.INSTANCE=new Jsonix.Schema.XSD.Long;Jsonix.Schema.XSD.Long.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Long.INSTANCE);Jsonix.Schema.XSD.Int=Jsonix.Class(Jsonix.Schema.XSD.Long,{typeName:Jsonix.Schema.XSD.qname("int"),MIN_VALUE:-2147483648,MAX_VALUE:2147483647,CLASS_NAME:"Jsonix.Schema.XSD.Int"});
Jsonix.Schema.XSD.Int.INSTANCE=new Jsonix.Schema.XSD.Int;Jsonix.Schema.XSD.Int.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Int.INSTANCE);Jsonix.Schema.XSD.Short=Jsonix.Class(Jsonix.Schema.XSD.Int,{typeName:Jsonix.Schema.XSD.qname("short"),MIN_VALUE:-32768,MAX_VALUE:32767,CLASS_NAME:"Jsonix.Schema.XSD.Short"});Jsonix.Schema.XSD.Short.INSTANCE=new Jsonix.Schema.XSD.Short;Jsonix.Schema.XSD.Short.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Short.INSTANCE);
Jsonix.Schema.XSD.Byte=Jsonix.Class(Jsonix.Schema.XSD.Short,{typeName:Jsonix.Schema.XSD.qname("byte"),MIN_VALUE:-128,MAX_VALUE:127,CLASS_NAME:"Jsonix.Schema.XSD.Byte"});Jsonix.Schema.XSD.Byte.INSTANCE=new Jsonix.Schema.XSD.Byte;Jsonix.Schema.XSD.Byte.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Byte.INSTANCE);Jsonix.Schema.XSD.NonNegativeInteger=Jsonix.Class(Jsonix.Schema.XSD.Integer,{typeName:Jsonix.Schema.XSD.qname("nonNegativeInteger"),MIN_VALUE:0,MAX_VALUE:9223372036854775E3,CLASS_NAME:"Jsonix.Schema.XSD.NonNegativeInteger"});
Jsonix.Schema.XSD.NonNegativeInteger.INSTANCE=new Jsonix.Schema.XSD.NonNegativeInteger;Jsonix.Schema.XSD.NonNegativeInteger.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NonNegativeInteger.INSTANCE);Jsonix.Schema.XSD.UnsignedLong=Jsonix.Class(Jsonix.Schema.XSD.NonNegativeInteger,{typeName:Jsonix.Schema.XSD.qname("unsignedLong"),MIN_VALUE:0,MAX_VALUE:1.8446744073709552E19,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedLong"});Jsonix.Schema.XSD.UnsignedLong.INSTANCE=new Jsonix.Schema.XSD.UnsignedLong;
Jsonix.Schema.XSD.UnsignedLong.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedLong.INSTANCE);Jsonix.Schema.XSD.UnsignedInt=Jsonix.Class(Jsonix.Schema.XSD.UnsignedLong,{typeName:Jsonix.Schema.XSD.qname("unsignedInt"),MIN_VALUE:0,MAX_VALUE:4294967295,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedInt"});Jsonix.Schema.XSD.UnsignedInt.INSTANCE=new Jsonix.Schema.XSD.UnsignedInt;Jsonix.Schema.XSD.UnsignedInt.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedInt.INSTANCE);
Jsonix.Schema.XSD.UnsignedShort=Jsonix.Class(Jsonix.Schema.XSD.UnsignedInt,{typeName:Jsonix.Schema.XSD.qname("unsignedShort"),MIN_VALUE:0,MAX_VALUE:65535,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedShort"});Jsonix.Schema.XSD.UnsignedShort.INSTANCE=new Jsonix.Schema.XSD.UnsignedShort;Jsonix.Schema.XSD.UnsignedShort.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedShort.INSTANCE);
Jsonix.Schema.XSD.UnsignedByte=Jsonix.Class(Jsonix.Schema.XSD.UnsignedShort,{typeName:Jsonix.Schema.XSD.qname("unsignedByte"),MIN_VALUE:0,MAX_VALUE:255,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedByte"});Jsonix.Schema.XSD.UnsignedByte.INSTANCE=new Jsonix.Schema.XSD.UnsignedByte;Jsonix.Schema.XSD.UnsignedByte.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedByte.INSTANCE);
Jsonix.Schema.XSD.PositiveInteger=Jsonix.Class(Jsonix.Schema.XSD.NonNegativeInteger,{typeName:Jsonix.Schema.XSD.qname("positiveInteger"),MIN_VALUE:1,MAX_VALUE:9223372036854775E3,CLASS_NAME:"Jsonix.Schema.XSD.PositiveInteger"});Jsonix.Schema.XSD.PositiveInteger.INSTANCE=new Jsonix.Schema.XSD.PositiveInteger;Jsonix.Schema.XSD.PositiveInteger.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.PositiveInteger.INSTANCE);
Jsonix.Schema.XSD.Double=Jsonix.Class(Jsonix.Schema.XSD.Number,{typeName:Jsonix.Schema.XSD.qname("double"),isInstance:function(a){return Jsonix.Util.Type.isNaN(a)||a===-Infinity||a===Infinity||Jsonix.Util.Type.isNumber(a)&&a>=this.MIN_VALUE&&a<=this.MAX_VALUE},MIN_VALUE:-1.7976931348623157E308,MAX_VALUE:1.7976931348623157E308,CLASS_NAME:"Jsonix.Schema.XSD.Double"});Jsonix.Schema.XSD.Double.INSTANCE=new Jsonix.Schema.XSD.Double;Jsonix.Schema.XSD.Double.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Double.INSTANCE);
Jsonix.Schema.XSD.AnyURI=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("anyURI"),print:function(a){Jsonix.Util.Ensure.ensureString(a);return a},parse:function(a){Jsonix.Util.Ensure.ensureString(a);return a},isInstance:function(a){return Jsonix.Util.Type.isString(a)},CLASS_NAME:"Jsonix.Schema.XSD.AnyURI"});Jsonix.Schema.XSD.AnyURI.INSTANCE=new Jsonix.Schema.XSD.AnyURI;Jsonix.Schema.XSD.AnyURI.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.AnyURI.INSTANCE);
Jsonix.Schema.XSD.QName=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("QName"),CLASS_NAME:"Jsonix.Schema.XSD.QName"});Jsonix.Schema.XSD.QName.INSTANCE=new Jsonix.Schema.XSD.QName;Jsonix.Schema.XSD.QName.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.QName.INSTANCE);
Jsonix.Schema.XSD.Calendar=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("calendar"),parse:function(a){Jsonix.Util.Ensure.ensureString(a);var b=a.charAt(0)==="-"?a.substring(1):a;if(b.length>=19&&b.charAt(4)==="-"&&b.charAt(7)==="-"&&b.charAt(10)==="T"&&b.charAt(13)===":"&&b.charAt(16)===":")return this.parseDateTime(a);else if(b.length>=10&&b.charAt(4)==="-"&&b.charAt(7)==="-")return this.parseDate(a);else if(b.length>=8&&b.charAt(2)===":"&&b.charAt(5)===":")return this.parseTime(a);
else throw"Value ["+a+"] does not match dateTime, date or time patterns.";},parseDateTime:function(a){Jsonix.Util.Ensure.ensureString(a);var b=a.charAt(0)==="-",c=b?-1:1;a=b?a.substring(1):a;if(a.length<19||a.charAt(4)!=="-"||a.charAt(7)!=="-"||a.charAt(10)!=="T"||a.charAt(13)!==":"||a.charAt(16)!==":")throw"Date time string ["+a+"] must be a string in format ['-'? yyyy '-' mm '-' dd 'T' hh ':' mm ':' ss ('.' s+)? (zzzzzz)?].";var d;b=a.indexOf("+",19);if(b>=0)d=b;else{b=a.indexOf("-",19);if(b>=0)d=
b;else{b=a.indexOf("Z",19);d=b>=0?b:a.length}}var e=d>0&&d<a.length,f=a.substring(0,10);b=e?a.substring(11,d):a.substring(11);a=e?a.substring(d):"";f=this.parseDateString(f);b=this.parseTimeString(b);a=this.parseTimeZoneString(a);return Jsonix.XML.Calendar.fromObject({year:c*f.year,month:f.month,day:f.day,hour:b.hour,minute:b.minute,second:b.second,fractionalSecond:b.fractionalSecond,timezone:a})},parseDate:function(a){Jsonix.Util.Ensure.ensureString(a);var b=a.charAt(0)==="-",c=b?-1:1;b=b?a.substring(1):
a;var d;d=b.indexOf("+",10);if(d>=0)d=d;else{d=b.indexOf("-",10);if(d>=0)d=d;else{d=b.indexOf("Z",10);d=d>=0?d:b.length}}var e=d>0&&d<b.length;b=this.parseDateString(e?b.substring(0,d):b);a=this.parseTimeZoneString(e?a.substring(d):"");return Jsonix.XML.Calendar.fromObject({year:c*b.year,month:b.month,day:b.day,timezone:a})},parseTime:function(a){Jsonix.Util.Ensure.ensureString(a);var b,c=a.indexOf("+",7);if(c>=0)b=c;else{c=a.indexOf("-",7);if(c>=0)b=c;else{c=a.indexOf("Z",7);b=c>=0?c:a.length}}var d=
b>0&&b<a.length;c=this.parseTimeString(d?a.substring(0,b):a);a=this.parseTimeZoneString(d?a.substring(b):"");return Jsonix.XML.Calendar.fromObject({hour:c.hour,minute:c.minute,second:c.second,fractionalSecond:c.fractionalSecond,timezone:a})},parseDateString:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==10)throw"Date string ["+a+"] must be 10 characters long.";if(a.charAt(4)!=="-"||a.charAt(7)!=="-")throw"Date string ["+a+"] must be a string in format [yyyy '-' mm '-' ss ].";var b=this.parseYear(a.substring(0,
4)),c=this.parseMonth(a.substring(5,7));a=this.parseDay(a.substring(8,10));return{year:b,month:c,day:a}},parseTimeString:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length<8||a.charAt(2)!==":"||a.charAt(5)!==":")throw"Time string ["+a+"] must be a string in format [hh ':' mm ':' ss ('.' s+)?].";var b=a.substring(0,2),c=a.substring(3,5),d=a.substring(6,8);a=a.length>=9?a.substring(8):"";b=this.parseHour(b);c=this.parseHour(c);d=this.parseSecond(d);a=this.parseFractionalSecond(a);return{hour:b,
minute:c,second:d,fractionalSecond:a}},parseTimeZoneString:function(a){Jsonix.Util.Ensure.ensureString(a);if(a==="")return NaN;else if(a==="Z")return 0;else{if(a.length!==6)throw"Time zone must be an empty string, 'Z' or a string in format [('+' | '-') hh ':' mm].";var b=a.charAt(0);if(b==="+")b=1;else if(b==="-")b=-1;else throw"First character of the time zone ["+a+"] must be '+' or '-'.";var c=this.parseHour(a.substring(1,3));a=this.parseMinute(a.substring(4,6));return b*(c*60+a)}},parseYear:function(a){Jsonix.Util.Ensure.ensureString(a);
if(a.length!==4)throw"Year ["+a+"] must be a four-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseMonth:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==2)throw"Month ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseDay:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==2)throw"Day ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseHour:function(a){Jsonix.Util.Ensure.ensureString(a);
if(a.length!==2)throw"Hour ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseMinute:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==2)throw"Minute ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseSecond:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==2)throw"Second ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureNumber(a);return a},parseFractionalSecond:function(a){Jsonix.Util.Ensure.ensureString(a);
if(a==="")return 0;else{a=Number(a);Jsonix.Util.Ensure.ensureNumber(a);return a}},print:function(a){Jsonix.Util.Ensure.ensureObject(a);if(Jsonix.Util.NumberUtils.isInteger(a.year)&&Jsonix.Util.NumberUtils.isInteger(a.month)&&Jsonix.Util.NumberUtils.isInteger(a.day)&&Jsonix.Util.NumberUtils.isInteger(a.hour)&&Jsonix.Util.NumberUtils.isInteger(a.minute)&&Jsonix.Util.NumberUtils.isInteger(a.second))return this.printDateTime(a);else if(Jsonix.Util.NumberUtils.isInteger(a.year)&&Jsonix.Util.NumberUtils.isInteger(a.month)&&
Jsonix.Util.NumberUtils.isInteger(a.day))return this.printDate(a);else if(Jsonix.Util.NumberUtils.isInteger(a.hour)&&Jsonix.Util.NumberUtils.isInteger(a.minute)&&Jsonix.Util.NumberUtils.isInteger(a.second))return this.printTime(a);else throw"Value ["+a+"] is not recognized as dateTime, date or time.";},printDateTime:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureInteger(a.year);Jsonix.Util.Ensure.ensureInteger(a.month);Jsonix.Util.Ensure.ensureInteger(a.day);Jsonix.Util.Ensure.ensureInteger(a.hour);
Jsonix.Util.Ensure.ensureInteger(a.minute);Jsonix.Util.Ensure.ensureNumber(a.second);Jsonix.Util.Type.exists(a.fractionalString)&&Jsonix.Util.Ensure.ensureNumber(a.fractionalString);Jsonix.Util.Type.exists(a.timezone)&&!Jsonix.Util.Type.isNaN(a.timezone)&&Jsonix.Util.Ensure.ensureInteger(a.timezone);var b=this.printDateString(a);b+="T";b+=this.printTimeString(a);if(Jsonix.Util.Type.exists(a.timezone))b+=this.printTimeZoneString(a.timezone);return b},printDate:function(a){Jsonix.Util.Ensure.ensureObject(a);
Jsonix.Util.Ensure.ensureNumber(a.year);Jsonix.Util.Ensure.ensureNumber(a.month);Jsonix.Util.Ensure.ensureNumber(a.day);Jsonix.Util.Type.exists(a.timezone)&&!Jsonix.Util.Type.isNaN(a.timezone)&&Jsonix.Util.Ensure.ensureInteger(a.timezone);var b=this.printDateString(a);if(Jsonix.Util.Type.exists(a.timezone))b+=this.printTimeZoneString(a.timezone);return b},printTime:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureNumber(a.hour);Jsonix.Util.Ensure.ensureNumber(a.minute);Jsonix.Util.Ensure.ensureNumber(a.second);
Jsonix.Util.Type.exists(a.fractionalString)&&Jsonix.Util.Ensure.ensureNumber(a.fractionalString);Jsonix.Util.Type.exists(a.timezone)&&!Jsonix.Util.Type.isNaN(a.timezone)&&Jsonix.Util.Ensure.ensureInteger(a.timezone);var b=this.printTimeString(a);if(Jsonix.Util.Type.exists(a.timezone))b+=this.printTimeZoneString(a.timezone);return b},printDateString:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureInteger(a.year);Jsonix.Util.Ensure.ensureInteger(a.month);Jsonix.Util.Ensure.ensureInteger(a.day);
return(a.year<0?"-"+this.printYear(-a.year):this.printYear(a.year))+"-"+this.printMonth(a.month)+"-"+this.printDay(a.day)},printTimeString:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureInteger(a.hour);Jsonix.Util.Ensure.ensureInteger(a.minute);Jsonix.Util.Ensure.ensureInteger(a.second);Jsonix.Util.Type.exists(a.fractionalSecond)&&Jsonix.Util.Ensure.ensureNumber(a.fractionalSecond);var b=this.printHour(a.hour);b+=":";b+=this.printMinute(a.minute);b+=":";b+=this.printSecond(a.second);
if(Jsonix.Util.Type.exists(a.fractionalSecond))b+=this.printFractionalSecond(a.fractionalSecond);return b},printTimeZoneString:function(a){if(!Jsonix.Util.Type.exists(a)||Jsonix.Util.Type.isNaN(a))return"";else{Jsonix.Util.Ensure.ensureInteger(a);var b=a<0?-1:a>0?1:0,c=a*b;a=c%60;c=Math.floor(c/60);var d;if(b===0)return"Z";else{if(b>0)d="+";else if(b<0)d="-";d+=this.printHour(c);d+=":";d+=this.printMinute(a);return d}}},printYear:function(a){return this.printInteger(a,4)},printMonth:function(a){return this.printInteger(a,
2)},printDay:function(a){return this.printInteger(a,2)},printHour:function(a){return this.printInteger(a,2)},printMinute:function(a){return this.printInteger(a,2)},printSecond:function(a){return this.printInteger(a,2)},printFractionalSecond:function(a){Jsonix.Util.Ensure.ensureNumber(a);if(a<0||a>=1)throw"Fractional second ["+a+"] must be between 0 and 1.";else if(a===0)return"";else{a=String(a);var b=a.indexOf(".");return b<0?"":a.substring(b)}},printInteger:function(a,b){Jsonix.Util.Ensure.ensureInteger(a);
Jsonix.Util.Ensure.ensureInteger(b);if(b<=0)throw"Length ["+a+"] must be positive.";if(a<0)throw"Value ["+a+"] must not be negative.";if(a>=Math.pow(10,b))throw"Value ["+a+"] must be less than ["+Math.pow(10,b)+"].";a=String(a);for(var c=a.length;c<b;c++)a="0"+a;return a},isInstance:function(a){return Jsonix.Util.Type.isObject(a)&&(Jsonix.Util.NumberUtils.isInteger(a.year)&&Jsonix.Util.NumberUtils.isInteger(a.month)&&Jsonix.Util.NumberUtils.isInteger(a.day)||Jsonix.Util.NumberUtils.isInteger(a.hour)&&
Jsonix.Util.NumberUtils.isInteger(a.minute)&&Jsonix.Util.NumberUtils.isInteger(a.second))},CLASS_NAME:"Jsonix.Schema.XSD.Calendar"});Jsonix.Schema.XSD.Calendar.INSTANCE=new Jsonix.Schema.XSD.Calendar;Jsonix.Schema.XSD.Calendar.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Calendar.INSTANCE);Jsonix.Schema.XSD.Duration=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("duration"),CLASS_NAME:"Jsonix.Schema.XSD.Duration"});
Jsonix.Schema.XSD.Duration.INSTANCE=new Jsonix.Schema.XSD.Duration;Jsonix.Schema.XSD.Duration.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Duration.INSTANCE);
Jsonix.Schema.XSD.DateTime=Jsonix.Class(Jsonix.Schema.XSD.Calendar,{typeName:Jsonix.Schema.XSD.qname("dateTime"),parse:function(a){a=this.parseDateTime(a);var b=new Date;b.setFullYear(a.year);b.setMonth(a.month-1);b.setDate(a.day);b.setHours(a.hour);b.setMinutes(a.minute);b.setSeconds(a.second);Jsonix.Util.Type.isNumber(a.fractionalSecond)&&b.setMilliseconds(Math.floor(1E3*a.fractionalSecond));return Jsonix.Util.NumberUtils.isInteger(a.timezone)?new Date(b.getTime()-6E4*b.getTimezoneOffset()+a.timezone*
6E4):b},print:function(a){Jsonix.Util.Ensure.ensureDate(a);return this.printDateTime(new Jsonix.XML.Calendar({year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds(),fractionalSecond:a.getMilliseconds()/1E3}))},isInstance:function(a){return Jsonix.Util.Type.isDate(a)},CLASS_NAME:"Jsonix.Schema.XSD.DateTime"});Jsonix.Schema.XSD.DateTime.INSTANCE=new Jsonix.Schema.XSD.DateTime;Jsonix.Schema.XSD.DateTime.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.DateTime.INSTANCE);
Jsonix.Schema.XSD.Time=Jsonix.Class(Jsonix.Schema.XSD.Calendar,{typeName:Jsonix.Schema.XSD.qname("time"),parse:function(a){a=this.parseTime(a);if(Jsonix.Util.NumberUtils.isInteger(a.timezone)){var b=new Date(70,0,1,a.hour,a.minute,a.second);Jsonix.Util.Type.isNumber(a.fractionalSecond)&&b.setMilliseconds(Math.floor(1E3*a.fractionalSecond));a=b.getTime()-a.timezone*6E4;return new Date(a-6E4*b.getTimezoneOffset())}else{b=new Date(70,0,1,a.hour,a.minute,a.second);Jsonix.Util.Type.isNumber(a.fractionalSecond)&&
b.setMilliseconds(Math.floor(1E3*a.fractionalSecond));return b}},print:function(a){Jsonix.Util.Ensure.ensureDate(a);var b=a.getTime();if(b<=-86400000&&b>=864E5)throw"Invalid time ["+a+"].";if(b>=0)return this.printTime(new Jsonix.XML.Calendar({hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds(),fractionalSecond:a.getMilliseconds()/1E3}));else{b=Math.ceil(-b/36E5);return this.printTime(new Jsonix.XML.Calendar({hour:(a.getUTCHours()+b)%24,minute:a.getUTCMinutes(),second:a.getUTCSeconds(),
fractionalSecond:a.getUTCMilliseconds()/1E3,timezone:b*60}))}},isInstance:function(a){return Jsonix.Util.Type.isDate(a)&&a.getTime()>-86400000&&a.getTime()<864E5},CLASS_NAME:"Jsonix.Schema.XSD.Time"});Jsonix.Schema.XSD.Time.INSTANCE=new Jsonix.Schema.XSD.Time;Jsonix.Schema.XSD.Time.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Time.INSTANCE);
Jsonix.Schema.XSD.Date=Jsonix.Class(Jsonix.Schema.XSD.Calendar,{typeName:Jsonix.Schema.XSD.qname("date"),parse:function(a){a=this.parseDate(a);if(Jsonix.Util.NumberUtils.isInteger(a.timezone)){var b=new Date;b.setFullYear(a.year);b.setMonth(a.month-1);b.setDate(a.day);b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);return new Date(b.getTime()-6E4*b.getTimezoneOffset()+a.timezone*6E4)}else{b=new Date;b.setFullYear(a.year);b.setMonth(a.month-1);b.setDate(a.day);b.setHours(0);b.setMinutes(0);
b.setSeconds(0);b.setMilliseconds(0);return b}},print:function(a){Jsonix.Util.Ensure.ensureDate(a);var b=new Date(a.getTime());b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);b=a.getTime()-b.getTime();if(b===0)return this.printDate(new Jsonix.XML.Calendar({year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate()}));else{b=b+6E4*a.getTimezoneOffset();if(b<=432E5)return this.printDate(new Jsonix.XML.Calendar({year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),timezone:Math.floor(b/
6E4)}));else{a=new Date(a.getTime()+864E5);return this.printDate(new Jsonix.XML.Calendar({year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),timezone:Math.floor(b/6E4)-1440}))}}},isInstance:function(a){return Jsonix.Util.Type.isDate(a)},CLASS_NAME:"Jsonix.Schema.XSD.Date"});Jsonix.Schema.XSD.Date.INSTANCE=new Jsonix.Schema.XSD.Date;Jsonix.Schema.XSD.Date.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Date.INSTANCE);
Jsonix.Schema.XSD.GYearMonth=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gYearMonth"),CLASS_NAME:"Jsonix.Schema.XSD.GYearMonth"});Jsonix.Schema.XSD.GYearMonth.INSTANCE=new Jsonix.Schema.XSD.GYearMonth;Jsonix.Schema.XSD.GYearMonth.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GYearMonth.INSTANCE);Jsonix.Schema.XSD.GYear=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gYear"),CLASS_NAME:"Jsonix.Schema.XSD.GYear"});
Jsonix.Schema.XSD.GYear.INSTANCE=new Jsonix.Schema.XSD.GYear;Jsonix.Schema.XSD.GYear.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GYear.INSTANCE);Jsonix.Schema.XSD.GMonthDay=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gMonthDay"),CLASS_NAME:"Jsonix.Schema.XSD.GMonthDay"});Jsonix.Schema.XSD.GMonthDay.INSTANCE=new Jsonix.Schema.XSD.GMonthDay;Jsonix.Schema.XSD.GMonthDay.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GMonthDay.INSTANCE);
Jsonix.Schema.XSD.GDay=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gDay"),CLASS_NAME:"Jsonix.Schema.XSD.GDay"});Jsonix.Schema.XSD.GDay.INSTANCE=new Jsonix.Schema.XSD.GDay;Jsonix.Schema.XSD.GDay.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GDay.INSTANCE);Jsonix.Schema.XSD.GMonth=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gMonth"),CLASS_NAME:"Jsonix.Schema.XSD.GMonth"});Jsonix.Schema.XSD.GMonth.INSTANCE=new Jsonix.Schema.XSD.GMonth;
Jsonix.Schema.XSD.GMonth.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GMonth.INSTANCE);
Jsonix.Model.ClassInfo=Jsonix.Class({name:null,baseTypeInfo:null,properties:null,structure:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.name);this.name=a.name;if(Jsonix.Util.Type.exists(a.baseTypeInfo)){Jsonix.Util.Ensure.ensureObject(a.baseTypeInfo);this.baseTypeInfo=a.baseTypeInfo}this.properties=[];if(Jsonix.Util.Type.exists(a.properties)){Jsonix.Util.Ensure.ensureArray(a.properties);for(var b=0;b<a.properties.length;b++)this.properties[b]=a.properties[b]}},
destroy:function(){},build:function(a){if(this.structure===null){var b={elements:null,attributes:{},anyAttribute:null,value:null,any:null};Jsonix.Util.Type.exists(this.baseTypeInfo)&&this.baseTypeInfo.buildStructure(a,b);this.buildStructure(a,b);this.structure=b}},buildStructure:function(a,b){for(var c=0;c<this.properties.length;c++)this.properties[c].buildStructure(a,b)},unmarshal:function(a,b){this.build(a);var c={};if(b.eventType!==1)throw"Parser must be on START_ELEMENT to read a class info.";
if(Jsonix.Util.Type.exists(this.structure.attributes)){var d=b.getAttributeCount();if(d!==0)for(var e=0;e<d;e++){var f=b.getAttributeName(e).key;Jsonix.Util.Type.exists(this.structure.attributes[f])&&this.unmarshalProperty(a,b,this.structure.attributes[f],c)}}Jsonix.Util.Type.exists(this.structure.anyAttribute)&&this.unmarshalProperty(a,b,this.structure.anyAttribute,c);if(Jsonix.Util.Type.exists(this.structure.elements))for(d=b.next();d!==Jsonix.XML.Input.END_ELEMENT;){if(d===Jsonix.XML.Input.START_ELEMENT){d=
b.getName().key;if(Jsonix.Util.Type.exists(this.structure.elements[d]))this.unmarshalProperty(a,b,this.structure.elements[d],c);else if(Jsonix.Util.Type.exists(this.structure.any))this.unmarshalProperty(a,b,this.structure.any,c);else throw"Unexpected element ["+d+"].";}else if((d===Jsonix.XML.Input.CHARACTERS||d===Jsonix.XML.Input.CDATA||d===Jsonix.XML.Input.ENTITY_REFERENCE)&&Jsonix.Util.Type.exists(this.structure.mixed))this.unmarshalProperty(a,b,this.structure.mixed,c);else if(!(d===Jsonix.XML.Input.SPACE||
d===Jsonix.XML.Input.COMMENT||d===Jsonix.XML.Input.PROCESSING_INSTRUCTION))throw"Illegal state: unexpected event type ["+d+"].";d=b.next()}else Jsonix.Util.Type.exists(this.structure.value)?this.unmarshalProperty(a,b,this.structure.value,c):b.nextTag();if(b.eventType!==2)throw"Illegal state: must be END_ELEMENT.";return c},unmarshalProperty:function(a,b,c,d){a=c.unmarshal(a,this,b);c.setProperty(d,a)},marshal:function(a,b,c){Jsonix.Util.Type.exists(this.baseTypeInfo)&&this.baseTypeInfo.marshal(a,
b,c);for(var d=0;d<this.properties.length;d++){var e=this.properties[d],f=b[e.name];Jsonix.Util.Type.exists(f)&&e.marshal(a,this,f,c)}},isInstance:function(a){return Jsonix.Util.Type.isObject(a)&&Jsonix.Util.Type.isString(a.TYPE_NAME)&&a.TYPE_NAME===this.name}});
Jsonix.Model.PropertyInfo=Jsonix.Class({name:null,collection:false,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.name);this.name=a.name;this.collection=Jsonix.Util.Type.isBoolean(a.collection)?a.collection:false},buildStructure:function(){throw"Abstract method [buildStructure].";},setProperty:function(a,b){if(Jsonix.Util.Type.exists(b))if(this.collection){Jsonix.Util.Ensure.ensureArray(b,"Collection property requires an array value.");Jsonix.Util.Type.exists(a[this.name])||
(a[this.name]=[]);for(var c=0;c<b.length;c++)a[this.name].push(b[c])}else a[this.name]=b},CLASS_NAME:"Jsonix.Model.PropertyInfo"});
Jsonix.Model.AnyAttributePropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a])},unmarshal:function(a,b,c){a=c.getAttributeCount();if(a===0)return null;else{b={};for(var d=0;d<a;d++){var e=c.getAttributeName(d),f=c.getAttributeValue(d);if(Jsonix.Util.Type.isString(f))b[e.key]=f}return b}},marshal:function(a,b,c,d){if(Jsonix.Util.Type.isObject(c))for(var e in c)if(c.hasOwnProperty(e)){a=
c[e];Jsonix.Util.Type.isString(a)&&d.writeAttribute(Jsonix.XML.QName.fromString(e),a)}},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);b.anyAttribute=this},CLASS_NAME:"Jsonix.Model.AnyAttributePropertyInfo"});
Jsonix.Model.SingleTypePropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{typeInfo:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureObject(a.typeInfo);this.typeInfo=a.typeInfo},CLASS_NAME:"Jsonix.Model.SingleTypePropertyInfo"});
Jsonix.Model.AttributePropertyInfo=Jsonix.Class(Jsonix.Model.SingleTypePropertyInfo,{attributeName:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.SingleTypePropertyInfo.prototype.initialize.apply(this,[a]);this.attributeName=Jsonix.Util.Type.isObject(a.attributeName)?a.attributeName:new Jsonix.XML.QName(this.name)},unmarshal:function(a,b,c){a=c.getAttributeCount();b=null;for(var d=0;d<a;d++)if(this.attributeName.key===c.getAttributeName(d).key){var e=c.getAttributeValue(d);
if(Jsonix.Util.Type.isString(e))b=this.typeInfo.parse(e)}return b},marshal:function(a,b,c,d){Jsonix.Util.Type.exists(c)&&d.writeAttribute(this.attributeName,this.typeInfo.print(c))},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);Jsonix.Util.Ensure.ensureObject(b.attributes);b.attributes[this.attributeName.key]=this},CLASS_NAME:"Jsonix.Model.AttributePropertyInfo"});
Jsonix.Model.ValuePropertyInfo=Jsonix.Class(Jsonix.Model.SingleTypePropertyInfo,{initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.SingleTypePropertyInfo.prototype.initialize.apply(this,[a])},unmarshal:function(a,b,c){a=c.getElementText();return Jsonix.Util.StringUtils.isNotBlank(a)?this.typeInfo.parse(a):null},marshal:function(a,b,c,d){Jsonix.Util.Type.exists(c)&&d.writeCharacters(this.typeInfo.print(c))},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);if(Jsonix.Util.Type.exists(b.elements))throw"The structure already defines element mappings, it cannot define a value property.";
else b.value=this},CLASS_NAME:"Jsonix.Model.ValuePropertyInfo"});
Jsonix.Model.AbstractElementsPropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{wrapperElementName:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a]);this.wrapperElementName=Jsonix.Util.Type.isObject(a.wrapperElementName)?a.wrapperElementName:null},unmarshal:function(a,b,c){var d=null,e=this;b=function(f){if(e.collection){if(d===null)d=[];d.push(f)}else if(d===null)d=f;else throw"Value already set.";};Jsonix.Util.Type.exists(this.wrapperElementName)?
this.unmarshalWrapperElement(a,c,b):this.unmarshalElement(a,c,b);return d},unmarshalWrapperElement:function(a,b,c){for(var d=b.next();d!==Jsonix.XML.Input.END_ELEMENT;){if(d===Jsonix.XML.Input.START_ELEMENT)this.unmarshalElement(a,b,c);else if(!(d===Jsonix.XML.Input.SPACE||d===Jsonix.XML.Input.COMMENT||d===Jsonix.XML.Input.PROCESSING_INSTRUCTION))throw"Illegal state: unexpected event type ["+d+"].";d=b.next()}},unmarshalElement:function(){throw"Abstract method [unmarshalElement].";},marshal:function(a,
b,c,d){if(Jsonix.Util.Type.exists(c)){Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeStartElement(this.wrapperElementName);if(this.collection){Jsonix.Util.Ensure.ensureArray(c);for(b=0;b<c.length;b++)this.marshalElement(a,c[b],d)}else this.marshalElement(a,c,d);Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeEndElement()}},marshalElement:function(){throw"Abstract method [marshalElement].";},marshalElementTypeInfo:function(a,b,c,d,e){e.writeStartElement(c);d.marshal(a,b,e);e.writeEndElement()},
buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);if(Jsonix.Util.Type.exists(b.value))throw"The structure already defines a value property.";else if(!Jsonix.Util.Type.exists(b.elements))b.elements={};if(Jsonix.Util.Type.exists(this.wrapperElementName))b.elements[this.wrapperElementName.key]=this;else this.buildStructureElements(a,b)},buildStructureElements:function(){throw"Abstract method [buildStructureElements].";},CLASS_NAME:"Jsonix.Model.AbstractElementsPropertyInfo"});
Jsonix.Model.ElementPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementsPropertyInfo,{typeInfo:null,elementName:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureObject(a.typeInfo);this.typeInfo=a.typeInfo;this.elementName=Jsonix.Util.Type.isObject(a.elementName)?a.elementName:new Jsonix.XML.QName(this.name)},unmarshalElement:function(a,b,c){return c(this.typeInfo.unmarshal(a,b))},
marshalElement:function(a,b,c){this.marshalElementTypeInfo(a,b,this.elementName,this.typeInfo,c)},buildStructureElements:function(a,b){b.elements[this.elementName.key]=this},CLASS_NAME:"Jsonix.Model.ElementPropertyInfo"});
Jsonix.Model.ElementsPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementsPropertyInfo,{elementTypeInfos:null,elementTypeInfosMap:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureArray(a.elementTypeInfos);this.elementTypeInfos=a.elementTypeInfos;this.elementTypeInfosMap={};for(a=0;a<this.elementTypeInfos.length;a++){var b=this.elementTypeInfos[a];Jsonix.Util.Ensure.ensureObject(b);
this.elementTypeInfosMap[b.elementName.key]=b.typeInfo}},unmarshalElement:function(a,b,c){var d=b.getName().key,e=this.elementTypeInfosMap[d];if(Jsonix.Util.Type.exists(e))return c(e.unmarshal(a,b));throw"Element ["+d+"] is not known in this context";},marshalElement:function(a,b,c){for(var d=0;d<this.elementTypeInfos.length;d++){var e=this.elementTypeInfos[d],f=e.typeInfo;if(f.isInstance(b)){this.marshalElementTypeInfo(a,b,e.elementName,f,c);return}}throw"Could not find an element with type info supporting the value ["+
b+"].";},buildStructureElements:function(a,b){for(a=0;a<this.elementTypeInfos.length;a++)b.elements[this.elementTypeInfos[a].elementName.key]=this},CLASS_NAME:"Jsonix.Model.ElementsPropertyInfo"});
Jsonix.Model.ElementMapPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementsPropertyInfo,{elementName:null,key:null,value:null,entryTypeInfo:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureObject(a.key);this.key=a.key;Jsonix.Util.Ensure.ensureObject(a.value);this.value=a.value;this.elementName=Jsonix.Util.Type.isObject(a.elementName)?a.elementName:new Jsonix.XML.QName(this.name);
this.entryTypeInfo=new Jsonix.Model.ClassInfo({name:"",properties:[this.key,this.value]})},unmarshalWrapperElement:function(){Jsonix.Model.AbstractElementsPropertyInfo.prototype.unmarshalWrapperElement.apply(this,arguments)},unmarshal:function(a,b,c){var d=null,e=this;b=function(f){if(Jsonix.Util.Type.exists(f)){Jsonix.Util.Ensure.ensureObject(f,"Map property requires an object.");Jsonix.Util.Type.exists(d)||(d={});for(var g in f)if(f.hasOwnProperty(g)){var l=f[g];if(e.collection){Jsonix.Util.Type.exists(d[g])||
(d[g]=[]);d[g].push(l)}else if(Jsonix.Util.Type.exists(d[g]))throw"Value already set.";else d[g]=l}}};Jsonix.Util.Type.exists(this.wrapperElementName)?this.unmarshalWrapperElement(a,c,b):this.unmarshalElement(a,c,b);return d},unmarshalElement:function(a,b,c){a=this.entryTypeInfo.unmarshal(a,b);b={};if(a[this.key.name])b[a[this.key.name]]=a[this.value.name];return c(b)},marshal:function(a,b,c,d){if(Jsonix.Util.Type.exists(c)){Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeStartElement(this.wrapperElementName);
this.marshalElement(a,c,d);Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeEndElement()}},marshalElement:function(a,b,c){if(b)for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];if(this.collection)for(var f=0;f<e.length;f++){var g={};g[this.key.name]=d;g[this.value.name]=e[f];c.writeStartElement(this.elementName);this.entryTypeInfo.marshal(a,g,c);c.writeEndElement()}else{f={};f[this.key.name]=d;f[this.value.name]=e;c.writeStartElement(this.elementName);this.entryTypeInfo.marshal(a,f,c);c.writeEndElement()}}},
buildStructureElements:function(a,b){b.elements[this.elementName.key]=this},setProperty:function(a,b){if(Jsonix.Util.Type.exists(b)){Jsonix.Util.Ensure.ensureObject(b,"Map property requires an object.");Jsonix.Util.Type.exists(a[this.name])||(a[this.name]={});a=a[this.name];for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];if(this.collection){Jsonix.Util.Type.exists(a[c])||(a[c]=[]);for(var e=0;e<d.length;e++)a[c].push(d[e])}else a[c]=d}}},CLASS_NAME:"Jsonix.Model.ElementMapPropertyInfo"});
Jsonix.Model.AbstractElementRefsPropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{wrapperElementName:null,mixed:false,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a,"Options argument must be an object.");Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a]);if(Jsonix.Util.Type.isObject(a.wrapperElementName)){Jsonix.Util.Ensure.ensureString(a.wrapperElementName.localPart,"Wrapper element name must contain a string property [localPart].");this.wrapperElementName=Jsonix.XML.QName.fromObject(a.wrapperElementName)}else this.wrapperElementName=
null;this.mixed=Jsonix.Util.Type.isBoolean(a.mixed)?a.mixed:false},unmarshal:function(a,b,c){var d=c.eventType;if(d===Jsonix.XML.Input.START_ELEMENT)return Jsonix.Util.Type.exists(this.wrapperElementName)?this.unmarshalWrapperElement(a,b,c):this.unmarshalElement(a,b,c);else if(this.mixed&&(d===Jsonix.XML.Input.CHARACTERS||d===Jsonix.XML.Input.CDATA||d===Jsonix.XML.Input.ENTITY_REFERENCE)){a=c.getText();return this.collection?[a]:a}else if(!(d===Jsonix.XML.Input.SPACE||d===Jsonix.XML.Input.COMMENT||
d===Jsonix.XML.Input.PROCESSING_INSTRUCTION))throw"Illegal state: unexpected event type ["+d+"].";},unmarshalWrapperElement:function(a,b,c){for(var d=null,e=c.next();e!==Jsonix.XML.Input.END_ELEMENT;){if(e===Jsonix.XML.Input.START_ELEMENT){c.getName();e=this.unmarshalElement(a,b,c);if(this.collection){if(d===null)d=[];for(var f=0;f<e.length;f++)d.push(e[f])}else if(d===null)d=e;else throw"Value already set.";}else if(this.mixed&&(e===Jsonix.XML.Input.CHARACTERS||e===Jsonix.XML.Input.CDATA||e===Jsonix.XML.Input.ENTITY_REFERENCE)){e=
c.getText();if(this.collection){if(d===null)d=[];d.push(e)}else if(d===null)d=e;else throw"Value already set.";}else if(!(e===Jsonix.XML.Input.SPACE||e===Jsonix.XML.Input.COMMENT||e===Jsonix.XML.Input.PROCESSING_INSTRUCTION))throw"Illegal state: unexpected event type ["+e+"].";e=c.next()}return d},unmarshalElement:function(a,b,c){var d=c.getName();b=this.getElementTypeInfo(a,b,d);a={name:c.getName(),value:b.unmarshal(a,c)};return this.collection?[a]:a},marshal:function(a,b,c,d){if(Jsonix.Util.Type.exists(c)){Jsonix.Util.Type.exists(this.wrapperElementName)&&
d.writeStartElement(this.wrapperElementName);if(this.collection){Jsonix.Util.Ensure.ensureArray(c,"Collection property requires an array value.");for(var e=0;e<c.length;e++)this.marshalItem(a,b,c[e],d)}else this.marshalItem(a,b,c,d);Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeEndElement()}},marshalItem:function(a,b,c,d){if(Jsonix.Util.Type.isString(c))if(this.mixed)d.writeCharacters(c);else throw"Property is not mixed, can't handle string values.";else if(Jsonix.Util.Type.isObject(c))this.marshalElement(a,
b,c,d);else if(this.mixed)throw"Unsupported content type, either objects or strings are supported.";else throw"Unsupported content type, only objects are supported.";},marshalElement:function(a,b,c,d){var e=Jsonix.XML.QName.fromObject(c.name);b=this.getElementTypeInfo(a,b,e);return this.marshalElementTypeInfo(a,c,e,b,d)},marshalElementTypeInfo:function(a,b,c,d,e){e.writeStartElement(c);Jsonix.Util.Type.exists(b.value)&&d.marshal(a,b.value,e);e.writeEndElement()},getElementTypeInfo:function(a,b,c){var d=
this.getPropertyElementTypeInfo(c);if(Jsonix.Util.Type.exists(d))return d.typeInfo;else{a=a.getElementInfo(c,b);if(Jsonix.Util.Type.exists(a))return a.typeInfo;else throw"Element ["+c.key+"] is not known in this context.";}},getPropertyElementTypeInfo:function(){throw"Abstract method [getPropertyElementTypeInfo].";},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);if(Jsonix.Util.Type.exists(b.value))throw"The structure already defines a value property.";else if(!Jsonix.Util.Type.exists(b.elements))b.elements=
{};if(Jsonix.Util.Type.exists(this.wrapperElementName))b.elements[this.wrapperElementName.key]=this;else this.buildStructureElements(a,b);if(this.mixed&&!Jsonix.Util.Type.exists(this.wrapperElementName))b.mixed=this},buildStructureElements:function(){throw"Abstract method [buildStructureElements].";},buildStructureElementTypeInfos:function(a,b,c){b.elements[c.elementName.key]=this;c=a.getSubstitutionMembers(c.elementName);if(Jsonix.Util.Type.isArray(c))for(var d=0;d<c.length;d++)this.buildStructureElementTypeInfos(a,
b,c[d])},CLASS_NAME:"Jsonix.Model.ElementRefPropertyInfo"});
Jsonix.Model.ElementRefPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementRefsPropertyInfo,{typeInfo:null,elementName:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementRefsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureObject(a.typeInfo);this.typeInfo=a.typeInfo;this.elementName=Jsonix.Util.Type.isObject(a.elementName)?a.elementName:new Jsonix.XML.QName(this.name)},getPropertyElementTypeInfo:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.localPart);
return Jsonix.XML.QName.fromObject(a).key===this.elementName.key?this:null},buildStructureElements:function(a,b){this.buildStructureElementTypeInfos(a,b,this)},CLASS_NAME:"Jsonix.Model.ElementRefPropertyInfo"});
Jsonix.Model.ElementRefsPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementRefsPropertyInfo,{elementTypeInfos:null,elementTypeInfosMap:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementRefsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureArray(a.elementTypeInfos);this.elementTypeInfos=a.elementTypeInfos;this.elementTypeInfosMap={};for(a=0;a<this.elementTypeInfos.length;a++){var b=this.elementTypeInfos[a];Jsonix.Util.Ensure.ensureObject(b);
this.elementTypeInfosMap[b.elementName.key]=b.typeInfo}},getPropertyElementTypeInfo:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.localPart);a=Jsonix.XML.QName.fromObject(a);var b=this.elementTypeInfosMap[a.key];return Jsonix.Util.Type.exists(b)?{elementName:a,typeInfo:b}:null},buildStructureElements:function(a,b){for(var c=0;c<this.elementTypeInfos.length;c++)this.buildStructureElementTypeInfos(a,b,this.elementTypeInfos[c])},CLASS_NAME:"Jsonix.Model.ElementRefsPropertyInfo"});
Jsonix.Model.AnyElementPropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{allowDom:true,allowTypedObject:true,mixed:true,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a]);this.allowDom=Jsonix.Util.Type.isBoolean(a.allowDom)?a.allowDom:true;this.allowTypedObject=Jsonix.Util.Type.isBoolean(a.allowTypedObject)?a.allowTypedObject:true;this.mixed=Jsonix.Util.Type.isBoolean(a.mixed)?a.mixed:true},unmarshal:function(a,b,c){var d=c.eventType;
if(d===Jsonix.XML.Input.START_ELEMENT)return this.unmarshalElement(a,b,c);else if(this.mixed&&(d===4||d===12||d===9)){a=c.getText();return this.collection?[a]:a}else if(this.mixed&&d===Jsonix.XML.Input.SPACE)return null;else if(d===Jsonix.XML.Input.COMMENT||d===Jsonix.XML.Input.PROCESSING_INSTRUCTION)return null;else throw"Illegal state: unexpected event type ["+d+"].";},unmarshalElement:function(a,b,c){var d=c.getName();if(this.allowTypedObject&&Jsonix.Util.Type.exists(a.getElementInfo(d,b))){b=
a.getElementInfo(d,b).typeInfo;a={name:d,value:b.unmarshal(a,c)}}else if(this.allowDom)a=c.getElement();else throw"Element ["+d.toString()+"] is not known in this context and property does not allow DOM.";return this.collection?[a]:a},marshal:function(a,b,c,d){if(Jsonix.Util.Type.exists(c))if(this.collection){Jsonix.Util.Ensure.ensureArray(c);for(b=0;b<c.length;b++)this.marshalItem(a,c[b],d)}else this.marshalItem(a,c,d)},marshalItem:function(a,b,c){if(this.mixed&&Jsonix.Util.Type.isString(b))c.writeCharacters(b);
else if(this.allowDom&&Jsonix.Util.Type.exists(b.nodeType))c.writeNode(b);else{var d=Jsonix.XML.QName.fromObject(b.name);if(this.allowTypedObject&&Jsonix.Util.Type.exists(a.getElementInfo(d))){var e=a.getElementInfo(d).typeInfo;c.writeStartElement(d);e.marshal(a,b.value,c);c.writeEndElement()}else throw"Element ["+d.toString()+"] is not known in this context";}},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);if(Jsonix.Util.Type.exists(b.value))throw"The structure already defines a value property.";
else if(!Jsonix.Util.Type.exists(b.elements))b.elements={};if(this.allowDom||this.allowTypedObject)b.any=this;if(this.mixed)b.mixed=this},CLASS_NAME:"Jsonix.Model.AnyElementPropertyInfo"});
Jsonix.Context=Jsonix.Class({elementInfos:null,properties:null,substitutionMembersMap:null,scopedElementInfosMap:null,initialize:function(a,b){this.elementInfos=[];this.properties={namespacePrefixes:{}};Jsonix.Util.Ensure.ensureArray(a);for(var c=0;c<a.length;c++){var d=a[c];Jsonix.Util.Ensure.ensureArray(d.elementInfos);for(var e=0;e<d.elementInfos.length;e++)this.elementInfos.push(d.elementInfos[e])}if(Jsonix.Util.Type.isObject(b))if(Jsonix.Util.Type.isObject(b.namespacePrefixes))this.properties.namespacePrefixes=
b.namespacePrefixes;this.substitutionMembersMap={};this.scopedElementInfosMap={};for(a=0;a<this.elementInfos.length;a++){b=this.elementInfos[a];if(Jsonix.Util.Type.exists(b.substitutionHead)){c=Jsonix.XML.QName.fromObject(b.substitutionHead).key;d=this.substitutionMembersMap[c];if(!Jsonix.Util.Type.isArray(d)){d=[];this.substitutionMembersMap[c]=d}d.push(b)}c=Jsonix.Util.Type.exists(b.scope)?b.scope.name:"##global";d=this.scopedElementInfosMap[c];if(!Jsonix.Util.Type.isObject(d)){d={};this.scopedElementInfosMap[c]=
d}d[b.elementName.key]=b}},getElementInfo:function(a,b){if(Jsonix.Util.Type.exists(b)){b=this.scopedElementInfosMap[b.name];if(Jsonix.Util.Type.exists(b)){b=b[a.key];if(Jsonix.Util.Type.exists(b))return b}}b=this.scopedElementInfosMap["##global"];if(Jsonix.Util.Type.exists(b)){a=b[a.key];if(Jsonix.Util.Type.exists(a))return a}return null},getSubstitutionMembers:function(a){return this.substitutionMembersMap[Jsonix.XML.QName.fromObject(a).key]},createMarshaller:function(){return new Jsonix.Context.Marshaller(this)},
createUnmarshaller:function(){return new Jsonix.Context.Unmarshaller(this)},CLASS_NAME:"Jsonix.Context"});
Jsonix.Context.Marshaller=Jsonix.Class({context:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);this.context=a},marshalString:function(a){a=this.marshalDocument(a);return Jsonix.DOM.serialize(a)},marshalDocument:function(a){var b=new Jsonix.XML.Output({namespacePrefixes:this.context.properties.namespacePrefixes}),c=b.writeStartDocument();this.marshalElementNode(a,b);b.writeEndDocument();return c},marshalElementNode:function(a,b){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureObject(a.name);
Jsonix.Util.Ensure.ensureString(a.name.localPart);Jsonix.Util.Ensure.ensureExists(a.value);var c=Jsonix.XML.QName.fromObject(a.name),d=this.context.getElementInfo(c);if(!Jsonix.Util.Type.exists(d))throw"Could not find element declaration for the element ["+c.key+"].";Jsonix.Util.Ensure.ensureObject(d.typeInfo);c=d.typeInfo;d=b.writeStartElement(a.name);c.marshal(this.context,a.value,b);b.writeEndElement();return d},CLASS_NAME:"Jsonix.Context.Marshaller"});
Jsonix.Context.Unmarshaller=Jsonix.Class({context:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);this.context=a},unmarshalString:function(a){Jsonix.Util.Ensure.ensureString(a);return this.unmarshalDocument(Jsonix.DOM.parse(a))},unmarshalURL:function(a,b,c){Jsonix.Util.Ensure.ensureString(a);Jsonix.Util.Ensure.ensureFunction(b);Jsonix.Util.Type.exists(c)&&Jsonix.Util.Ensure.ensureObject(c);that=this;Jsonix.DOM.load(a,function(d){b(that.unmarshalDocument(d))},c)},unmarshalDocument:function(a){a=
new Jsonix.XML.Input(a);a.nextTag();return this.unmarshalElementNode(a)},unmarshalElementNode:function(a){if(a.eventType!=1)throw"Parser must be on START_ELEMENT to read next text.";var b=null;b=Jsonix.XML.QName.fromObject(a.getName());var c=this.context.getElementInfo(b);if(!Jsonix.Util.Type.exists(c))throw"Could not find element declaration for the element ["+b.key+"].";Jsonix.Util.Ensure.ensureObject(c.typeInfo);a=c.typeInfo.unmarshal(this.context,a);return b={name:b,value:a}},CLASS_NAME:"Jsonix.Context.Unmarshaller"});
;
steal.end();
var PageMappings={};PageMappings.PagesCollection=new Jsonix.Model.ClassInfo({name:"PageMappings.PagesCollection"});PageMappings.PageType=new Jsonix.Model.ClassInfo({name:"PageMappings.PageType"});PageMappings.User=new Jsonix.Model.ClassInfo({name:"PageMappings.User"});PageMappings.CreatedModified=new Jsonix.Model.ClassInfo({name:"PageMappings.CreatedModified"});PageMappings.Published=new Jsonix.Model.ClassInfo({name:"PageMappings.Published"});PageMappings.Security=new Jsonix.Model.ClassInfo({name:"PageMappings.Security"});
PageMappings.Security.Owner=new Jsonix.Model.ClassInfo({name:"PageMappings.Security.Owner"});PageMappings.Locked=new Jsonix.Model.ClassInfo({name:"PageMappings.Locked"});PageMappings.Head=new Jsonix.Model.ClassInfo({name:"PageMappings.Head"});PageMappings.Head.Metadata=new Jsonix.Model.ClassInfo({name:"PageMappings.Head.Metadata"});PageMappings.Body=new Jsonix.Model.ClassInfo({name:"PageMappings.Body"});PageMappings.Body.Composer=new Jsonix.Model.ClassInfo({name:"PageMappings.Body.Composer"});
PageMappings.Body.Composer.Pagelet=new Jsonix.Model.ClassInfo({name:"PageMappings.Body.Composer.Pagelet"});PageMappings.Body.Composer.Pagelet.Locale=new Jsonix.Model.ClassInfo({name:"PageMappings.Body.Composer.Pagelet.Locale"});PageMappings.Body.Composer.Pagelet.Property=new Jsonix.Model.ClassInfo({name:"PageMappings.Body.Composer.Pagelet.Property"});
PageMappings.User.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"realm",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ValuePropertyInfo({name:"name",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];PageMappings.CreatedModified.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:PageMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"date",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];
PageMappings.Published.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:PageMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"from",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"to",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];PageMappings.Security.properties=[new Jsonix.Model.ElementPropertyInfo({name:"owner",typeInfo:PageMappings.Security.Owner})];
PageMappings.Security.Owner.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:PageMappings.User})];PageMappings.Locked.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:PageMappings.User})];PageMappings.PagesCollection.properties=[new Jsonix.Model.ElementPropertyInfo({name:"page",collection:true,typeInfo:PageMappings.PageType})];
PageMappings.PageType.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"path",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"version",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"head",typeInfo:PageMappings.Head}),new Jsonix.Model.ElementPropertyInfo({name:"body",typeInfo:PageMappings.Body})];
PageMappings.Head.properties=[new Jsonix.Model.ElementPropertyInfo({name:"template",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"layout",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"promote",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"index",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"metadata",typeInfo:PageMappings.Head.Metadata}),
new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:PageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"modified",typeInfo:PageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"published",typeInfo:PageMappings.Published}),new Jsonix.Model.ElementPropertyInfo({name:"security",typeInfo:PageMappings.Security}),new Jsonix.Model.ElementPropertyInfo({name:"locked",typeInfo:PageMappings.Locked})];
PageMappings.Head.Metadata.properties=[new Jsonix.Model.ElementMapPropertyInfo({name:"title",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"subject",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"series",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementMapPropertyInfo({name:"description",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"type",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementMapPropertyInfo({name:"coverage",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementMapPropertyInfo({name:"rights",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];
PageMappings.Body.properties=[new Jsonix.Model.ElementPropertyInfo({name:"composers",collection:true,elementName:new Jsonix.XML.QName("composer"),typeInfo:PageMappings.Body.Composer})];PageMappings.Body.Composer.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"pagelets",collection:true,elementName:new Jsonix.XML.QName("pagelet"),typeInfo:PageMappings.Body.Composer.Pagelet})];
PageMappings.Body.Composer.Pagelet.properties=[new Jsonix.Model.AttributePropertyInfo({name:"module",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"security",typeInfo:PageMappings.Security}),new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:PageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"published",typeInfo:PageMappings.Published}),
new Jsonix.Model.ElementPropertyInfo({name:"locale",collection:true,typeInfo:PageMappings.Body.Composer.Pagelet.Locale}),new Jsonix.Model.ElementPropertyInfo({name:"properties",typeInfo:PageMappings.Body.Composer.Pagelet.Property})];
PageMappings.Body.Composer.Pagelet.Locale.properties=[new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"original",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"modified",typeInfo:PageMappings.CreatedModified}),new Jsonix.Model.ElementMapPropertyInfo({name:"text",collection:true,key:new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];PageMappings.Body.Composer.Pagelet.Property.properties=[new Jsonix.Model.ElementMapPropertyInfo({name:"property",collection:true,key:new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];PageMappings.typeInfos=[PageMappings.Head];
PageMappings.elementInfos=[{elementName:new Jsonix.XML.QName("pages"),typeInfo:PageMappings.PagesCollection},{elementName:new Jsonix.XML.QName("page"),typeInfo:PageMappings.PageType},{elementName:new Jsonix.XML.QName("head"),typeInfo:PageMappings.Head},{elementName:new Jsonix.XML.QName("pagelet"),typeInfo:PageMappings.Body.Composer.Pagelet}];
;
steal.end();
var FileMappings={};FileMappings.FilesCollection=new Jsonix.Model.ClassInfo({name:"FileMappings.FilesCollection"});FileMappings.FileType=new Jsonix.Model.ClassInfo({name:"FileMappings.FileType"});FileMappings.User=new Jsonix.Model.ClassInfo({name:"FileMappings.User"});FileMappings.GPS=new Jsonix.Model.ClassInfo({name:"FileMappings.GPS"});FileMappings.CreatedModified=new Jsonix.Model.ClassInfo({name:"FileMappings.CreatedModified"});FileMappings.Published=new Jsonix.Model.ClassInfo({name:"FileMappings.Published"});
FileMappings.Security=new Jsonix.Model.ClassInfo({name:"FileMappings.Security"});FileMappings.Security.Owner=new Jsonix.Model.ClassInfo({name:"FileMappings.Security.Owner"});FileMappings.Locked=new Jsonix.Model.ClassInfo({name:"FileMappings.Locked"});FileMappings.Head=new Jsonix.Model.ClassInfo({name:"FileMappings.Head"});FileMappings.Head.Metadata=new Jsonix.Model.ClassInfo({name:"FileMappings.Head.Metadata"});FileMappings.Body=new Jsonix.Model.ClassInfo({name:"FileMappings.Body"});
FileMappings.Body.Content=new Jsonix.Model.ClassInfo({name:"FileMappings.Body.Content"});FileMappings.Body.Content.Video=new Jsonix.Model.ClassInfo({name:"FileMappings.Body.Content.Video"});FileMappings.Body.Content.Audio=new Jsonix.Model.ClassInfo({name:"FileMappings.Body.Content.Audio"});
FileMappings.User.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"realm",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ValuePropertyInfo({name:"name",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];FileMappings.GPS.properties=[new Jsonix.Model.AttributePropertyInfo({name:"lat",typeInfo:Jsonix.Schema.XSD.Double.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"lng",typeInfo:Jsonix.Schema.XSD.Double.INSTANCE})];
FileMappings.CreatedModified.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:FileMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"date",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];FileMappings.Published.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:FileMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"from",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"to",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];
FileMappings.Security.properties=[new Jsonix.Model.ElementPropertyInfo({name:"owner",typeInfo:FileMappings.Security.Owner})];FileMappings.Security.Owner.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:FileMappings.User})];FileMappings.Locked.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:FileMappings.User})];
FileMappings.FilesCollection.properties=[new Jsonix.Model.ElementPropertyInfo({name:"file",collection:true,typeInfo:FileMappings.FileType}),new Jsonix.Model.ElementPropertyInfo({name:"image",collection:true,typeInfo:FileMappings.FileType}),new Jsonix.Model.ElementPropertyInfo({name:"movie",collection:true,typeInfo:FileMappings.FileType})];
FileMappings.FileType.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"path",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"version",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"head",typeInfo:FileMappings.Head}),new Jsonix.Model.ElementPropertyInfo({name:"body",typeInfo:FileMappings.Body})];
FileMappings.Head.properties=[new Jsonix.Model.ElementPropertyInfo({name:"template",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"layout",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"promote",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"index",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"metadata",typeInfo:FileMappings.Head.Metadata}),
new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:FileMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"modified",typeInfo:FileMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"published",typeInfo:FileMappings.Published}),new Jsonix.Model.ElementPropertyInfo({name:"security",typeInfo:FileMappings.Security}),new Jsonix.Model.ElementPropertyInfo({name:"locked",typeInfo:FileMappings.Locked})];
FileMappings.Head.Metadata.properties=[new Jsonix.Model.ElementMapPropertyInfo({name:"title",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"subject",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"series",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementMapPropertyInfo({name:"description",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"type",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementMapPropertyInfo({name:"coverage",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementMapPropertyInfo({name:"rights",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];
FileMappings.Body.properties=[new Jsonix.Model.ElementPropertyInfo({name:"contents",collection:true,elementName:new Jsonix.XML.QName("content"),typeInfo:FileMappings.Body.Content})];
FileMappings.Body.Content.properties=[new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:FileMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"filename",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"source",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"external",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementPropertyInfo({name:"mimetype",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"size",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"width",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"height",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"author",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"datetaken",
typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"location",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"gps",typeInfo:FileMappings.GPS}),new Jsonix.Model.ElementPropertyInfo({name:"filmspeed",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"fnumber",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"focalwidth",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),
new Jsonix.Model.ElementPropertyInfo({name:"exposuretime",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"duration",typeInfo:Jsonix.Schema.XSD.Long.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"audio",typeInfo:FileMappings.Body.Content.Audio}),new Jsonix.Model.ElementPropertyInfo({name:"video",typeInfo:FileMappings.Body.Content.Video})];
FileMappings.Body.Content.Audio.properties=[new Jsonix.Model.ElementPropertyInfo({name:"bitdepth",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"bitrate",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"channels",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"samplingrate",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"format",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];
FileMappings.Body.Content.Video.properties=[new Jsonix.Model.ElementPropertyInfo({name:"bitrate",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"format",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"framerate",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"resolution",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"scantype",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];
FileMappings.typeInfos=[FileMappings.Head];FileMappings.elementInfos=[{elementName:new Jsonix.XML.QName("files"),typeInfo:FileMappings.FilesCollection},{elementName:new Jsonix.XML.QName("file"),typeInfo:FileMappings.FileType},{elementName:new Jsonix.XML.QName("image"),typeInfo:FileMappings.FileType},{elementName:new Jsonix.XML.QName("movie"),typeInfo:FileMappings.FileType},{elementName:new Jsonix.XML.QName("head"),typeInfo:FileMappings.Head},{elementName:new Jsonix.XML.QName("content"),typeInfo:FileMappings.Body.Content}];
;
steal.end();
var ImageMappings={};ImageMappings.ImagesCollection=new Jsonix.Model.ClassInfo({name:"ImageMappings.ImagesCollection"});ImageMappings.ImageType=new Jsonix.Model.ClassInfo({name:"ImageMappings.ImageType"});ImageMappings.User=new Jsonix.Model.ClassInfo({name:"ImageMappings.User"});ImageMappings.GPS=new Jsonix.Model.ClassInfo({name:"ImageMappings.GPS"});ImageMappings.CreatedModified=new Jsonix.Model.ClassInfo({name:"ImageMappings.CreatedModified"});ImageMappings.Published=new Jsonix.Model.ClassInfo({name:"ImageMappings.Published"});
ImageMappings.Security=new Jsonix.Model.ClassInfo({name:"ImageMappings.Security"});ImageMappings.Security.Owner=new Jsonix.Model.ClassInfo({name:"ImageMappings.Security.Owner"});ImageMappings.Locked=new Jsonix.Model.ClassInfo({name:"ImageMappings.Locked"});ImageMappings.Head=new Jsonix.Model.ClassInfo({name:"ImageMappings.Head"});ImageMappings.Head.Metadata=new Jsonix.Model.ClassInfo({name:"ImageMappings.Head.Metadata"});ImageMappings.Body=new Jsonix.Model.ClassInfo({name:"ImageMappings.Body"});
ImageMappings.Body.Content=new Jsonix.Model.ClassInfo({name:"ImageMappings.Body.Content"});ImageMappings.User.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"realm",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ValuePropertyInfo({name:"name",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];
ImageMappings.GPS.properties=[new Jsonix.Model.AttributePropertyInfo({name:"lat",typeInfo:Jsonix.Schema.XSD.Double.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"lng",typeInfo:Jsonix.Schema.XSD.Double.INSTANCE})];ImageMappings.CreatedModified.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:ImageMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"date",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];
ImageMappings.Published.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:ImageMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"from",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"to",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];ImageMappings.Security.properties=[new Jsonix.Model.ElementPropertyInfo({name:"owner",typeInfo:ImageMappings.Security.Owner})];
ImageMappings.Security.Owner.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:ImageMappings.User})];ImageMappings.Locked.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:ImageMappings.User})];ImageMappings.ImagesCollection.properties=[new Jsonix.Model.ElementPropertyInfo({name:"image",collection:true,typeInfo:ImageMappings.ImageType})];
ImageMappings.ImageType.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"path",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"version",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"head",typeInfo:ImageMappings.Head}),new Jsonix.Model.ElementPropertyInfo({name:"body",typeInfo:ImageMappings.Body})];
ImageMappings.Head.properties=[new Jsonix.Model.ElementPropertyInfo({name:"template",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"layout",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"promote",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"index",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"metadata",typeInfo:ImageMappings.Head.Metadata}),
new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:ImageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"modified",typeInfo:ImageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"published",typeInfo:ImageMappings.Published}),new Jsonix.Model.ElementPropertyInfo({name:"security",typeInfo:ImageMappings.Security}),new Jsonix.Model.ElementPropertyInfo({name:"locked",typeInfo:ImageMappings.Locked})];
ImageMappings.Head.Metadata.properties=[new Jsonix.Model.ElementMapPropertyInfo({name:"title",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"subject",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"series",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementMapPropertyInfo({name:"description",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"type",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementMapPropertyInfo({name:"coverage",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementMapPropertyInfo({name:"rights",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];
ImageMappings.Body.properties=[new Jsonix.Model.ElementPropertyInfo({name:"contents",collection:true,elementName:new Jsonix.XML.QName("content"),typeInfo:ImageMappings.Body.Content})];
ImageMappings.Body.Content.properties=[new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:ImageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"filename",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"source",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"external",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementPropertyInfo({name:"mimetype",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"size",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"width",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"height",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"author",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"datetaken",
typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"location",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"gps",typeInfo:FileMappings.GPS}),new Jsonix.Model.ElementPropertyInfo({name:"filmspeed",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"fnumber",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"focalwidth",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),
new Jsonix.Model.ElementPropertyInfo({name:"exposuretime",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE})];ImageMappings.typeInfos=[ImageMappings.Head];ImageMappings.elementInfos=[{elementName:new Jsonix.XML.QName("images"),typeInfo:ImageMappings.ImagesCollection},{elementName:new Jsonix.XML.QName("image"),typeInfo:ImageMappings.ImageType},{elementName:new Jsonix.XML.QName("head"),typeInfo:ImageMappings.Head},{elementName:new Jsonix.XML.QName("content"),typeInfo:ImageMappings.Body.Content}];
;
steal.end();
steal.plugins("jqueryui/dialog","jquery/event/hover","jqueryui/draggable","jqueryui/droppable","jqueryui/resizable","jqueryui/mouse").models("../../models/workbench","../../models/pagelet").resources("trimpath-template").then("inputconverter").then(function(b){b.Controller("Editor.Pagelet",{},{init:function(){this.element.attr("index",this.element.index());this.showHover=true;b.Hover.delay=10},update:function(a){if(a!==undefined){this.element.attr("index",this.element.index());this.options.composer=
a.composer;this.showHover=true}},enable:function(){this.showHover=true},disable:function(){this.showHover=false},_openPageEditor:function(a,e){var c=this.options.composer.page.getEditorPagelet(this.options.composer.id,this.element.index(),this.options.composer.language),d=b(a).find("editor:first"),f=b(a).find("pageleteditor:first").attr("name");if(d.length){d=this._processTemplate(d.text(),c);if(d!=null){b(a).find("link").each(function(){if(!(b('head link[href="'+b(this).attr("href")+'"][rel="stylesheet"]').length>
0)){b("head").append("<link>");b("head").children(":last").attr({rel:"stylesheet",type:b(this).attr("type"),href:b(this).attr("href")})}});this.scriptIndex=0;var g=b(a).find("script");g.each(b.proxy(function(h,i){b.getScript(b(i).attr("src"),this.callback("_openEditor",g.length))},this));a=b("<div></div>").html(d);this._convertInputs(a,c);this.editorDialog=b("#wbl-pageleteditor").html('<form id="wbl-validate" onsubmit="return false;">'+a.html()+"</form>").dialog({title:"Pagelet bearbeiten: "+f,width:500,
height:400,modal:true,autoOpen:false,closeOnEscape:false,resizable:true,buttons:{Abbrechen:function(){b("body").css({overflow:"visible"});b(this).dialog("close")},OK:b.proxy(function(){this.editorDialog.find("form#wbl-validate").submit();if(this.editorDialog.find("form#wbl-validate").valid()){var h=this._updatePageletValues(c);this.options.composer.page.insertPagelet(h,this.options.composer.id,this.element.index());this._showRenderer(h);b("body").css({overflow:"visible"});this.editorDialog.dialog("destroy")}},
this)},close:b.proxy(function(){e==true&&this._deletePagelet();this.editorDialog.dialog("destroy")},this),open:b.proxy(function(){this.editorDialog.trigger("pageletEditorOpen",{language:this.options.composer.language,runtime:this.options.composer.runtime})},this),create:function(){b("body").css({overflow:"hidden"})}});this.editorDialog.find("form#wbl-validate").validate();g.length<1&&this.editorDialog.dialog("open")}}else this._showRenderer()},_openEditor:function(a){this.scriptIndex++;a==this.scriptIndex&&
this.editorDialog.dialog("open")},_processTemplate:function(a,e){var c={};try{c=TrimPath.parseTemplate(a.trim()).process(e)}catch(d){c.exception=d}finally{if(b.isEmptyObject(c.exception))return c;alert("TrimPath Process Error: "+c.exception.message);return null}},_deletePagelet:function(){this.options.composer.page.deletePagelet(this.options.composer.id,this.element.index());var a=this.element.parent();this.element.remove();a.editor_composer()},_convertInputs:function(a,e){b(a).find(":input").each(function(c){if(this.tagName!=
"BUTTON"){c=b(this).attr("name");if(c==undefined){alert("Bad editor!");return false}var d=c.split(":");c=b(a).find(':input[name="'+c+'"]').index(this);if(b(this).attr("type")=="text"||b(this).attr("type")=="hidden")InputConverter.convertText(b(this),d,e,c);else if(b(this).attr("type")=="checkbox")InputConverter.convertCheckbox(b(this),d,e);else if(b(this).attr("type")=="radio")InputConverter.convertRadio(b(this),d,e);else if(this.tagName=="TEXTAREA")InputConverter.convertTextarea(b(this),d,e,c);else this.tagName==
"SELECT"&&InputConverter.convertSelect(b(this),d,e)}})},_updatePageletValues:function(a){var e=this.editorDialog.find(":input");if(a.locale.current==undefined)a=this._createNewLocale(a,this.options.composer.language);else{a.locale.current.text={};a.properties.property={};this._updateModified(a)}b.each(e,function(c,d){c=d.name.split(":");if(d.type=="select-one"||d.type=="select-multiple"){var f=[];b(d).find("option:selected").each(function(){f.push(b(this).val())});if(c[0]=="property")a.properties.property[c[1]]=
f;else if(c[0]=="element")a.locale.current.text[c[1]]=f}else if(d.type=="checkbox")if(c[0]=="property")a.properties.property[c[1]]=d.checked?["true"]:["false"];else{if(c[0]=="element")a.locale.current.text[c[1]]=d.checked?["true"]:["false"]}else if(d.type=="radio"){if(d.checked!=false)if(c[0]=="property")a.properties.property[c[1]]=[d.value];else if(c[0]=="element")a.locale.current.text[c[1]]=[d.value]}else if(c[0]=="property"){if(b.isEmptyObject(a.properties.property[c[1]]))a.properties.property[c[1]]=
[];a.properties.property[c[1]].push(d.value)}else if(c[0]=="element"){if(b.isEmptyObject(a.locale.current.text[c[1]]))a.locale.current.text[c[1]]=[];a.locale.current.text[c[1]].push(d.value)}});return a},_showRenderer:function(a){Workbench.getRenderer({id:this.options.composer.page.value.id,composer:this.options.composer.id,language:this.options.composer.language,pageletId:this.element.index(),pagelet:a},b.proxy(function(e){this.element.html(e)},this))},_createNewLocale:function(a,e){a.locale.current=
{text:{},language:e,original:b.isEmptyObject(a.locale.original),modified:{user:{id:this.options.composer.runtime.getUserLogin(),name:this.options.composer.runtime.getUserName(),realm:this.options.composer.runtime.getId()},date:new Date}};a.locale.push(a.locale.current);return a},_updateModified:function(a){a.locale.current.modified={user:{id:this.options.composer.runtime.getUserLogin(),name:this.options.composer.runtime.getUserName(),realm:this.options.composer.runtime.getId()},date:new Date}},hoverenter:function(a){if(this.showHover){a.hasClass("wbl-noEditor")||
this.element.append('<img class="wbl-iconEditing" src="'+this.options.composer.runtime.getRootPath()+'/editor/composer/resources/icon_editing.png" />');this.element.append('<img class="wbl-iconRemove" src="'+this.options.composer.runtime.getRootPath()+'/editor/composer/resources/icon_trash.png" />')}},hoverleave:function(){if(this.showHover){this.element.find("img.wbl-iconEditing").remove();this.element.find("img.wbl-iconRemove").remove()}},"img.wbl-iconEditing click":function(){Workbench.getPageletEditor({id:this.options.composer.page.value.id,
composer:this.options.composer.id,language:this.options.composer.language,pagelet:this.element.index()},this.callback("_openPageEditor"))},"img.wbl-iconRemove click":function(){this._deletePagelet()}})});
;
steal.end();
steal.plugins("jquery/model").then(function(d){d.Model("Workbench",{getPageletEditor:function(a,c){var b="/system/weblounge/workbench/edit/"+a.id+"/"+a.composer+"/"+a.pagelet;if("language"in a)b+="?language="+a.language;"id"in a&&d.ajax(b,{success:c})},getRenderer:function(a,c){var b="/system/weblounge/workbench/renderer/"+a.id+"/"+a.composer+"/"+a.pageletId;if("language"in a)b+="?language="+a.language;if("id"in a)a.pagelet!=undefined?d.ajax(b,{type:"GET",data:a.pagelet,success:c}):d.ajax(b,{type:"GET",
success:c})},suggestTags:function(a,c){"seed"in a&&d.get("/system/weblounge/workbench/suggest/tags/"+a.seed,function(b){c(b)},"xml")}},{})});
;
steal.end();
steal.then("jsonix").then(function(d){unmarshalPage=function(a,b){a=Editor.Jsonix.context().createUnmarshaller().unmarshalDocument(a);b(a.value.page)};d.Model.extend("Pagelet",{finaAll:"",findOne:function(a,b){"id"in a&&d.ajax("/system/weblounge/pages/"+a.id+"/composer/"+a.composer+"pagelets"+a.index,{success:function(e){unmarshalPage(e,b)}})},addCurrentLanguage:function(a,b){d.each(a.value.locale,function(e,c){if(c.language==b)a.value.locale.current=c;if(c.original==true)a.value.locale.original=
c});return a},removeCurrentLanguage:function(a){delete a.value.locale.current;delete a.value.locale.original;return a}},{})});
;
steal.end();
var TrimPath;
(function(){if(TrimPath==null)TrimPath={};if(TrimPath.evalEx==null)TrimPath.evalEx=function(a){return eval(a)};var o;if(Array.prototype.pop==null)Array.prototype.pop=function(){if(this.length===0)return o;return this[--this.length]};if(Array.prototype.push==null)Array.prototype.push=function(){for(var a=0;a<arguments.length;++a)this[this.length]=arguments[a];return this.length};TrimPath.parseTemplate=function(a,c,b){if(b==null)b=TrimPath.parseTemplate_etc;var d=p(a,c,b),f=TrimPath.evalEx(d,c,1);if(f!=
null)return new b.Template(c,a,d,f,b);return null};try{String.prototype.process=function(a,c){var b=TrimPath.parseTemplate(this,null);if(b!=null)return b.process(a,c);return this}}catch(u){}TrimPath.parseTemplate_etc={};TrimPath.parseTemplate_etc.statementTag="forelse|for|if|elseif|else|var|macro";TrimPath.parseTemplate_etc.statementDef={"if":{delta:1,prefix:"if (",suffix:") {",paramMin:1},"else":{delta:0,prefix:"} else {"},elseif:{delta:0,prefix:"} else if (",suffix:") {",paramDefault:"true"},"/if":{delta:-1,
prefix:"}"},"for":{delta:1,paramMin:3,prefixFunc:function(a,c,b,d){if(a[2]!="in")throw new d.ParseError(b,c.line,"bad for loop statement: "+a.join(" "));c=a[1];b="__LIST__"+c;return["var ",b," = ",a[3],";var __LENGTH_STACK__;if (typeof(__LENGTH_STACK__) == 'undefined' || !__LENGTH_STACK__.length) __LENGTH_STACK__ = new Array();__LENGTH_STACK__[__LENGTH_STACK__.length] = 0;if ((",b,") != null) { var ",c,"_ct = 0;for (var ",c,"_index in ",b,") { ",c,"_ct++;if (typeof(",b,"[",c,"_index]) == 'function') {continue;}__LENGTH_STACK__[__LENGTH_STACK__.length - 1]++;var ",
c," = ",b,"[",c,"_index];"].join("")}},forelse:{delta:0,prefix:"} } if (__LENGTH_STACK__[__LENGTH_STACK__.length - 1] == 0) { if (",suffix:") {",paramDefault:"true"},"/for":{delta:-1,prefix:"} }; delete __LENGTH_STACK__[__LENGTH_STACK__.length - 1];"},"var":{delta:0,prefix:"var ",suffix:";"},macro:{delta:1,prefixFunc:function(a){var c=a[1].split("(")[0];return["var ",c," = function",a.slice(1).join(" ").substring(c.length),"{ var _OUT_arr = []; var _OUT = { write: function(m) { if (m) _OUT_arr.push(m); } }; "].join("")}},
"/macro":{delta:-1,prefix:" return _OUT_arr.join(''); };"}};TrimPath.parseTemplate_etc.modifierDef={eat:function(){return""},escape:function(a){return String(a).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},capitalize:function(a){return String(a).toUpperCase()},"default":function(a,c){return a!=null?a:c}};TrimPath.parseTemplate_etc.modifierDef.h=TrimPath.parseTemplate_etc.modifierDef.escape;TrimPath.parseTemplate_etc.Template=function(a,c,b,d,f){this.process=function(g,e){if(g==
null)g={};if(g._MODIFIERS==null)g._MODIFIERS={};if(g.defined==null)g.defined=function(k){return g[k]!=undefined};for(var h in f.modifierDef)if(g._MODIFIERS[h]==null)g._MODIFIERS[h]=f.modifierDef[h];if(e==null)e={};var i=[];h={write:function(k){i.push(k)}};try{d(h,g,e)}catch(j){if(e.throwExceptions==true)throw j;e=new String(i.join("")+"[ERROR: "+j.toString()+(j.message?"; "+j.message:"")+"]");e.exception=j;return e}return i.join("")};this.name=a;this.source=c;this.sourceFunc=b;this.toString=function(){return"TrimPath.Template ["+
a+"]"}};TrimPath.parseTemplate_etc.ParseError=function(a,c,b){this.name=a;this.line=c;this.message=b};TrimPath.parseTemplate_etc.ParseError.prototype.toString=function(){return"TrimPath template ParseError in "+this.name+": line "+this.line+", "+this.message};var p=function(a,c,b){a=q(a);for(var d=["var TrimPath_Template_TEMP = function(_OUT, _CONTEXT, _FLAGS) { with (_CONTEXT) {"],f={stack:[],line:1},g=-1;g+1<a.length;){var e=g;for(e=a.indexOf("{",e+1);e>=0;){var h=a.indexOf("}",e+1);if(h=a.substring(e,
h).match(/^\{(cdata|minify|eval)/)){h=h[1];var i=e+h.length+1,j=a.indexOf("}",i);if(j>=0){i=j-i<=0?"{/"+h+"}":a.substring(i+1,j);var k=a.indexOf(i,j+1);if(k>=0){l(a.substring(g+1,e),d);g=a.substring(j+1,k);if(h=="cdata")m(g,d);else if(h=="minify")m(r(g),d);else h=="eval"&&g!=null&&g.length>0&&d.push("_OUT.write( (function() { "+g+" })() );");e=g=k+i.length-1}}}else if(a.charAt(e-1)!="$"&&a.charAt(e-1)!="\\"){h=a.charAt(e+1)=="/"?2:1;if(a.substring(e+h,e+10+h).search(TrimPath.parseTemplate_etc.statementTag)==
0)break}e=a.indexOf("{",e+1)}if(e<0)break;h=a.indexOf("}",e+1);if(h<0)break;l(a.substring(g+1,e),d);s(a.substring(e,h+1),f,d,c,b);g=h}l(a.substring(g+1),d);if(f.stack.length!=0)throw new b.ParseError(c,f.line,"unclosed, unmatched statement(s): "+f.stack.join(","));d.push("}}; TrimPath_Template_TEMP");return d.join("")},s=function(a,c,b,d,f){var g=a.slice(1,-1).split(" "),e=f.statementDef[g[0]];if(e==null)l(a,b);else{if(e.delta<0){if(c.stack.length<=0)throw new f.ParseError(d,c.line,"close tag does not match any previous statement: "+
a);c.stack.pop()}e.delta>0&&c.stack.push(a);if(e.paramMin!=null&&e.paramMin>=g.length)throw new f.ParseError(d,c.line,"statement needs more parameters: "+a);e.prefixFunc!=null?b.push(e.prefixFunc(g,c,d,f)):b.push(e.prefix);if(e.suffix!=null){if(g.length<=1)e.paramDefault!=null&&b.push(e.paramDefault);else for(a=1;a<g.length;a++){a>1&&b.push(" ");b.push(g[a])}b.push(e.suffix)}}},l=function(a,c){if(!(a.length<=0)){for(var b=0,d=a.length-1;b<a.length&&a.charAt(b)=="\n";)b++;for(;d>=0&&(a.charAt(d)==
" "||a.charAt(d)=="\t");)d--;if(d<b)d=b;if(b>0){c.push('if (_FLAGS.keepWhitespace == true) _OUT.write("');var f=a.substring(0,b).replace("\n","\\n");if(f.charAt(f.length-1)=="\n")f=f.substring(0,f.length-1);c.push(f);c.push('");')}b=a.substring(b,d+1).split("\n");for(f=0;f<b.length;f++){t(b[f],c);f<b.length-1&&c.push('_OUT.write("\\n");\n')}if(d+1<a.length){c.push('if (_FLAGS.keepWhitespace == true) _OUT.write("');f=a.substring(d+1).replace("\n","\\n");if(f.charAt(f.length-1)=="\n")f=f.substring(0,
f.length-1);c.push(f);c.push('");')}}},t=function(a,c){for(var b="}",d=-1;d+b.length<a.length;){var f="${",g="}",e=a.indexOf(f,d+b.length);if(e<0)break;if(a.charAt(e+2)=="%"){f="${%";g="%}"}var h=a.indexOf(g,e+f.length);if(h<0)break;m(a.substring(d+b.length,e),c);b=a.substring(e+f.length,h).replace(/\|\|/g,"#@@#").split("|");for(var i in b)if(b[i].replace)b[i]=b[i].replace(/#@@#/g,"||");c.push("_OUT.write(");n(b,b.length-1,c);c.push(");");d=h;b=g}m(a.substring(d+b.length),c)},m=function(a,c){if(!(a==
null||a.length<=0)){a=a.replace(/\\/g,"\\\\");a=a.replace(/\n/g,"\\n");a=a.replace(/"/g,'\\"');c.push('_OUT.write("');c.push(a);c.push('");')}},n=function(a,c,b){var d=a[c];if(c<=0)b.push(d);else{d=d.split(":");b.push('_MODIFIERS["');b.push(d[0]);b.push('"](');n(a,c-1,b);if(d.length>1){b.push(",");b.push(d[1])}b.push(")")}},q=function(a){a=a.replace(/\t/g,"    ");a=a.replace(/\r\n/g,"\n");a=a.replace(/\r/g,"\n");return a=a.replace(/^(\s*\S*(\s+\S+)*)\s*$/,"$1")},r=function(a){a=a.replace(/^\s+/g,
"");a=a.replace(/\s+$/g,"");a=a.replace(/\s+/g," ");return a=a.replace(/^(\s*\S*(\s+\S+)*)\s*$/,"$1")};TrimPath.parseDOMTemplate=function(a,c,b){if(c==null)c=document;c=c.getElementById(a);var d=c.value;if(d==null)d=c.innerHTML;d=d.replace(/&lt;/g,"<").replace(/&gt;/g,">");return TrimPath.parseTemplate(d,a,b)};TrimPath.processDOMTemplate=function(a,c,b,d,f){return TrimPath.parseDOMTemplate(a,d,f).process(c,b)}})();
;
steal.end();
$.Class.extend("InputConverter",{convertText:function(b,a,c,d){if(a[0]=="element")if(InputConverter.existsCurrent(c,a[1]))b.attr("value",c.locale.current.text[a[1]][d]);else InputConverter.existsOriginal(c,a[1])&&b.attr("value",c.locale.original.text[a[1]][d]);else a[0]=="property"&&InputConverter.existsProperty(c,a[1])&&b.attr("value",c.properties.property[a[1]][d])},convertCheckbox:function(b,a,c){InputConverter.convert(a,c,function(){if(c.locale.current.text[a[1]].toString()=="true")b.attr("checked",
"checked");else c.locale.current.text[a[1]].toString()=="false"&&b.removeAttr("checked")},function(){if(c.locale.original.text[a[1]].toString()=="true")b.attr("checked","checked");else c.locale.original.text[a[1]].toString()=="false"&&b.removeAttr("checked")},function(){if(c.properties.property[a[1]].toString()=="true")b.attr("checked","checked");else c.properties.property[a[1]].toString()=="false"&&b.removeAttr("checked")})},convertRadio:function(b,a,c){InputConverter.convert(a,c,function(){var d=
c.locale.current.text[a[1]].toString();b.val()==d?b.attr("checked","checked"):b.removeAttr("checked")},function(){var d=c.locale.original.text[a[1]].toString();b.val()==d?b.attr("checked","checked"):b.removeAttr("checked")},function(){b.val()==c.properties.property[a[1]].toString()?b.attr("checked","checked"):b.removeAttr("checked")})},convertTextarea:function(b,a,c,d){InputConverter.convert(a,c,function(){b.html(c.locale.current.text[a[1]][d])},function(){b.html(c.locale.original.text[a[1]][d])},
function(){b.html(c.properties.property[a[1]][d])})},convertSelect:function(b,a,c){$(b).find("option").each(function(){InputConverter.convert(a,c,$.proxy(function(){var d=c.locale.current.text[a[1]];$.inArray($(this).val(),d)==-1?$(this).removeAttr("selected"):$(this).attr("selected","selected")},this),$.proxy(function(){var d=c.locale.original.text[a[1]];$.inArray($(this).val(),d)==-1?$(this).removeAttr("selected"):$(this).attr("selected","selected")},this),$.proxy(function(){var d=c.properties.property[a[1]];
$.inArray($(this).val(),d)==-1?$(this).removeAttr("selected"):$(this).attr("selected","selected")},this))})},existsCurrent:function(b,a){if($.isEmptyObject(b.locale.current))return false;return!$.isEmptyObject(b.locale.current.text[a])},existsOriginal:function(b,a){if($.isEmptyObject(b.locale.original))return false;return!$.isEmptyObject(b.locale.original.text[a])},existsProperty:function(b,a){return!$.isEmptyObject(b.properties.property[a])},convert:function(b,a,c,d,e){if(b[0]=="element")if(InputConverter.existsCurrent(a,
b[1]))c();else InputConverter.existsOriginal(a,b[1])&&d();else b[0]=="property"&&InputConverter.existsProperty(a,b[1])&&e()}},{});
;
steal.end();
steal.then("jsonix").then(function(b){b.Model("Runtime",{findOne:function(c,a){b.ajax("/system/weblounge/runtime/",{async:false,success:this.callback(["parseXML","wrap",a])})},parseXML:function(c){var a={};a.path=b(c).find("ui path:first").text();a.security=b(c).find("security enabled:first").text()=="true";a.user={};var d=b(c).find("security user:first");a.user.login=d.attr("id");a.user.realm=d.attr("realm");a.user.name=d.find("name").text();if(d.find("firstname").length)a.user.firstname=d.find("firstname").text();
if(d.find("lastname").length)a.user.lastname=d.find("lastname").text();a.user.email=d.find("email").text();a.site={};a.roles=[];b(c).find("security roles role").each(function(e,f){a.roles.push({id:b(f).attr("id"),context:b(f).attr("context"),name:b(f).find("name").text()})});b(c).find("site").each(function(){a.site.id=b(this).find("id:first").text();a.site.languages=[];b(this).find("language").each(function(e){a.site.languages[e]={};a.site.languages[e].language=b(this).text();a.site.languages[e]._default=
b(this).attr("default")=="true"});a.site.domains=[];b(this).find("url").each(function(e){a.site.domains[e]={};a.site.domains[e].url=b(this).text();a.site.domains[e]._default=b(this).attr("default")=="true"});a.site.templates=[];b(this).find("template").each(function(e){a.site.templates[e]={};a.site.templates[e].id=b(this).attr("id");a.site.templates[e].composeable=b(this).attr("composeable")=="true";a.site.templates[e]._default=b(this).attr("default")=="true"})});return a}},{getLanguages:function(){return this.site.languages},
isSystemAdmin:function(){var c=false;b.each(this.roles,function(a,d){if(d.id=="systemadministrator"&&d.context=="weblounge"){c=true;return false}});return c},getUserName:function(){return this.user.name},getFirstName:function(){if(!b.isEmptyObject(this.user.firstname))return this.user.firstname;return this.user.name},getUserLogin:function(){return this.user.login},getUserEmail:function(){return this.user.email},getId:function(){return this.site.id},getRootPath:function(){return this.path},getSiteLayouts:function(){var c=
[];b.each(this.site.templates,function(a,d){d.composeable&&c.push(d)});return c},getSiteModules:function(c){Site.getModules({id:this.getId()},c)},getModulePagelets:function(c,a){Site.getModule({id:this.getId(),module:c,composeable:true},a)},getDefaultLanguage:function(){var c;b.each(this.site.languages,function(a,d){if(d._default){c=d.language;return false}});return c}})});
;
steal.end();
steal.plugins("jquery/model").resources("../../resources/Jsonix-all-1.1-SNAPSHOT").then("page-mappings","file-mappings","image-mappings").then(function(a){a.Class("Editor.Jsonix",{context:function(){return new Jsonix.Context([PageMappings,FileMappings,ImageMappings],{})}},{})});
;
steal.end();
var Jsonix={singleFile:true};Jsonix.Util={};Jsonix.Util.extend=function(a,b){a=a||{};if(b){for(var c in b){var d=b[c];if(d!==undefined)a[c]=d}if(!(typeof window.Event=="function"&&b instanceof window.Event)&&b.hasOwnProperty&&b.hasOwnProperty("toString"))a.toString=b.toString}return a};
Jsonix.Class=function(){for(var a=function(){this.initialize.apply(this,arguments)},b={},c=function(){},d,e,f=0,g=arguments.length;f<g;++f){e=arguments[f];if(typeof e=="function"){if(f===0&&g>1){d=e.prototype.initialize;e.prototype.initialize=c;b=new e;if(d===undefined)delete e.prototype.initialize;else e.prototype.initialize=d}d=e.prototype}else d=e;Jsonix.Util.extend(b,d)}a.prototype=b;return a};Jsonix.XML={};
Jsonix.DOM={createDocument:function(){return document.implementation&&document.implementation.createDocument?document.implementation.createDocument("","",null):new ActiveXObject("MSXML2.DOMDocument")},serialize:function(a){Jsonix.Util.Ensure.ensureExists(a);if(typeof XMLSerializer!=="undefined")return(new XMLSerializer).serializeToString(a);else if(Jsonix.Util.Type.exists(a.xml))return a.xml;else throw"Could not serialize the node, neither XMLSerializer nor the [xml] property were found.";},parse:function(a){Jsonix.Util.Ensure.ensureExists(a);
if(typeof DOMParser!="undefined")return(new DOMParser).parseFromString(a,"application/xml");else if(typeof ActiveXObject!="undefined"){var b=Jsonix.DOM.createDocument("","");b.loadXML(a);return b}else{a="data:text/xml;charset=utf-8,"+encodeURIComponent(a);b=new XMLHttpRequest;b.open("GET",a,false);b.overrideMimeType&&b.overrideMimeType("text/xml");b.send(null);return b.responseXML}},load:function(a,b,c){Jsonix.Request.INSTANCE.issue(a,function(d){if(Jsonix.Util.Type.exists(d.responseXML)&&Jsonix.Util.Type.exists(d.responseXML.documentElement))d=
d.responseXML;else if(Jsonix.Util.Type.isString(d.responseText))d=Jsonix.DOM.parse(d.responseText);else throw"Response does not have valid [responseXML] or [responseText].";b(d)},function(){throw"Could not retrieve XML from URL ["+a+"].";},c)}};
Jsonix.Request=Jsonix.Class({factories:[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.6.0")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],initialize:function(){},issue:function(a,b,c,d){Jsonix.Util.Ensure.ensureString(a);if(Jsonix.Util.Type.exists(b))Jsonix.Util.Ensure.ensureFunction(b);else b=function(){};if(Jsonix.Util.Type.exists(c))Jsonix.Util.Ensure.ensureFunction(c);
else c=function(){};if(Jsonix.Util.Type.exists(d))Jsonix.Util.Ensure.ensureObject(d);else d={};var e=this.createTransport(),f=Jsonix.Util.Type.isString(d.method)?d.method:"GET",g=Jsonix.Util.Type.isBoolean(d.async)?d.async:true,l=Jsonix.Util.Type.isString(d.proxy)?d.proxy:Jsonix.Request.PROXY,h=Jsonix.Util.Type.isString(d.user)?d.user:null,i=Jsonix.Util.Type.isString(d.password)?d.password:null;if(Jsonix.Util.Type.isString(l)&&a.indexOf("http")===0)a=l+encodeURIComponent(a);Jsonix.Util.Type.isString(h)?
e.open(f,a,g,h,i):e.open(f,a,g);if(Jsonix.Util.Type.isObject(d.headers))for(var j in d.headers)d.headers.hasOwnProperty(j)&&e.setRequestHeader(j,d.headers[j]);var k=Jsonix.Util.Type.exists(d.data)?d.data:null;if(g){var m=this;e.onreadystatechange=function(){m.handleTransport(e,b,c)};window.setTimeout(function(){e.send(k)},0)}else{e.send(k);this.handleTransport(e,b,c)}return e},handleTransport:function(a,b,c){if(a.readyState==4){if(!a.status||a.status>=200&&a.status<300)b(a);if(a.status&&(a.status<
200||a.status>=300))c(a)}},createTransport:function(){for(var a=0,b=this.factories.length;a<b;a++)try{return this.factories[a]()}catch(c){}throw"Could not create XML HTTP transport.";},CLASS_NAME:"Jsonix.Request"});Jsonix.Request.INSTANCE=new Jsonix.Request;Jsonix.Request.PROXY=null;Jsonix.Schema={};Jsonix.Model={};
Jsonix.Util.Type={exists:function(a){return typeof a!=="undefined"&&a!==null},isString:function(a){return typeof a==="string"},isBoolean:function(a){return typeof a==="boolean"},isObject:function(a){return typeof a==="object"},isFunction:function(a){return typeof a==="function"},isNumber:function(a){return typeof a==="number"&&!isNaN(a)},isNumberOrNaN:function(a){return a===+a||Object.prototype.toString.call(a)==="[object Number]"},isNaN:function(a){return Jsonix.Util.Type.isNumberOrNaN(a)&&isNaN(a)},
isArray:function(a){return!!(a&&a.concat&&a.unshift&&!a.callee)},isDate:function(a){return!!(a&&a.getTimezoneOffset&&a.setUTCFullYear)},isRegExp:function(a){return!!(a&&a.test&&a.exec&&(a.ignoreCase||a.ignoreCase===false))},equals:function(a,b,c){var d=Jsonix.Util.Type.isFunction(c),e=function(){var i=slice.call(arguments),j=i.length<=1,k=j?0:i[0],m=i[2]||1;i=Math.max(Math.ceil(((j?i[0]:i[1])-k)/m),0);j=0;for(var n=new Array(i);j<i;){n[j++]=k;k+=m}return n},f=Object.keys||function(i){if(Jsonix.Util.Type.isArray(i))return e(0,
i.length);var j=[];for(var k in i)if(i.hasOwnProperty(k))j[j.length]=k;return j};if(a===b)return true;if(Jsonix.Util.Type.isNaN(a)&&Jsonix.Util.Type.isNaN(b))return true;var g=typeof a,l=typeof b;if(g!=l){d&&c("Types differ ["+g+"], ["+l+"].");return false}if(a==b)return true;if(!a&&b||a&&!b){d&&c("One is falsy, the other is truthy.");return false}if(Jsonix.Util.Type.isDate(a)&&Jsonix.Util.Type.isDate(b))return a.getTime()===b.getTime();if(Jsonix.Util.Type.isNaN(a)&&Jsonix.Util.Type.isNaN(b))return false;
if(Jsonix.Util.Type.isRegExp(a)&&Jsonix.Util.Type.isRegExp(b))return a.source===b.source&&a.global===b.global&&a.ignoreCase===b.ignoreCase&&a.multiline===b.multiline;if(g!=="object")return false;if(a.length&&a.length!==b.length)return false;g=f(a);f=f(b);if(g.length!=f.length){d&&c("Different number of properties ["+g.length+"], ["+f.length+"].");for(var h=0;h<g.length;h++)d&&c("A ["+g[h]+"]="+a[g[h]]);for(a=0;a<f.length;a++)d&&c("B ["+f[a]+"]="+b[f[a]]);return false}for(h in a)if(a.hasOwnProperty[h])if(!(h in
b)||!Jsonix.Util.Type.isEqual(a[h],b[h])){if(d){c("One of the properties differ.");c("Key: ["+h+"].");c("Left: ["+a[h]+"].");c("Right: ["+b[h]+"].")}return false}return true}};Jsonix.Util.NumberUtils={isInteger:function(a){return Jsonix.Util.Type.isNumber(a)&&a%1===0}};
Jsonix.Util.StringUtils={trim:function(a){Jsonix.Util.Ensure.ensureString(a);return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},isEmpty:function(a){return Jsonix.Util.StringUtils.trim(a).length===0},isBlank:function(a){return!Jsonix.Util.Type.exists(a)||Jsonix.Util.StringUtils.trim(a).length===0},isNotBlank:function(a){return Jsonix.Util.Type.isString(a)&&Jsonix.Util.StringUtils.trim(a).length!==0}};
Jsonix.Util.Ensure={ensureBoolean:function(a){if(!Jsonix.Util.Type.isBoolean(a))throw"Argument ["+a+"] must be a boolean.";},ensureString:function(a){if(!Jsonix.Util.Type.isString(a))throw"Argument ["+a+"] must be a string.";},ensureNumber:function(a){if(!Jsonix.Util.Type.isNumber(a))throw"Argument ["+a+"] must be a number.";},ensureNumberOrNaN:function(a){if(!Jsonix.Util.Type.isNumberOrNaN(a))throw"Argument ["+a+"] must be a number or NaN.";},ensureInteger:function(a){if(Jsonix.Util.Type.isNumber(a)){if(!Jsonix.Util.NumberUtils.isInteger(a))throw"Argument ["+
a+"] must be an integer.";}else throw"Argument must be an integer, but it is not a number.";},ensureDate:function(a){if(!(a instanceof Date))throw"Argument ["+a+"] must be a date.";},ensureObject:function(a){if(!Jsonix.Util.Type.isObject(a))throw"Argument ["+a+"] must be an object.";},ensureArray:function(a){if(!Jsonix.Util.Type.isArray(a))throw"Argument ["+a+"] must be an array.";},ensureFunction:function(a){if(!Jsonix.Util.Type.isFunction(a))throw"Argument ["+a+"] must be a function.";},ensureExists:function(a){if(!Jsonix.Util.Type.exists(a))throw"Argument ["+
a+"] does not exist.";}};
Jsonix.XML.QName=Jsonix.Class({key:null,namespaceURI:null,localPart:null,prefix:null,string:null,initialize:function(a,b,c){var d;if(Jsonix.Util.Type.exists(b))if(Jsonix.Util.Type.exists(c)){d=Jsonix.Util.Type.exists(a)?a:"";b=b;c=Jsonix.Util.Type.exists(c)?c:""}else{d=Jsonix.Util.Type.exists(a)?a:"";a=b.indexOf(":");if(a>0&&a<b.length){c=b.substring(0,a);b=b.substring(a+1)}else{c="";b=b}}else{d="";b=a;c=""}this.namespaceURI=d;this.localPart=b;this.prefix=c;this.key=(d!==""?"{"+d+"}":"")+b;this.string=
(d!==""?"{"+d+"}":"")+(c!==""?c+":":"")+b},toString:function(){return this.string},clone:function(){return new Jsonix.XML.QName(this.namespaceURI,this.localPart,this.prefix)},equals:function(a){return a?this.namespaceURI==a.namespaceURI&&this.localPart==a.localPart:false},CLASS_NAME:"Jsonix.XML.QName"});
Jsonix.XML.QName.fromString=function(a){var b=a.indexOf("{"),c=a.lastIndexOf("}");if(b===0&&c>0&&c<a.length){b=a.substring(1,c);c=a.substring(c+1)}else{b="";c=a}var d=c.indexOf(":");if(d>0&&d<c.length){a=c.substring(0,d);c=c.substring(d+1)}else{a="";c=c}return new Jsonix.XML.QName(b,c,a)};
Jsonix.XML.QName.fromObject=function(a){Jsonix.Util.Ensure.ensureObject(a);if(Jsonix.Util.Type.isString(a.CLASS_NAME)&&a.CLASS_NAME==="Jsonix.XML.QName")return a;Jsonix.Util.Ensure.ensureString(a.localPart);var b=Jsonix.Util.Type.isString(a.namespaceURI)?a.namespaceURI:"",c=a.localPart;a=Jsonix.Util.Type.isString(a.prefix)?a.prefix:"";return new Jsonix.XML.QName(b,c,a)};Jsonix.XML.QName.key=function(a,b){Jsonix.Util.Ensure.ensureString(b);return Jsonix.Util.StringUtils.isNotBlank(a)?"{"+a+"}"+b:b};
Jsonix.XML.Calendar=Jsonix.Class({year:NaN,month:NaN,day:NaN,hour:NaN,minute:NaN,second:NaN,fractionalSecond:NaN,timezone:NaN,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);if(Jsonix.Util.Type.exists(a.year)){Jsonix.Util.Ensure.ensureInteger(a.year);if(a.year>=-9999&&a.year<=9999)this.year=a.year;else throw"Invalid year ["+a.year+"].";}else this.year=NaN;if(Jsonix.Util.Type.exists(a.month)){Jsonix.Util.Ensure.ensureInteger(a.month);if(a.month>=1&&a.month<=12)this.month=a.month;else throw"Invalid month ["+
a.month+"].";}else this.month=NaN;if(Jsonix.Util.Type.exists(a.day)){Jsonix.Util.Ensure.ensureInteger(a.day);if(a.day>=1&&a.day<=31)this.day=a.day;else throw"Invalid day ["+a.day+"].";}else this.day=NaN;if(Jsonix.Util.Type.exists(a.hour)){Jsonix.Util.Ensure.ensureInteger(a.hour);if(a.hour>=0&&a.hour<=23)this.hour=a.hour;else throw"Invalid hour ["+a.hour+"].";}else this.hour=NaN;if(Jsonix.Util.Type.exists(a.minute)){Jsonix.Util.Ensure.ensureInteger(a.minute);if(a.minute>=0&&a.minute<=59)this.minute=
a.minute;else throw"Invalid minute ["+a.minute+"].";}else this.minute=NaN;if(Jsonix.Util.Type.exists(a.second)){Jsonix.Util.Ensure.ensureInteger(a.second);if(a.second>=0&&a.second<=59)this.second=a.second;else throw"Invalid second ["+a.second+"].";}else this.second=NaN;if(Jsonix.Util.Type.exists(a.fractionalSecond)){Jsonix.Util.Ensure.ensureNumber(a.fractionalSecond);if(a.fractionalSecond>=0&&a.fractionalSecond<1)this.fractionalSecond=a.fractionalSecond;else throw"Invalid fractional second ["+a.fractionalSecond+
"].";}else this.fractionalSecond=NaN;if(Jsonix.Util.Type.exists(a.timezone))if(Jsonix.Util.Type.isNaN(a.timezone))this.timezone=NaN;else{Jsonix.Util.Ensure.ensureInteger(a.timezone);if(a.timezone>=-1440&&a.timezone<1440)this.timezone=a.timezone;else throw"Invalid timezone ["+a.timezone+"].";}else this.timezone=NaN},CLASS_NAME:"Jsonix.XML.Calendar"});
Jsonix.XML.Calendar.fromObject=function(a){Jsonix.Util.Ensure.ensureObject(a);if(Jsonix.Util.Type.isString(a.CLASS_NAME)&&a.CLASS_NAME==="Jsonix.XML.Calendar")return a;return new Jsonix.XML.Calendar(a)};
Jsonix.XML.Input=Jsonix.Class({root:null,node:null,eventType:null,initialize:function(a){Jsonix.Util.Ensure.ensureExists(a);this.root=a},hasNext:function(){return this.node===null?true:this.node===this.root?this.node.nodeType===9&&this.eventType===8?false:this.node.nodeType===1&&this.eventType===2?false:true:true},next:function(){if(this.eventType===null)return this.enter(this.root);return this.eventType===7?Jsonix.Util.Type.exists(this.node.documentElement)?this.enter(this.node.documentElement):
this.leave(this.node):this.eventType===1?Jsonix.Util.Type.exists(this.node.firstChild)?this.enter(this.node.firstChild):this.leave(this.node):this.eventType===2?Jsonix.Util.Type.exists(this.node.nextSibling)?this.enter(this.node.nextSibling):this.leave(this.node):this.leave(this.node)},enter:function(a){var b=a.nodeType;if(b===1){this.node=a;return this.eventType=1}else if(b===2){this.node=a;return this.eventType=10}else if(b===3){this.node=a;return this.eventType=Jsonix.Util.StringUtils.isEmpty(a.nodeValue)?
6:4}else if(b===4){this.node=a;return this.eventType=12}else if(b===5){this.node=a;return this.eventType=9}else if(b===6){this.node=a;return this.eventType=15}else if(b===7){this.node=a;return this.eventType=3}else if(b===8){this.node=a;return this.eventType=5}else if(b===9){this.node=a;return this.eventType=7}else if(b===10){this.node=a;return this.eventType=12}else if(b===12){this.node=a;return this.eventType=14}else throw"Node type ["+b+"] is not supported.";},leave:function(a){if(a.nodeType===
9)if(this.eventType==8)throw"Invalid state.";else{this.node=a;return this.eventType=8}else if(a.nodeType===1)if(this.eventType==2){if(Jsonix.Util.Type.exists(a.nextSibling))return this.enter(a.nextSibling)}else{this.node=a;return this.eventType=2}if(Jsonix.Util.Type.exists(a.nextSibling))return this.enter(a.nextSibling);else{this.node=a=a.parentNode;return this.eventType=a.nodeType===9?8:2}},getName:function(){var a=this.node;return Jsonix.Util.Type.isString(a.nodeName)?Jsonix.Util.Type.isString(a.namespaceURI)?
new Jsonix.XML.QName(a.namespaceURI,a.nodeName):new Jsonix.XML.QName(a.nodeName):null},getText:function(){return this.node.nodeValue},nextTag:function(){for(var a=this.next();a===7||a===4||a===12||a===6||a===3||a===5;)a=this.next();if(a!==1&&a!==2)throw"Expected start or end tag.";return a},getElementText:function(){if(this.eventType!=1)throw"Parser must be on START_ELEMENT to read next text.";for(var a=this.next(),b="";a!==2;){if(a===4||a===12||a===6||a===9)b+=this.getText();else if(!(a===3||a===
5))if(a===8)throw"Unexpected end of document when reading element text content.";else if(a===1)throw"Element text content may not contain START_ELEMENT.";else throw"Unexpected event type ["+a+"].";a=this.next()}return b},getAttributeCount:function(){var a;if(this.eventType===1)a=this.node.attributes;else if(this.eventType===10)a=this.node.parentNode.attributes;else throw"Number of attributes can only be retrieved for START_ELEMENT or ATTRIBUTE.";return a.length},getAttributeName:function(a){var b;
if(this.eventType===1)b=this.node.attributes;else if(this.eventType===10)b=this.node.parentNode.attributes;else throw"Number of attributes can only be retrieved for START_ELEMENT or ATTRIBUTE.";if(a<0||a>=b.length)throw"Invalid attribute index ["+a+"].";a=b[a];return Jsonix.Util.Type.isString(a.namespaceURI)?new Jsonix.XML.QName(a.namespaceURI,a.nodeName):new Jsonix.XML.QName(a.nodeName)},getAttributeValue:function(a){var b;if(this.eventType===1)b=this.node.attributes;else if(this.eventType===10)b=
this.node.parentNode.attributes;else throw"Number of attributes can only be retrieved for START_ELEMENT or ATTRIBUTE.";if(a<0||a>=b.length)throw"Invalid attribute index ["+a+"].";return b[a].nodeValue},getElement:function(){if(this.eventType===1||this.eventType===2){this.eventType=2;return this.node}else throw"Parser must be on START_ELEMENT or END_ELEMENT to return current element.";},CLASS_NAME:"Jsonix.XML.Input"});Jsonix.XML.Input.START_ELEMENT=1;Jsonix.XML.Input.END_ELEMENT=2;
Jsonix.XML.Input.PROCESSING_INSTRUCTION=3;Jsonix.XML.Input.CHARACTERS=4;Jsonix.XML.Input.COMMENT=5;Jsonix.XML.Input.SPACE=6;Jsonix.XML.Input.START_DOCUMENT=7;Jsonix.XML.Input.END_DOCUMENT=8;Jsonix.XML.Input.ENTITY_REFERENCE=9;Jsonix.XML.Input.ATTRIBUTE=10;Jsonix.XML.Input.DTD=11;Jsonix.XML.Input.CDATA=12;Jsonix.XML.Input.NAMESPACE=13;Jsonix.XML.Input.NOTATION_DECLARATION=14;Jsonix.XML.Input.ENTITY_DECLARATION=15;
Jsonix.XML.Output=Jsonix.Class({document:null,node:null,nodes:null,xmldom:null,namespacePrefixes:null,namespacePrefixIndex:0,initialize:function(a){this.xmldom=window.ActiveXObject?new ActiveXObject("Microsoft.XMLDOM"):null;this.nodes=[];this.namespacePrefixes={"":""};if(Jsonix.Util.Type.isObject(a))if(Jsonix.Util.Type.isObject(a.namespacePrefixes))for(var b in a.namespacePrefixes)if(a.namespacePrefixes.hasOwnProperty(b))this.namespacePrefixes[b]=a.namespacePrefixes[b]},destroy:function(){this.xmldom=
null},writeStartDocument:function(){var a=Jsonix.DOM.createDocument();this.document=a;return this.push(a)},writeEndDocument:function(){return this.pop()},writeStartElement:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.localPart);var b=Jsonix.Util.Type.isString(a.namespaceURI)?a.namespaceURI:"",c=a.localPart;a=Jsonix.Util.StringUtils.isNotBlank(a.prefix)?a.prefix:this.getPrefix(b);c=a===""?c:a+":"+c;b=this.xmldom?this.xmldom.createNode(1,c,b):this.document.createElementNS(b,
c);this.peek().appendChild(b);return this.push(b)},writeEndElement:function(){return this.pop()},writeCharacters:function(a){a=this.xmldom?this.xmldom.createTextNode(a):this.document.createTextNode(a);this.peek().appendChild(a);return a},writeAttribute:function(a,b){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.localPart);Jsonix.Util.Ensure.ensureString(b);var c=Jsonix.Util.Type.isString(a.namespaceURI)?a.namespaceURI:"",d=a.localPart;a=Jsonix.Util.StringUtils.isNotBlank(a.prefix)?
a.prefix:this.getPrefix(c);a=a===""?d:a+":"+d;d=this.peek();if(c==="")d.setAttribute(a,b);else if(d.setAttributeNS)d.setAttributeNS(c,a,b);else if(this.xmldom){c=this.document.createNode(2,a,c);c.nodeValue=b;d.setAttributeNode(c)}else throw"setAttributeNS not implemented";},writeNode:function(a){a=Jsonix.Util.Type.exists(this.document.importNode)?this.document.importNode(a,true):a;this.peek().appendChild(a);return a},push:function(a){this.nodes.push(a);return a},peek:function(){return this.nodes[this.nodes.length-
1]},pop:function(){return this.nodes.pop()},getPrefix:function(a){var b=this.namespacePrefixes[a];if(!Jsonix.Util.Type.exists(b)){b="p"+this.namespacePrefixIndex++;this.namespacePrefixes[a]=b}return b},CLASS_NAME:"Jsonix.XML.Output"});Jsonix.Schema.XSD={};Jsonix.Schema.XSD.NAMESPACE_URI="http://www.w3.org/2001/XMLSchema";Jsonix.Schema.XSD.PREFIX="xsd";Jsonix.Schema.XSD.qname=function(a){Jsonix.Util.Ensure.ensureString(a);return new Jsonix.XML.QName(Jsonix.Schema.XSD.NAMESPACE_URI,a,Jsonix.Schema.XSD.PREFIX)};
Jsonix.Schema.XSD.AnyType=Jsonix.Class({typeName:Jsonix.Schema.XSD.qname("anyType"),initialize:function(){},isInstance:function(){throw"Abstract method [isInstance].";},CLASS_NAME:"Jsonix.Schema.XSD.AnyType"});
Jsonix.Schema.XSD.AnySimpleType=Jsonix.Class(Jsonix.Schema.XSD.AnyType,{typeName:Jsonix.Schema.XSD.qname("anySimpleType"),simpleType:true,print:function(){throw new Error("Abstract method [print].");},parse:function(){throw new Error("Abstract method [parse].");},unmarshal:function(a,b){a=b.getElementText();return Jsonix.Util.StringUtils.isNotBlank(a)?this.parse(a):null},marshal:function(a,b,c){Jsonix.Util.Type.exists(b)&&c.writeCharacters(this.print(b))},CLASS_NAME:"Jsonix.Schema.XSD.AnySimpleType"});
Jsonix.Schema.XSD.List=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:null,typeInfo:null,separator:" ",trimmedSeparator:" ",simpleType:true,initialize:function(a,b,c){Jsonix.Util.Ensure.ensureObject(a);this.typeInfo=a;if(Jsonix.Util.Type.exists(b))this.typeName=b;this.separator=Jsonix.Util.Type.isString(c)?c:" ";a=Jsonix.Util.StringUtils.trim(this.separator);this.trimmedSeparator=a.length===0?" ":a},print:function(a){if(!Jsonix.Util.Type.exists(a))return null;Jsonix.Util.Ensure.ensureArray(a);
for(var b="",c=0;c<a.length;c++){if(c>0)b+=this.separator;b+=this.typeInfo.print(a[c])}return b},parse:function(a){Jsonix.Util.Ensure.ensureString(a);a=a.split(this.trimmedSeparator);for(var b=[],c=0;c<a.length;c++)b.push(this.typeInfo.parse(Jsonix.Util.StringUtils.trim(a[c])));return b},CLASS_NAME:"Jsonix.Schema.XSD.List"});
Jsonix.Schema.XSD.String=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("string"),print:function(a){Jsonix.Util.Ensure.ensureString(a);return a},parse:function(a){Jsonix.Util.Ensure.ensureString(a);return a},isInstance:function(a){return Jsonix.Util.Type.isString(a)},CLASS_NAME:"Jsonix.Schema.XSD.String"});Jsonix.Schema.XSD.String.INSTANCE=new Jsonix.Schema.XSD.String;Jsonix.Schema.XSD.String.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.String.INSTANCE);
Jsonix.Schema.XSD.Strings=Jsonix.Class(Jsonix.Schema.XSD.List,{initialize:function(){Jsonix.Schema.XSD.List.prototype.initialize.apply(this,[Jsonix.Schema.XSD.String.INSTANCE,Jsonix.Schema.XSD.qname("strings")," "])},CLASS_NAME:"Jsonix.Schema.XSD.Strings"});Jsonix.Schema.XSD.Strings.INSTANCE=new Jsonix.Schema.XSD.Strings;Jsonix.Schema.XSD.NormalizedString=Jsonix.Class(Jsonix.Schema.XSD.String,{typeName:Jsonix.Schema.XSD.qname("normalizedString"),CLASS_NAME:"Jsonix.Schema.XSD.NormalizedString"});
Jsonix.Schema.XSD.NormalizedString.INSTANCE=new Jsonix.Schema.XSD.NormalizedString;Jsonix.Schema.XSD.NormalizedString.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NormalizedString.INSTANCE);Jsonix.Schema.XSD.Token=Jsonix.Class(Jsonix.Schema.XSD.NormalizedString,{typeName:Jsonix.Schema.XSD.qname("token"),CLASS_NAME:"Jsonix.Schema.XSD.Token"});Jsonix.Schema.XSD.Token.INSTANCE=new Jsonix.Schema.XSD.Token;Jsonix.Schema.XSD.Token.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Token.INSTANCE);
Jsonix.Schema.XSD.Language=Jsonix.Class(Jsonix.Schema.XSD.Token,{typeName:Jsonix.Schema.XSD.qname("language"),CLASS_NAME:"Jsonix.Schema.XSD.Language"});Jsonix.Schema.XSD.Language.INSTANCE=new Jsonix.Schema.XSD.Language;Jsonix.Schema.XSD.Language.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Language.INSTANCE);Jsonix.Schema.XSD.Name=Jsonix.Class(Jsonix.Schema.XSD.Token,{typeName:Jsonix.Schema.XSD.qname("Name"),CLASS_NAME:"Jsonix.Schema.XSD.Name"});Jsonix.Schema.XSD.Name.INSTANCE=new Jsonix.Schema.XSD.Name;
Jsonix.Schema.XSD.Name.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Name.INSTANCE);Jsonix.Schema.XSD.NCName=Jsonix.Class(Jsonix.Schema.XSD.Name,{typeName:Jsonix.Schema.XSD.qname("NCName"),CLASS_NAME:"Jsonix.Schema.XSD.NCName"});Jsonix.Schema.XSD.NCName.INSTANCE=new Jsonix.Schema.XSD.NCName;Jsonix.Schema.XSD.NCName.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NCName.INSTANCE);
Jsonix.Schema.XSD.NMToken=Jsonix.Class(Jsonix.Schema.XSD.Token,{typeName:Jsonix.Schema.XSD.qname("NMTOKEN"),CLASS_NAME:"Jsonix.Schema.XSD.NMToken"});Jsonix.Schema.XSD.NMToken.INSTANCE=new Jsonix.Schema.XSD.NMToken;Jsonix.Schema.XSD.NMTokens=Jsonix.Class(Jsonix.Schema.XSD.List,{initialize:function(){Jsonix.Schema.XSD.List.prototype.initialize.apply(this,[Jsonix.Schema.XSD.NMToken.INSTANCE,Jsonix.Schema.XSD.qname("NMTOKEN")," "])},CLASS_NAME:"Jsonix.Schema.XSD.NMTokens"});
Jsonix.Schema.XSD.NMTokens.INSTANCE=new Jsonix.Schema.XSD.NMTokens;
Jsonix.Schema.XSD.Boolean=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("boolean"),print:function(a){Jsonix.Util.Ensure.ensureBoolean(a);return a?"true":"false"},parse:function(a){Jsonix.Util.Ensure.ensureString(a);if(a==="true"||a==="1")return true;else if(a==="false"||a==="0")return false;else throw"Either [true], [1], [0] or [false] expected as boolean value.";},isInstance:function(a){return Jsonix.Util.Type.isBoolean(a)},CLASS_NAME:"Jsonix.Schema.XSD.Boolean"});
Jsonix.Schema.XSD.Boolean.INSTANCE=new Jsonix.Schema.XSD.Boolean;Jsonix.Schema.XSD.Boolean.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Boolean.INSTANCE);Jsonix.Schema.XSD.Base64Binary=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("base64Binary"),CLASS_NAME:"Jsonix.Schema.XSD.Base64Binary"});Jsonix.Schema.XSD.Base64Binary.INSTANCE=new Jsonix.Schema.XSD.Base64Binary;Jsonix.Schema.XSD.Base64Binary.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Base64Binary.INSTANCE);
Jsonix.Schema.XSD.HexBinary=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("hexBinary"),CLASS_NAME:"Jsonix.Schema.XSD.HexBinary"});Jsonix.Schema.XSD.HexBinary.INSTANCE=new Jsonix.Schema.XSD.HexBinary;Jsonix.Schema.XSD.HexBinary.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.HexBinary.INSTANCE);
Jsonix.Schema.XSD.Number=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("number"),print:function(a){Jsonix.Util.Ensure.ensureNumberOrNaN(a);return Jsonix.Util.Type.isNaN(a)?"NaN":a===Infinity?"INF":a===-Infinity?"-INF":String(a)},parse:function(a){Jsonix.Util.Ensure.ensureString(a);if(a==="-INF")return-Infinity;else if(a==="INF")return Infinity;else if(a==="NaN")return NaN;else{a=Number(a);Jsonix.Util.Ensure.ensureNumber(a);return a}},isInstance:function(a){return Jsonix.Util.Type.isNumberOrNaN(a)},
CLASS_NAME:"Jsonix.Schema.XSD.Number"});Jsonix.Schema.XSD.Number.INSTANCE=new Jsonix.Schema.XSD.Number;Jsonix.Schema.XSD.Number.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Number.INSTANCE);
Jsonix.Schema.XSD.Float=Jsonix.Class(Jsonix.Schema.XSD.Number,{typeName:Jsonix.Schema.XSD.qname("float"),isInstance:function(a){return Jsonix.Util.Type.isNaN(a)||a===-Infinity||a===Infinity||Jsonix.Util.Type.isNumber(a)&&a>=this.MIN_VALUE&&a<=this.MAX_VALUE},MIN_VALUE:-3.4028235E38,MAX_VALUE:3.4028235E38,CLASS_NAME:"Jsonix.Schema.XSD.Float"});Jsonix.Schema.XSD.Float.INSTANCE=new Jsonix.Schema.XSD.Float;Jsonix.Schema.XSD.Float.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Float.INSTANCE);
Jsonix.Schema.XSD.Decimal=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("decimal"),print:function(a){Jsonix.Util.Ensure.ensureNumber(a);return String(a)},parse:function(a){Jsonix.Util.Ensure.ensureString(a);a=Number(a);Jsonix.Util.Ensure.ensureNumber(a);return a},isInstance:function(a){return Jsonix.Util.Type.isNumber(a)},CLASS_NAME:"Jsonix.Schema.XSD.Decimal"});Jsonix.Schema.XSD.Decimal.INSTANCE=new Jsonix.Schema.XSD.Decimal;
Jsonix.Schema.XSD.Decimal.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Decimal.INSTANCE);
Jsonix.Schema.XSD.Integer=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("integer"),print:function(a){Jsonix.Util.Ensure.ensureInteger(a);return String(a)},parse:function(a){Jsonix.Util.Ensure.ensureString(a);a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},isInstance:function(a){return Jsonix.Util.NumberUtils.isInteger(a)&&a>=this.MIN_VALUE&&a<=this.MAX_VALUE},MIN_VALUE:-9223372036854775808,MAX_VALUE:9223372036854775E3,CLASS_NAME:"Jsonix.Schema.XSD.Integer"});
Jsonix.Schema.XSD.Integer.INSTANCE=new Jsonix.Schema.XSD.Integer;Jsonix.Schema.XSD.Integer.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Integer.INSTANCE);Jsonix.Schema.XSD.NonPositiveInteger=Jsonix.Class(Jsonix.Schema.XSD.Integer,{typeName:Jsonix.Schema.XSD.qname("nonPositiveInteger"),MIN_VALUE:-9223372036854775808,MAX_VALUE:0,CLASS_NAME:"Jsonix.Schema.XSD.NonPositiveInteger"});Jsonix.Schema.XSD.NonPositiveInteger.INSTANCE=new Jsonix.Schema.XSD.NonPositiveInteger;
Jsonix.Schema.XSD.NonPositiveInteger.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NonPositiveInteger.INSTANCE);Jsonix.Schema.XSD.NegativeInteger=Jsonix.Class(Jsonix.Schema.XSD.NonPositiveInteger,{typeName:Jsonix.Schema.XSD.qname("negativeInteger"),MIN_VALUE:-9223372036854775808,MAX_VALUE:-1,CLASS_NAME:"Jsonix.Schema.XSD.NegativeInteger"});Jsonix.Schema.XSD.NegativeInteger.INSTANCE=new Jsonix.Schema.XSD.NegativeInteger;Jsonix.Schema.XSD.NegativeInteger.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NegativeInteger.INSTANCE);
Jsonix.Schema.XSD.Long=Jsonix.Class(Jsonix.Schema.XSD.Integer,{typeName:Jsonix.Schema.XSD.qname("long"),MIN_VALUE:-9223372036854775808,MAX_VALUE:9223372036854775E3,CLASS_NAME:"Jsonix.Schema.XSD.Long"});Jsonix.Schema.XSD.Long.INSTANCE=new Jsonix.Schema.XSD.Long;Jsonix.Schema.XSD.Long.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Long.INSTANCE);Jsonix.Schema.XSD.Int=Jsonix.Class(Jsonix.Schema.XSD.Long,{typeName:Jsonix.Schema.XSD.qname("int"),MIN_VALUE:-2147483648,MAX_VALUE:2147483647,CLASS_NAME:"Jsonix.Schema.XSD.Int"});
Jsonix.Schema.XSD.Int.INSTANCE=new Jsonix.Schema.XSD.Int;Jsonix.Schema.XSD.Int.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Int.INSTANCE);Jsonix.Schema.XSD.Short=Jsonix.Class(Jsonix.Schema.XSD.Int,{typeName:Jsonix.Schema.XSD.qname("short"),MIN_VALUE:-32768,MAX_VALUE:32767,CLASS_NAME:"Jsonix.Schema.XSD.Short"});Jsonix.Schema.XSD.Short.INSTANCE=new Jsonix.Schema.XSD.Short;Jsonix.Schema.XSD.Short.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Short.INSTANCE);
Jsonix.Schema.XSD.Byte=Jsonix.Class(Jsonix.Schema.XSD.Short,{typeName:Jsonix.Schema.XSD.qname("byte"),MIN_VALUE:-128,MAX_VALUE:127,CLASS_NAME:"Jsonix.Schema.XSD.Byte"});Jsonix.Schema.XSD.Byte.INSTANCE=new Jsonix.Schema.XSD.Byte;Jsonix.Schema.XSD.Byte.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Byte.INSTANCE);Jsonix.Schema.XSD.NonNegativeInteger=Jsonix.Class(Jsonix.Schema.XSD.Integer,{typeName:Jsonix.Schema.XSD.qname("nonNegativeInteger"),MIN_VALUE:0,MAX_VALUE:9223372036854775E3,CLASS_NAME:"Jsonix.Schema.XSD.NonNegativeInteger"});
Jsonix.Schema.XSD.NonNegativeInteger.INSTANCE=new Jsonix.Schema.XSD.NonNegativeInteger;Jsonix.Schema.XSD.NonNegativeInteger.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.NonNegativeInteger.INSTANCE);Jsonix.Schema.XSD.UnsignedLong=Jsonix.Class(Jsonix.Schema.XSD.NonNegativeInteger,{typeName:Jsonix.Schema.XSD.qname("unsignedLong"),MIN_VALUE:0,MAX_VALUE:1.8446744073709552E19,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedLong"});Jsonix.Schema.XSD.UnsignedLong.INSTANCE=new Jsonix.Schema.XSD.UnsignedLong;
Jsonix.Schema.XSD.UnsignedLong.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedLong.INSTANCE);Jsonix.Schema.XSD.UnsignedInt=Jsonix.Class(Jsonix.Schema.XSD.UnsignedLong,{typeName:Jsonix.Schema.XSD.qname("unsignedInt"),MIN_VALUE:0,MAX_VALUE:4294967295,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedInt"});Jsonix.Schema.XSD.UnsignedInt.INSTANCE=new Jsonix.Schema.XSD.UnsignedInt;Jsonix.Schema.XSD.UnsignedInt.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedInt.INSTANCE);
Jsonix.Schema.XSD.UnsignedShort=Jsonix.Class(Jsonix.Schema.XSD.UnsignedInt,{typeName:Jsonix.Schema.XSD.qname("unsignedShort"),MIN_VALUE:0,MAX_VALUE:65535,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedShort"});Jsonix.Schema.XSD.UnsignedShort.INSTANCE=new Jsonix.Schema.XSD.UnsignedShort;Jsonix.Schema.XSD.UnsignedShort.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedShort.INSTANCE);
Jsonix.Schema.XSD.UnsignedByte=Jsonix.Class(Jsonix.Schema.XSD.UnsignedShort,{typeName:Jsonix.Schema.XSD.qname("unsignedByte"),MIN_VALUE:0,MAX_VALUE:255,CLASS_NAME:"Jsonix.Schema.XSD.UnsignedByte"});Jsonix.Schema.XSD.UnsignedByte.INSTANCE=new Jsonix.Schema.XSD.UnsignedByte;Jsonix.Schema.XSD.UnsignedByte.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.UnsignedByte.INSTANCE);
Jsonix.Schema.XSD.PositiveInteger=Jsonix.Class(Jsonix.Schema.XSD.NonNegativeInteger,{typeName:Jsonix.Schema.XSD.qname("positiveInteger"),MIN_VALUE:1,MAX_VALUE:9223372036854775E3,CLASS_NAME:"Jsonix.Schema.XSD.PositiveInteger"});Jsonix.Schema.XSD.PositiveInteger.INSTANCE=new Jsonix.Schema.XSD.PositiveInteger;Jsonix.Schema.XSD.PositiveInteger.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.PositiveInteger.INSTANCE);
Jsonix.Schema.XSD.Double=Jsonix.Class(Jsonix.Schema.XSD.Number,{typeName:Jsonix.Schema.XSD.qname("double"),isInstance:function(a){return Jsonix.Util.Type.isNaN(a)||a===-Infinity||a===Infinity||Jsonix.Util.Type.isNumber(a)&&a>=this.MIN_VALUE&&a<=this.MAX_VALUE},MIN_VALUE:-1.7976931348623157E308,MAX_VALUE:1.7976931348623157E308,CLASS_NAME:"Jsonix.Schema.XSD.Double"});Jsonix.Schema.XSD.Double.INSTANCE=new Jsonix.Schema.XSD.Double;Jsonix.Schema.XSD.Double.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Double.INSTANCE);
Jsonix.Schema.XSD.AnyURI=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("anyURI"),print:function(a){Jsonix.Util.Ensure.ensureString(a);return a},parse:function(a){Jsonix.Util.Ensure.ensureString(a);return a},isInstance:function(a){return Jsonix.Util.Type.isString(a)},CLASS_NAME:"Jsonix.Schema.XSD.AnyURI"});Jsonix.Schema.XSD.AnyURI.INSTANCE=new Jsonix.Schema.XSD.AnyURI;Jsonix.Schema.XSD.AnyURI.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.AnyURI.INSTANCE);
Jsonix.Schema.XSD.QName=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("QName"),CLASS_NAME:"Jsonix.Schema.XSD.QName"});Jsonix.Schema.XSD.QName.INSTANCE=new Jsonix.Schema.XSD.QName;Jsonix.Schema.XSD.QName.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.QName.INSTANCE);
Jsonix.Schema.XSD.Calendar=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("calendar"),parse:function(a){Jsonix.Util.Ensure.ensureString(a);var b=a.charAt(0)==="-"?a.substring(1):a;if(b.length>=19&&b.charAt(4)==="-"&&b.charAt(7)==="-"&&b.charAt(10)==="T"&&b.charAt(13)===":"&&b.charAt(16)===":")return this.parseDateTime(a);else if(b.length>=10&&b.charAt(4)==="-"&&b.charAt(7)==="-")return this.parseDate(a);else if(b.length>=8&&b.charAt(2)===":"&&b.charAt(5)===":")return this.parseTime(a);
else throw"Value ["+a+"] does not match dateTime, date or time patterns.";},parseDateTime:function(a){Jsonix.Util.Ensure.ensureString(a);var b=a.charAt(0)==="-",c=b?-1:1;a=b?a.substring(1):a;if(a.length<19||a.charAt(4)!=="-"||a.charAt(7)!=="-"||a.charAt(10)!=="T"||a.charAt(13)!==":"||a.charAt(16)!==":")throw"Date time string ["+a+"] must be a string in format ['-'? yyyy '-' mm '-' dd 'T' hh ':' mm ':' ss ('.' s+)? (zzzzzz)?].";var d;b=a.indexOf("+",19);if(b>=0)d=b;else{b=a.indexOf("-",19);if(b>=0)d=
b;else{b=a.indexOf("Z",19);d=b>=0?b:a.length}}var e=d>0&&d<a.length,f=a.substring(0,10);b=e?a.substring(11,d):a.substring(11);a=e?a.substring(d):"";f=this.parseDateString(f);b=this.parseTimeString(b);a=this.parseTimeZoneString(a);return Jsonix.XML.Calendar.fromObject({year:c*f.year,month:f.month,day:f.day,hour:b.hour,minute:b.minute,second:b.second,fractionalSecond:b.fractionalSecond,timezone:a})},parseDate:function(a){Jsonix.Util.Ensure.ensureString(a);var b=a.charAt(0)==="-",c=b?-1:1;b=b?a.substring(1):
a;var d;d=b.indexOf("+",10);if(d>=0)d=d;else{d=b.indexOf("-",10);if(d>=0)d=d;else{d=b.indexOf("Z",10);d=d>=0?d:b.length}}var e=d>0&&d<b.length;b=this.parseDateString(e?b.substring(0,d):b);a=this.parseTimeZoneString(e?a.substring(d):"");return Jsonix.XML.Calendar.fromObject({year:c*b.year,month:b.month,day:b.day,timezone:a})},parseTime:function(a){Jsonix.Util.Ensure.ensureString(a);var b,c=a.indexOf("+",7);if(c>=0)b=c;else{c=a.indexOf("-",7);if(c>=0)b=c;else{c=a.indexOf("Z",7);b=c>=0?c:a.length}}var d=
b>0&&b<a.length;c=this.parseTimeString(d?a.substring(0,b):a);a=this.parseTimeZoneString(d?a.substring(b):"");return Jsonix.XML.Calendar.fromObject({hour:c.hour,minute:c.minute,second:c.second,fractionalSecond:c.fractionalSecond,timezone:a})},parseDateString:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==10)throw"Date string ["+a+"] must be 10 characters long.";if(a.charAt(4)!=="-"||a.charAt(7)!=="-")throw"Date string ["+a+"] must be a string in format [yyyy '-' mm '-' ss ].";var b=this.parseYear(a.substring(0,
4)),c=this.parseMonth(a.substring(5,7));a=this.parseDay(a.substring(8,10));return{year:b,month:c,day:a}},parseTimeString:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length<8||a.charAt(2)!==":"||a.charAt(5)!==":")throw"Time string ["+a+"] must be a string in format [hh ':' mm ':' ss ('.' s+)?].";var b=a.substring(0,2),c=a.substring(3,5),d=a.substring(6,8);a=a.length>=9?a.substring(8):"";b=this.parseHour(b);c=this.parseHour(c);d=this.parseSecond(d);a=this.parseFractionalSecond(a);return{hour:b,
minute:c,second:d,fractionalSecond:a}},parseTimeZoneString:function(a){Jsonix.Util.Ensure.ensureString(a);if(a==="")return NaN;else if(a==="Z")return 0;else{if(a.length!==6)throw"Time zone must be an empty string, 'Z' or a string in format [('+' | '-') hh ':' mm].";var b=a.charAt(0);if(b==="+")b=1;else if(b==="-")b=-1;else throw"First character of the time zone ["+a+"] must be '+' or '-'.";var c=this.parseHour(a.substring(1,3));a=this.parseMinute(a.substring(4,6));return b*(c*60+a)}},parseYear:function(a){Jsonix.Util.Ensure.ensureString(a);
if(a.length!==4)throw"Year ["+a+"] must be a four-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseMonth:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==2)throw"Month ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseDay:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==2)throw"Day ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseHour:function(a){Jsonix.Util.Ensure.ensureString(a);
if(a.length!==2)throw"Hour ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseMinute:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==2)throw"Minute ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureInteger(a);return a},parseSecond:function(a){Jsonix.Util.Ensure.ensureString(a);if(a.length!==2)throw"Second ["+a+"] must be a two-digit number.";a=Number(a);Jsonix.Util.Ensure.ensureNumber(a);return a},parseFractionalSecond:function(a){Jsonix.Util.Ensure.ensureString(a);
if(a==="")return 0;else{a=Number(a);Jsonix.Util.Ensure.ensureNumber(a);return a}},print:function(a){Jsonix.Util.Ensure.ensureObject(a);if(Jsonix.Util.NumberUtils.isInteger(a.year)&&Jsonix.Util.NumberUtils.isInteger(a.month)&&Jsonix.Util.NumberUtils.isInteger(a.day)&&Jsonix.Util.NumberUtils.isInteger(a.hour)&&Jsonix.Util.NumberUtils.isInteger(a.minute)&&Jsonix.Util.NumberUtils.isInteger(a.second))return this.printDateTime(a);else if(Jsonix.Util.NumberUtils.isInteger(a.year)&&Jsonix.Util.NumberUtils.isInteger(a.month)&&
Jsonix.Util.NumberUtils.isInteger(a.day))return this.printDate(a);else if(Jsonix.Util.NumberUtils.isInteger(a.hour)&&Jsonix.Util.NumberUtils.isInteger(a.minute)&&Jsonix.Util.NumberUtils.isInteger(a.second))return this.printTime(a);else throw"Value ["+a+"] is not recognized as dateTime, date or time.";},printDateTime:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureInteger(a.year);Jsonix.Util.Ensure.ensureInteger(a.month);Jsonix.Util.Ensure.ensureInteger(a.day);Jsonix.Util.Ensure.ensureInteger(a.hour);
Jsonix.Util.Ensure.ensureInteger(a.minute);Jsonix.Util.Ensure.ensureNumber(a.second);Jsonix.Util.Type.exists(a.fractionalString)&&Jsonix.Util.Ensure.ensureNumber(a.fractionalString);Jsonix.Util.Type.exists(a.timezone)&&!Jsonix.Util.Type.isNaN(a.timezone)&&Jsonix.Util.Ensure.ensureInteger(a.timezone);var b=this.printDateString(a);b+="T";b+=this.printTimeString(a);if(Jsonix.Util.Type.exists(a.timezone))b+=this.printTimeZoneString(a.timezone);return b},printDate:function(a){Jsonix.Util.Ensure.ensureObject(a);
Jsonix.Util.Ensure.ensureNumber(a.year);Jsonix.Util.Ensure.ensureNumber(a.month);Jsonix.Util.Ensure.ensureNumber(a.day);Jsonix.Util.Type.exists(a.timezone)&&!Jsonix.Util.Type.isNaN(a.timezone)&&Jsonix.Util.Ensure.ensureInteger(a.timezone);var b=this.printDateString(a);if(Jsonix.Util.Type.exists(a.timezone))b+=this.printTimeZoneString(a.timezone);return b},printTime:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureNumber(a.hour);Jsonix.Util.Ensure.ensureNumber(a.minute);Jsonix.Util.Ensure.ensureNumber(a.second);
Jsonix.Util.Type.exists(a.fractionalString)&&Jsonix.Util.Ensure.ensureNumber(a.fractionalString);Jsonix.Util.Type.exists(a.timezone)&&!Jsonix.Util.Type.isNaN(a.timezone)&&Jsonix.Util.Ensure.ensureInteger(a.timezone);var b=this.printTimeString(a);if(Jsonix.Util.Type.exists(a.timezone))b+=this.printTimeZoneString(a.timezone);return b},printDateString:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureInteger(a.year);Jsonix.Util.Ensure.ensureInteger(a.month);Jsonix.Util.Ensure.ensureInteger(a.day);
return(a.year<0?"-"+this.printYear(-a.year):this.printYear(a.year))+"-"+this.printMonth(a.month)+"-"+this.printDay(a.day)},printTimeString:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureInteger(a.hour);Jsonix.Util.Ensure.ensureInteger(a.minute);Jsonix.Util.Ensure.ensureInteger(a.second);Jsonix.Util.Type.exists(a.fractionalSecond)&&Jsonix.Util.Ensure.ensureNumber(a.fractionalSecond);var b=this.printHour(a.hour);b+=":";b+=this.printMinute(a.minute);b+=":";b+=this.printSecond(a.second);
if(Jsonix.Util.Type.exists(a.fractionalSecond))b+=this.printFractionalSecond(a.fractionalSecond);return b},printTimeZoneString:function(a){if(!Jsonix.Util.Type.exists(a)||Jsonix.Util.Type.isNaN(a))return"";else{Jsonix.Util.Ensure.ensureInteger(a);var b=a<0?-1:a>0?1:0,c=a*b;a=c%60;c=Math.floor(c/60);var d;if(b===0)return"Z";else{if(b>0)d="+";else if(b<0)d="-";d+=this.printHour(c);d+=":";d+=this.printMinute(a);return d}}},printYear:function(a){return this.printInteger(a,4)},printMonth:function(a){return this.printInteger(a,
2)},printDay:function(a){return this.printInteger(a,2)},printHour:function(a){return this.printInteger(a,2)},printMinute:function(a){return this.printInteger(a,2)},printSecond:function(a){return this.printInteger(a,2)},printFractionalSecond:function(a){Jsonix.Util.Ensure.ensureNumber(a);if(a<0||a>=1)throw"Fractional second ["+a+"] must be between 0 and 1.";else if(a===0)return"";else{a=String(a);var b=a.indexOf(".");return b<0?"":a.substring(b)}},printInteger:function(a,b){Jsonix.Util.Ensure.ensureInteger(a);
Jsonix.Util.Ensure.ensureInteger(b);if(b<=0)throw"Length ["+a+"] must be positive.";if(a<0)throw"Value ["+a+"] must not be negative.";if(a>=Math.pow(10,b))throw"Value ["+a+"] must be less than ["+Math.pow(10,b)+"].";a=String(a);for(var c=a.length;c<b;c++)a="0"+a;return a},isInstance:function(a){return Jsonix.Util.Type.isObject(a)&&(Jsonix.Util.NumberUtils.isInteger(a.year)&&Jsonix.Util.NumberUtils.isInteger(a.month)&&Jsonix.Util.NumberUtils.isInteger(a.day)||Jsonix.Util.NumberUtils.isInteger(a.hour)&&
Jsonix.Util.NumberUtils.isInteger(a.minute)&&Jsonix.Util.NumberUtils.isInteger(a.second))},CLASS_NAME:"Jsonix.Schema.XSD.Calendar"});Jsonix.Schema.XSD.Calendar.INSTANCE=new Jsonix.Schema.XSD.Calendar;Jsonix.Schema.XSD.Calendar.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Calendar.INSTANCE);Jsonix.Schema.XSD.Duration=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("duration"),CLASS_NAME:"Jsonix.Schema.XSD.Duration"});
Jsonix.Schema.XSD.Duration.INSTANCE=new Jsonix.Schema.XSD.Duration;Jsonix.Schema.XSD.Duration.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Duration.INSTANCE);
Jsonix.Schema.XSD.DateTime=Jsonix.Class(Jsonix.Schema.XSD.Calendar,{typeName:Jsonix.Schema.XSD.qname("dateTime"),parse:function(a){a=this.parseDateTime(a);var b=new Date;b.setFullYear(a.year);b.setMonth(a.month-1);b.setDate(a.day);b.setHours(a.hour);b.setMinutes(a.minute);b.setSeconds(a.second);Jsonix.Util.Type.isNumber(a.fractionalSecond)&&b.setMilliseconds(Math.floor(1E3*a.fractionalSecond));return Jsonix.Util.NumberUtils.isInteger(a.timezone)?new Date(b.getTime()-6E4*b.getTimezoneOffset()+a.timezone*
6E4):b},print:function(a){Jsonix.Util.Ensure.ensureDate(a);return this.printDateTime(new Jsonix.XML.Calendar({year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds(),fractionalSecond:a.getMilliseconds()/1E3}))},isInstance:function(a){return Jsonix.Util.Type.isDate(a)},CLASS_NAME:"Jsonix.Schema.XSD.DateTime"});Jsonix.Schema.XSD.DateTime.INSTANCE=new Jsonix.Schema.XSD.DateTime;Jsonix.Schema.XSD.DateTime.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.DateTime.INSTANCE);
Jsonix.Schema.XSD.Time=Jsonix.Class(Jsonix.Schema.XSD.Calendar,{typeName:Jsonix.Schema.XSD.qname("time"),parse:function(a){a=this.parseTime(a);if(Jsonix.Util.NumberUtils.isInteger(a.timezone)){var b=new Date(70,0,1,a.hour,a.minute,a.second);Jsonix.Util.Type.isNumber(a.fractionalSecond)&&b.setMilliseconds(Math.floor(1E3*a.fractionalSecond));a=b.getTime()-a.timezone*6E4;return new Date(a-6E4*b.getTimezoneOffset())}else{b=new Date(70,0,1,a.hour,a.minute,a.second);Jsonix.Util.Type.isNumber(a.fractionalSecond)&&
b.setMilliseconds(Math.floor(1E3*a.fractionalSecond));return b}},print:function(a){Jsonix.Util.Ensure.ensureDate(a);var b=a.getTime();if(b<=-86400000&&b>=864E5)throw"Invalid time ["+a+"].";if(b>=0)return this.printTime(new Jsonix.XML.Calendar({hour:a.getHours(),minute:a.getMinutes(),second:a.getSeconds(),fractionalSecond:a.getMilliseconds()/1E3}));else{b=Math.ceil(-b/36E5);return this.printTime(new Jsonix.XML.Calendar({hour:(a.getUTCHours()+b)%24,minute:a.getUTCMinutes(),second:a.getUTCSeconds(),
fractionalSecond:a.getUTCMilliseconds()/1E3,timezone:b*60}))}},isInstance:function(a){return Jsonix.Util.Type.isDate(a)&&a.getTime()>-86400000&&a.getTime()<864E5},CLASS_NAME:"Jsonix.Schema.XSD.Time"});Jsonix.Schema.XSD.Time.INSTANCE=new Jsonix.Schema.XSD.Time;Jsonix.Schema.XSD.Time.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Time.INSTANCE);
Jsonix.Schema.XSD.Date=Jsonix.Class(Jsonix.Schema.XSD.Calendar,{typeName:Jsonix.Schema.XSD.qname("date"),parse:function(a){a=this.parseDate(a);if(Jsonix.Util.NumberUtils.isInteger(a.timezone)){var b=new Date;b.setFullYear(a.year);b.setMonth(a.month-1);b.setDate(a.day);b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);return new Date(b.getTime()-6E4*b.getTimezoneOffset()+a.timezone*6E4)}else{b=new Date;b.setFullYear(a.year);b.setMonth(a.month-1);b.setDate(a.day);b.setHours(0);b.setMinutes(0);
b.setSeconds(0);b.setMilliseconds(0);return b}},print:function(a){Jsonix.Util.Ensure.ensureDate(a);var b=new Date(a.getTime());b.setHours(0);b.setMinutes(0);b.setSeconds(0);b.setMilliseconds(0);b=a.getTime()-b.getTime();if(b===0)return this.printDate(new Jsonix.XML.Calendar({year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate()}));else{b=b+6E4*a.getTimezoneOffset();if(b<=432E5)return this.printDate(new Jsonix.XML.Calendar({year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),timezone:Math.floor(b/
6E4)}));else{a=new Date(a.getTime()+864E5);return this.printDate(new Jsonix.XML.Calendar({year:a.getFullYear(),month:a.getMonth()+1,day:a.getDate(),timezone:Math.floor(b/6E4)-1440}))}}},isInstance:function(a){return Jsonix.Util.Type.isDate(a)},CLASS_NAME:"Jsonix.Schema.XSD.Date"});Jsonix.Schema.XSD.Date.INSTANCE=new Jsonix.Schema.XSD.Date;Jsonix.Schema.XSD.Date.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.Date.INSTANCE);
Jsonix.Schema.XSD.GYearMonth=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gYearMonth"),CLASS_NAME:"Jsonix.Schema.XSD.GYearMonth"});Jsonix.Schema.XSD.GYearMonth.INSTANCE=new Jsonix.Schema.XSD.GYearMonth;Jsonix.Schema.XSD.GYearMonth.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GYearMonth.INSTANCE);Jsonix.Schema.XSD.GYear=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gYear"),CLASS_NAME:"Jsonix.Schema.XSD.GYear"});
Jsonix.Schema.XSD.GYear.INSTANCE=new Jsonix.Schema.XSD.GYear;Jsonix.Schema.XSD.GYear.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GYear.INSTANCE);Jsonix.Schema.XSD.GMonthDay=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gMonthDay"),CLASS_NAME:"Jsonix.Schema.XSD.GMonthDay"});Jsonix.Schema.XSD.GMonthDay.INSTANCE=new Jsonix.Schema.XSD.GMonthDay;Jsonix.Schema.XSD.GMonthDay.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GMonthDay.INSTANCE);
Jsonix.Schema.XSD.GDay=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gDay"),CLASS_NAME:"Jsonix.Schema.XSD.GDay"});Jsonix.Schema.XSD.GDay.INSTANCE=new Jsonix.Schema.XSD.GDay;Jsonix.Schema.XSD.GDay.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GDay.INSTANCE);Jsonix.Schema.XSD.GMonth=Jsonix.Class(Jsonix.Schema.XSD.AnySimpleType,{typeName:Jsonix.Schema.XSD.qname("gMonth"),CLASS_NAME:"Jsonix.Schema.XSD.GMonth"});Jsonix.Schema.XSD.GMonth.INSTANCE=new Jsonix.Schema.XSD.GMonth;
Jsonix.Schema.XSD.GMonth.INSTANCE.LIST=new Jsonix.Schema.XSD.List(Jsonix.Schema.XSD.GMonth.INSTANCE);
Jsonix.Model.ClassInfo=Jsonix.Class({name:null,baseTypeInfo:null,properties:null,structure:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.name);this.name=a.name;if(Jsonix.Util.Type.exists(a.baseTypeInfo)){Jsonix.Util.Ensure.ensureObject(a.baseTypeInfo);this.baseTypeInfo=a.baseTypeInfo}this.properties=[];if(Jsonix.Util.Type.exists(a.properties)){Jsonix.Util.Ensure.ensureArray(a.properties);for(var b=0;b<a.properties.length;b++)this.properties[b]=a.properties[b]}},
destroy:function(){},build:function(a){if(this.structure===null){var b={elements:null,attributes:{},anyAttribute:null,value:null,any:null};Jsonix.Util.Type.exists(this.baseTypeInfo)&&this.baseTypeInfo.buildStructure(a,b);this.buildStructure(a,b);this.structure=b}},buildStructure:function(a,b){for(var c=0;c<this.properties.length;c++)this.properties[c].buildStructure(a,b)},unmarshal:function(a,b){this.build(a);var c={};if(b.eventType!==1)throw"Parser must be on START_ELEMENT to read a class info.";
if(Jsonix.Util.Type.exists(this.structure.attributes)){var d=b.getAttributeCount();if(d!==0)for(var e=0;e<d;e++){var f=b.getAttributeName(e).key;Jsonix.Util.Type.exists(this.structure.attributes[f])&&this.unmarshalProperty(a,b,this.structure.attributes[f],c)}}Jsonix.Util.Type.exists(this.structure.anyAttribute)&&this.unmarshalProperty(a,b,this.structure.anyAttribute,c);if(Jsonix.Util.Type.exists(this.structure.elements))for(d=b.next();d!==Jsonix.XML.Input.END_ELEMENT;){if(d===Jsonix.XML.Input.START_ELEMENT){d=
b.getName().key;if(Jsonix.Util.Type.exists(this.structure.elements[d]))this.unmarshalProperty(a,b,this.structure.elements[d],c);else if(Jsonix.Util.Type.exists(this.structure.any))this.unmarshalProperty(a,b,this.structure.any,c);else throw"Unexpected element ["+d+"].";}else if((d===Jsonix.XML.Input.CHARACTERS||d===Jsonix.XML.Input.CDATA||d===Jsonix.XML.Input.ENTITY_REFERENCE)&&Jsonix.Util.Type.exists(this.structure.mixed))this.unmarshalProperty(a,b,this.structure.mixed,c);else if(!(d===Jsonix.XML.Input.SPACE||
d===Jsonix.XML.Input.COMMENT||d===Jsonix.XML.Input.PROCESSING_INSTRUCTION))throw"Illegal state: unexpected event type ["+d+"].";d=b.next()}else Jsonix.Util.Type.exists(this.structure.value)?this.unmarshalProperty(a,b,this.structure.value,c):b.nextTag();if(b.eventType!==2)throw"Illegal state: must be END_ELEMENT.";return c},unmarshalProperty:function(a,b,c,d){a=c.unmarshal(a,this,b);c.setProperty(d,a)},marshal:function(a,b,c){Jsonix.Util.Type.exists(this.baseTypeInfo)&&this.baseTypeInfo.marshal(a,
b,c);for(var d=0;d<this.properties.length;d++){var e=this.properties[d],f=b[e.name];Jsonix.Util.Type.exists(f)&&e.marshal(a,this,f,c)}},isInstance:function(a){return Jsonix.Util.Type.isObject(a)&&Jsonix.Util.Type.isString(a.TYPE_NAME)&&a.TYPE_NAME===this.name}});
Jsonix.Model.PropertyInfo=Jsonix.Class({name:null,collection:false,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.name);this.name=a.name;this.collection=Jsonix.Util.Type.isBoolean(a.collection)?a.collection:false},buildStructure:function(){throw"Abstract method [buildStructure].";},setProperty:function(a,b){if(Jsonix.Util.Type.exists(b))if(this.collection){Jsonix.Util.Ensure.ensureArray(b,"Collection property requires an array value.");Jsonix.Util.Type.exists(a[this.name])||
(a[this.name]=[]);for(var c=0;c<b.length;c++)a[this.name].push(b[c])}else a[this.name]=b},CLASS_NAME:"Jsonix.Model.PropertyInfo"});
Jsonix.Model.AnyAttributePropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a])},unmarshal:function(a,b,c){a=c.getAttributeCount();if(a===0)return null;else{b={};for(var d=0;d<a;d++){var e=c.getAttributeName(d),f=c.getAttributeValue(d);if(Jsonix.Util.Type.isString(f))b[e.key]=f}return b}},marshal:function(a,b,c,d){if(Jsonix.Util.Type.isObject(c))for(var e in c)if(c.hasOwnProperty(e)){a=
c[e];Jsonix.Util.Type.isString(a)&&d.writeAttribute(Jsonix.XML.QName.fromString(e),a)}},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);b.anyAttribute=this},CLASS_NAME:"Jsonix.Model.AnyAttributePropertyInfo"});
Jsonix.Model.SingleTypePropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{typeInfo:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureObject(a.typeInfo);this.typeInfo=a.typeInfo},CLASS_NAME:"Jsonix.Model.SingleTypePropertyInfo"});
Jsonix.Model.AttributePropertyInfo=Jsonix.Class(Jsonix.Model.SingleTypePropertyInfo,{attributeName:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.SingleTypePropertyInfo.prototype.initialize.apply(this,[a]);this.attributeName=Jsonix.Util.Type.isObject(a.attributeName)?a.attributeName:new Jsonix.XML.QName(this.name)},unmarshal:function(a,b,c){a=c.getAttributeCount();b=null;for(var d=0;d<a;d++)if(this.attributeName.key===c.getAttributeName(d).key){var e=c.getAttributeValue(d);
if(Jsonix.Util.Type.isString(e))b=this.typeInfo.parse(e)}return b},marshal:function(a,b,c,d){Jsonix.Util.Type.exists(c)&&d.writeAttribute(this.attributeName,this.typeInfo.print(c))},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);Jsonix.Util.Ensure.ensureObject(b.attributes);b.attributes[this.attributeName.key]=this},CLASS_NAME:"Jsonix.Model.AttributePropertyInfo"});
Jsonix.Model.ValuePropertyInfo=Jsonix.Class(Jsonix.Model.SingleTypePropertyInfo,{initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.SingleTypePropertyInfo.prototype.initialize.apply(this,[a])},unmarshal:function(a,b,c){a=c.getElementText();return Jsonix.Util.StringUtils.isNotBlank(a)?this.typeInfo.parse(a):null},marshal:function(a,b,c,d){Jsonix.Util.Type.exists(c)&&d.writeCharacters(this.typeInfo.print(c))},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);if(Jsonix.Util.Type.exists(b.elements))throw"The structure already defines element mappings, it cannot define a value property.";
else b.value=this},CLASS_NAME:"Jsonix.Model.ValuePropertyInfo"});
Jsonix.Model.AbstractElementsPropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{wrapperElementName:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a]);this.wrapperElementName=Jsonix.Util.Type.isObject(a.wrapperElementName)?a.wrapperElementName:null},unmarshal:function(a,b,c){var d=null,e=this;b=function(f){if(e.collection){if(d===null)d=[];d.push(f)}else if(d===null)d=f;else throw"Value already set.";};Jsonix.Util.Type.exists(this.wrapperElementName)?
this.unmarshalWrapperElement(a,c,b):this.unmarshalElement(a,c,b);return d},unmarshalWrapperElement:function(a,b,c){for(var d=b.next();d!==Jsonix.XML.Input.END_ELEMENT;){if(d===Jsonix.XML.Input.START_ELEMENT)this.unmarshalElement(a,b,c);else if(!(d===Jsonix.XML.Input.SPACE||d===Jsonix.XML.Input.COMMENT||d===Jsonix.XML.Input.PROCESSING_INSTRUCTION))throw"Illegal state: unexpected event type ["+d+"].";d=b.next()}},unmarshalElement:function(){throw"Abstract method [unmarshalElement].";},marshal:function(a,
b,c,d){if(Jsonix.Util.Type.exists(c)){Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeStartElement(this.wrapperElementName);if(this.collection){Jsonix.Util.Ensure.ensureArray(c);for(b=0;b<c.length;b++)this.marshalElement(a,c[b],d)}else this.marshalElement(a,c,d);Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeEndElement()}},marshalElement:function(){throw"Abstract method [marshalElement].";},marshalElementTypeInfo:function(a,b,c,d,e){e.writeStartElement(c);d.marshal(a,b,e);e.writeEndElement()},
buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);if(Jsonix.Util.Type.exists(b.value))throw"The structure already defines a value property.";else if(!Jsonix.Util.Type.exists(b.elements))b.elements={};if(Jsonix.Util.Type.exists(this.wrapperElementName))b.elements[this.wrapperElementName.key]=this;else this.buildStructureElements(a,b)},buildStructureElements:function(){throw"Abstract method [buildStructureElements].";},CLASS_NAME:"Jsonix.Model.AbstractElementsPropertyInfo"});
Jsonix.Model.ElementPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementsPropertyInfo,{typeInfo:null,elementName:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureObject(a.typeInfo);this.typeInfo=a.typeInfo;this.elementName=Jsonix.Util.Type.isObject(a.elementName)?a.elementName:new Jsonix.XML.QName(this.name)},unmarshalElement:function(a,b,c){return c(this.typeInfo.unmarshal(a,b))},
marshalElement:function(a,b,c){this.marshalElementTypeInfo(a,b,this.elementName,this.typeInfo,c)},buildStructureElements:function(a,b){b.elements[this.elementName.key]=this},CLASS_NAME:"Jsonix.Model.ElementPropertyInfo"});
Jsonix.Model.ElementsPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementsPropertyInfo,{elementTypeInfos:null,elementTypeInfosMap:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureArray(a.elementTypeInfos);this.elementTypeInfos=a.elementTypeInfos;this.elementTypeInfosMap={};for(a=0;a<this.elementTypeInfos.length;a++){var b=this.elementTypeInfos[a];Jsonix.Util.Ensure.ensureObject(b);
this.elementTypeInfosMap[b.elementName.key]=b.typeInfo}},unmarshalElement:function(a,b,c){var d=b.getName().key,e=this.elementTypeInfosMap[d];if(Jsonix.Util.Type.exists(e))return c(e.unmarshal(a,b));throw"Element ["+d+"] is not known in this context";},marshalElement:function(a,b,c){for(var d=0;d<this.elementTypeInfos.length;d++){var e=this.elementTypeInfos[d],f=e.typeInfo;if(f.isInstance(b)){this.marshalElementTypeInfo(a,b,e.elementName,f,c);return}}throw"Could not find an element with type info supporting the value ["+
b+"].";},buildStructureElements:function(a,b){for(a=0;a<this.elementTypeInfos.length;a++)b.elements[this.elementTypeInfos[a].elementName.key]=this},CLASS_NAME:"Jsonix.Model.ElementsPropertyInfo"});
Jsonix.Model.ElementMapPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementsPropertyInfo,{elementName:null,key:null,value:null,entryTypeInfo:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureObject(a.key);this.key=a.key;Jsonix.Util.Ensure.ensureObject(a.value);this.value=a.value;this.elementName=Jsonix.Util.Type.isObject(a.elementName)?a.elementName:new Jsonix.XML.QName(this.name);
this.entryTypeInfo=new Jsonix.Model.ClassInfo({name:"",properties:[this.key,this.value]})},unmarshalWrapperElement:function(){Jsonix.Model.AbstractElementsPropertyInfo.prototype.unmarshalWrapperElement.apply(this,arguments)},unmarshal:function(a,b,c){var d=null,e=this;b=function(f){if(Jsonix.Util.Type.exists(f)){Jsonix.Util.Ensure.ensureObject(f,"Map property requires an object.");Jsonix.Util.Type.exists(d)||(d={});for(var g in f)if(f.hasOwnProperty(g)){var l=f[g];if(e.collection){Jsonix.Util.Type.exists(d[g])||
(d[g]=[]);d[g].push(l)}else if(Jsonix.Util.Type.exists(d[g]))throw"Value already set.";else d[g]=l}}};Jsonix.Util.Type.exists(this.wrapperElementName)?this.unmarshalWrapperElement(a,c,b):this.unmarshalElement(a,c,b);return d},unmarshalElement:function(a,b,c){a=this.entryTypeInfo.unmarshal(a,b);b={};if(a[this.key.name])b[a[this.key.name]]=a[this.value.name];return c(b)},marshal:function(a,b,c,d){if(Jsonix.Util.Type.exists(c)){Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeStartElement(this.wrapperElementName);
this.marshalElement(a,c,d);Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeEndElement()}},marshalElement:function(a,b,c){if(b)for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];if(this.collection)for(var f=0;f<e.length;f++){var g={};g[this.key.name]=d;g[this.value.name]=e[f];c.writeStartElement(this.elementName);this.entryTypeInfo.marshal(a,g,c);c.writeEndElement()}else{f={};f[this.key.name]=d;f[this.value.name]=e;c.writeStartElement(this.elementName);this.entryTypeInfo.marshal(a,f,c);c.writeEndElement()}}},
buildStructureElements:function(a,b){b.elements[this.elementName.key]=this},setProperty:function(a,b){if(Jsonix.Util.Type.exists(b)){Jsonix.Util.Ensure.ensureObject(b,"Map property requires an object.");Jsonix.Util.Type.exists(a[this.name])||(a[this.name]={});a=a[this.name];for(var c in b)if(b.hasOwnProperty(c)){var d=b[c];if(this.collection){Jsonix.Util.Type.exists(a[c])||(a[c]=[]);for(var e=0;e<d.length;e++)a[c].push(d[e])}else a[c]=d}}},CLASS_NAME:"Jsonix.Model.ElementMapPropertyInfo"});
Jsonix.Model.AbstractElementRefsPropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{wrapperElementName:null,mixed:false,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a,"Options argument must be an object.");Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a]);if(Jsonix.Util.Type.isObject(a.wrapperElementName)){Jsonix.Util.Ensure.ensureString(a.wrapperElementName.localPart,"Wrapper element name must contain a string property [localPart].");this.wrapperElementName=Jsonix.XML.QName.fromObject(a.wrapperElementName)}else this.wrapperElementName=
null;this.mixed=Jsonix.Util.Type.isBoolean(a.mixed)?a.mixed:false},unmarshal:function(a,b,c){var d=c.eventType;if(d===Jsonix.XML.Input.START_ELEMENT)return Jsonix.Util.Type.exists(this.wrapperElementName)?this.unmarshalWrapperElement(a,b,c):this.unmarshalElement(a,b,c);else if(this.mixed&&(d===Jsonix.XML.Input.CHARACTERS||d===Jsonix.XML.Input.CDATA||d===Jsonix.XML.Input.ENTITY_REFERENCE)){a=c.getText();return this.collection?[a]:a}else if(!(d===Jsonix.XML.Input.SPACE||d===Jsonix.XML.Input.COMMENT||
d===Jsonix.XML.Input.PROCESSING_INSTRUCTION))throw"Illegal state: unexpected event type ["+d+"].";},unmarshalWrapperElement:function(a,b,c){for(var d=null,e=c.next();e!==Jsonix.XML.Input.END_ELEMENT;){if(e===Jsonix.XML.Input.START_ELEMENT){c.getName();e=this.unmarshalElement(a,b,c);if(this.collection){if(d===null)d=[];for(var f=0;f<e.length;f++)d.push(e[f])}else if(d===null)d=e;else throw"Value already set.";}else if(this.mixed&&(e===Jsonix.XML.Input.CHARACTERS||e===Jsonix.XML.Input.CDATA||e===Jsonix.XML.Input.ENTITY_REFERENCE)){e=
c.getText();if(this.collection){if(d===null)d=[];d.push(e)}else if(d===null)d=e;else throw"Value already set.";}else if(!(e===Jsonix.XML.Input.SPACE||e===Jsonix.XML.Input.COMMENT||e===Jsonix.XML.Input.PROCESSING_INSTRUCTION))throw"Illegal state: unexpected event type ["+e+"].";e=c.next()}return d},unmarshalElement:function(a,b,c){var d=c.getName();b=this.getElementTypeInfo(a,b,d);a={name:c.getName(),value:b.unmarshal(a,c)};return this.collection?[a]:a},marshal:function(a,b,c,d){if(Jsonix.Util.Type.exists(c)){Jsonix.Util.Type.exists(this.wrapperElementName)&&
d.writeStartElement(this.wrapperElementName);if(this.collection){Jsonix.Util.Ensure.ensureArray(c,"Collection property requires an array value.");for(var e=0;e<c.length;e++)this.marshalItem(a,b,c[e],d)}else this.marshalItem(a,b,c,d);Jsonix.Util.Type.exists(this.wrapperElementName)&&d.writeEndElement()}},marshalItem:function(a,b,c,d){if(Jsonix.Util.Type.isString(c))if(this.mixed)d.writeCharacters(c);else throw"Property is not mixed, can't handle string values.";else if(Jsonix.Util.Type.isObject(c))this.marshalElement(a,
b,c,d);else if(this.mixed)throw"Unsupported content type, either objects or strings are supported.";else throw"Unsupported content type, only objects are supported.";},marshalElement:function(a,b,c,d){var e=Jsonix.XML.QName.fromObject(c.name);b=this.getElementTypeInfo(a,b,e);return this.marshalElementTypeInfo(a,c,e,b,d)},marshalElementTypeInfo:function(a,b,c,d,e){e.writeStartElement(c);Jsonix.Util.Type.exists(b.value)&&d.marshal(a,b.value,e);e.writeEndElement()},getElementTypeInfo:function(a,b,c){var d=
this.getPropertyElementTypeInfo(c);if(Jsonix.Util.Type.exists(d))return d.typeInfo;else{a=a.getElementInfo(c,b);if(Jsonix.Util.Type.exists(a))return a.typeInfo;else throw"Element ["+c.key+"] is not known in this context.";}},getPropertyElementTypeInfo:function(){throw"Abstract method [getPropertyElementTypeInfo].";},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);if(Jsonix.Util.Type.exists(b.value))throw"The structure already defines a value property.";else if(!Jsonix.Util.Type.exists(b.elements))b.elements=
{};if(Jsonix.Util.Type.exists(this.wrapperElementName))b.elements[this.wrapperElementName.key]=this;else this.buildStructureElements(a,b);if(this.mixed&&!Jsonix.Util.Type.exists(this.wrapperElementName))b.mixed=this},buildStructureElements:function(){throw"Abstract method [buildStructureElements].";},buildStructureElementTypeInfos:function(a,b,c){b.elements[c.elementName.key]=this;c=a.getSubstitutionMembers(c.elementName);if(Jsonix.Util.Type.isArray(c))for(var d=0;d<c.length;d++)this.buildStructureElementTypeInfos(a,
b,c[d])},CLASS_NAME:"Jsonix.Model.ElementRefPropertyInfo"});
Jsonix.Model.ElementRefPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementRefsPropertyInfo,{typeInfo:null,elementName:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementRefsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureObject(a.typeInfo);this.typeInfo=a.typeInfo;this.elementName=Jsonix.Util.Type.isObject(a.elementName)?a.elementName:new Jsonix.XML.QName(this.name)},getPropertyElementTypeInfo:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.localPart);
return Jsonix.XML.QName.fromObject(a).key===this.elementName.key?this:null},buildStructureElements:function(a,b){this.buildStructureElementTypeInfos(a,b,this)},CLASS_NAME:"Jsonix.Model.ElementRefPropertyInfo"});
Jsonix.Model.ElementRefsPropertyInfo=Jsonix.Class(Jsonix.Model.AbstractElementRefsPropertyInfo,{elementTypeInfos:null,elementTypeInfosMap:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.AbstractElementRefsPropertyInfo.prototype.initialize.apply(this,[a]);Jsonix.Util.Ensure.ensureArray(a.elementTypeInfos);this.elementTypeInfos=a.elementTypeInfos;this.elementTypeInfosMap={};for(a=0;a<this.elementTypeInfos.length;a++){var b=this.elementTypeInfos[a];Jsonix.Util.Ensure.ensureObject(b);
this.elementTypeInfosMap[b.elementName.key]=b.typeInfo}},getPropertyElementTypeInfo:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureString(a.localPart);a=Jsonix.XML.QName.fromObject(a);var b=this.elementTypeInfosMap[a.key];return Jsonix.Util.Type.exists(b)?{elementName:a,typeInfo:b}:null},buildStructureElements:function(a,b){for(var c=0;c<this.elementTypeInfos.length;c++)this.buildStructureElementTypeInfos(a,b,this.elementTypeInfos[c])},CLASS_NAME:"Jsonix.Model.ElementRefsPropertyInfo"});
Jsonix.Model.AnyElementPropertyInfo=Jsonix.Class(Jsonix.Model.PropertyInfo,{allowDom:true,allowTypedObject:true,mixed:true,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Model.PropertyInfo.prototype.initialize.apply(this,[a]);this.allowDom=Jsonix.Util.Type.isBoolean(a.allowDom)?a.allowDom:true;this.allowTypedObject=Jsonix.Util.Type.isBoolean(a.allowTypedObject)?a.allowTypedObject:true;this.mixed=Jsonix.Util.Type.isBoolean(a.mixed)?a.mixed:true},unmarshal:function(a,b,c){var d=c.eventType;
if(d===Jsonix.XML.Input.START_ELEMENT)return this.unmarshalElement(a,b,c);else if(this.mixed&&(d===4||d===12||d===9)){a=c.getText();return this.collection?[a]:a}else if(this.mixed&&d===Jsonix.XML.Input.SPACE)return null;else if(d===Jsonix.XML.Input.COMMENT||d===Jsonix.XML.Input.PROCESSING_INSTRUCTION)return null;else throw"Illegal state: unexpected event type ["+d+"].";},unmarshalElement:function(a,b,c){var d=c.getName();if(this.allowTypedObject&&Jsonix.Util.Type.exists(a.getElementInfo(d,b))){b=
a.getElementInfo(d,b).typeInfo;a={name:d,value:b.unmarshal(a,c)}}else if(this.allowDom)a=c.getElement();else throw"Element ["+d.toString()+"] is not known in this context and property does not allow DOM.";return this.collection?[a]:a},marshal:function(a,b,c,d){if(Jsonix.Util.Type.exists(c))if(this.collection){Jsonix.Util.Ensure.ensureArray(c);for(b=0;b<c.length;b++)this.marshalItem(a,c[b],d)}else this.marshalItem(a,c,d)},marshalItem:function(a,b,c){if(this.mixed&&Jsonix.Util.Type.isString(b))c.writeCharacters(b);
else if(this.allowDom&&Jsonix.Util.Type.exists(b.nodeType))c.writeNode(b);else{var d=Jsonix.XML.QName.fromObject(b.name);if(this.allowTypedObject&&Jsonix.Util.Type.exists(a.getElementInfo(d))){var e=a.getElementInfo(d).typeInfo;c.writeStartElement(d);e.marshal(a,b.value,c);c.writeEndElement()}else throw"Element ["+d.toString()+"] is not known in this context";}},buildStructure:function(a,b){Jsonix.Util.Ensure.ensureObject(b);if(Jsonix.Util.Type.exists(b.value))throw"The structure already defines a value property.";
else if(!Jsonix.Util.Type.exists(b.elements))b.elements={};if(this.allowDom||this.allowTypedObject)b.any=this;if(this.mixed)b.mixed=this},CLASS_NAME:"Jsonix.Model.AnyElementPropertyInfo"});
Jsonix.Context=Jsonix.Class({elementInfos:null,properties:null,substitutionMembersMap:null,scopedElementInfosMap:null,initialize:function(a,b){this.elementInfos=[];this.properties={namespacePrefixes:{}};Jsonix.Util.Ensure.ensureArray(a);for(var c=0;c<a.length;c++){var d=a[c];Jsonix.Util.Ensure.ensureArray(d.elementInfos);for(var e=0;e<d.elementInfos.length;e++)this.elementInfos.push(d.elementInfos[e])}if(Jsonix.Util.Type.isObject(b))if(Jsonix.Util.Type.isObject(b.namespacePrefixes))this.properties.namespacePrefixes=
b.namespacePrefixes;this.substitutionMembersMap={};this.scopedElementInfosMap={};for(a=0;a<this.elementInfos.length;a++){b=this.elementInfos[a];if(Jsonix.Util.Type.exists(b.substitutionHead)){c=Jsonix.XML.QName.fromObject(b.substitutionHead).key;d=this.substitutionMembersMap[c];if(!Jsonix.Util.Type.isArray(d)){d=[];this.substitutionMembersMap[c]=d}d.push(b)}c=Jsonix.Util.Type.exists(b.scope)?b.scope.name:"##global";d=this.scopedElementInfosMap[c];if(!Jsonix.Util.Type.isObject(d)){d={};this.scopedElementInfosMap[c]=
d}d[b.elementName.key]=b}},getElementInfo:function(a,b){if(Jsonix.Util.Type.exists(b)){b=this.scopedElementInfosMap[b.name];if(Jsonix.Util.Type.exists(b)){b=b[a.key];if(Jsonix.Util.Type.exists(b))return b}}b=this.scopedElementInfosMap["##global"];if(Jsonix.Util.Type.exists(b)){a=b[a.key];if(Jsonix.Util.Type.exists(a))return a}return null},getSubstitutionMembers:function(a){return this.substitutionMembersMap[Jsonix.XML.QName.fromObject(a).key]},createMarshaller:function(){return new Jsonix.Context.Marshaller(this)},
createUnmarshaller:function(){return new Jsonix.Context.Unmarshaller(this)},CLASS_NAME:"Jsonix.Context"});
Jsonix.Context.Marshaller=Jsonix.Class({context:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);this.context=a},marshalString:function(a){a=this.marshalDocument(a);return Jsonix.DOM.serialize(a)},marshalDocument:function(a){var b=new Jsonix.XML.Output({namespacePrefixes:this.context.properties.namespacePrefixes}),c=b.writeStartDocument();this.marshalElementNode(a,b);b.writeEndDocument();return c},marshalElementNode:function(a,b){Jsonix.Util.Ensure.ensureObject(a);Jsonix.Util.Ensure.ensureObject(a.name);
Jsonix.Util.Ensure.ensureString(a.name.localPart);Jsonix.Util.Ensure.ensureExists(a.value);var c=Jsonix.XML.QName.fromObject(a.name),d=this.context.getElementInfo(c);if(!Jsonix.Util.Type.exists(d))throw"Could not find element declaration for the element ["+c.key+"].";Jsonix.Util.Ensure.ensureObject(d.typeInfo);c=d.typeInfo;d=b.writeStartElement(a.name);c.marshal(this.context,a.value,b);b.writeEndElement();return d},CLASS_NAME:"Jsonix.Context.Marshaller"});
Jsonix.Context.Unmarshaller=Jsonix.Class({context:null,initialize:function(a){Jsonix.Util.Ensure.ensureObject(a);this.context=a},unmarshalString:function(a){Jsonix.Util.Ensure.ensureString(a);return this.unmarshalDocument(Jsonix.DOM.parse(a))},unmarshalURL:function(a,b,c){Jsonix.Util.Ensure.ensureString(a);Jsonix.Util.Ensure.ensureFunction(b);Jsonix.Util.Type.exists(c)&&Jsonix.Util.Ensure.ensureObject(c);that=this;Jsonix.DOM.load(a,function(d){b(that.unmarshalDocument(d))},c)},unmarshalDocument:function(a){a=
new Jsonix.XML.Input(a);a.nextTag();return this.unmarshalElementNode(a)},unmarshalElementNode:function(a){if(a.eventType!=1)throw"Parser must be on START_ELEMENT to read next text.";var b=null;b=Jsonix.XML.QName.fromObject(a.getName());var c=this.context.getElementInfo(b);if(!Jsonix.Util.Type.exists(c))throw"Could not find element declaration for the element ["+b.key+"].";Jsonix.Util.Ensure.ensureObject(c.typeInfo);a=c.typeInfo.unmarshal(this.context,a);return b={name:b,value:a}},CLASS_NAME:"Jsonix.Context.Unmarshaller"});
;
steal.end();
var PageMappings={};PageMappings.PagesCollection=new Jsonix.Model.ClassInfo({name:"PageMappings.PagesCollection"});PageMappings.PageType=new Jsonix.Model.ClassInfo({name:"PageMappings.PageType"});PageMappings.User=new Jsonix.Model.ClassInfo({name:"PageMappings.User"});PageMappings.CreatedModified=new Jsonix.Model.ClassInfo({name:"PageMappings.CreatedModified"});PageMappings.Published=new Jsonix.Model.ClassInfo({name:"PageMappings.Published"});PageMappings.Security=new Jsonix.Model.ClassInfo({name:"PageMappings.Security"});
PageMappings.Security.Owner=new Jsonix.Model.ClassInfo({name:"PageMappings.Security.Owner"});PageMappings.Locked=new Jsonix.Model.ClassInfo({name:"PageMappings.Locked"});PageMappings.Head=new Jsonix.Model.ClassInfo({name:"PageMappings.Head"});PageMappings.Head.Metadata=new Jsonix.Model.ClassInfo({name:"PageMappings.Head.Metadata"});PageMappings.Body=new Jsonix.Model.ClassInfo({name:"PageMappings.Body"});PageMappings.Body.Composer=new Jsonix.Model.ClassInfo({name:"PageMappings.Body.Composer"});
PageMappings.Body.Composer.Pagelet=new Jsonix.Model.ClassInfo({name:"PageMappings.Body.Composer.Pagelet"});PageMappings.Body.Composer.Pagelet.Locale=new Jsonix.Model.ClassInfo({name:"PageMappings.Body.Composer.Pagelet.Locale"});PageMappings.Body.Composer.Pagelet.Property=new Jsonix.Model.ClassInfo({name:"PageMappings.Body.Composer.Pagelet.Property"});
PageMappings.User.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"realm",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ValuePropertyInfo({name:"name",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];PageMappings.CreatedModified.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:PageMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"date",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];
PageMappings.Published.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:PageMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"from",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"to",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];PageMappings.Security.properties=[new Jsonix.Model.ElementPropertyInfo({name:"owner",typeInfo:PageMappings.Security.Owner})];
PageMappings.Security.Owner.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:PageMappings.User})];PageMappings.Locked.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:PageMappings.User})];PageMappings.PagesCollection.properties=[new Jsonix.Model.ElementPropertyInfo({name:"page",collection:true,typeInfo:PageMappings.PageType})];
PageMappings.PageType.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"path",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"version",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"head",typeInfo:PageMappings.Head}),new Jsonix.Model.ElementPropertyInfo({name:"body",typeInfo:PageMappings.Body})];
PageMappings.Head.properties=[new Jsonix.Model.ElementPropertyInfo({name:"template",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"layout",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"promote",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"index",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"metadata",typeInfo:PageMappings.Head.Metadata}),
new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:PageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"modified",typeInfo:PageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"published",typeInfo:PageMappings.Published}),new Jsonix.Model.ElementPropertyInfo({name:"security",typeInfo:PageMappings.Security}),new Jsonix.Model.ElementPropertyInfo({name:"locked",typeInfo:PageMappings.Locked})];
PageMappings.Head.Metadata.properties=[new Jsonix.Model.ElementMapPropertyInfo({name:"title",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"subject",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"series",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementMapPropertyInfo({name:"description",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"type",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementMapPropertyInfo({name:"coverage",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementMapPropertyInfo({name:"rights",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];
PageMappings.Body.properties=[new Jsonix.Model.ElementPropertyInfo({name:"composers",collection:true,elementName:new Jsonix.XML.QName("composer"),typeInfo:PageMappings.Body.Composer})];PageMappings.Body.Composer.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"pagelets",collection:true,elementName:new Jsonix.XML.QName("pagelet"),typeInfo:PageMappings.Body.Composer.Pagelet})];
PageMappings.Body.Composer.Pagelet.properties=[new Jsonix.Model.AttributePropertyInfo({name:"module",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"security",typeInfo:PageMappings.Security}),new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:PageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"published",typeInfo:PageMappings.Published}),
new Jsonix.Model.ElementPropertyInfo({name:"locale",collection:true,typeInfo:PageMappings.Body.Composer.Pagelet.Locale}),new Jsonix.Model.ElementPropertyInfo({name:"properties",typeInfo:PageMappings.Body.Composer.Pagelet.Property})];
PageMappings.Body.Composer.Pagelet.Locale.properties=[new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"original",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"modified",typeInfo:PageMappings.CreatedModified}),new Jsonix.Model.ElementMapPropertyInfo({name:"text",collection:true,key:new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];PageMappings.Body.Composer.Pagelet.Property.properties=[new Jsonix.Model.ElementMapPropertyInfo({name:"property",collection:true,key:new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];PageMappings.typeInfos=[PageMappings.Head];
PageMappings.elementInfos=[{elementName:new Jsonix.XML.QName("pages"),typeInfo:PageMappings.PagesCollection},{elementName:new Jsonix.XML.QName("page"),typeInfo:PageMappings.PageType},{elementName:new Jsonix.XML.QName("head"),typeInfo:PageMappings.Head},{elementName:new Jsonix.XML.QName("pagelet"),typeInfo:PageMappings.Body.Composer.Pagelet}];
;
steal.end();
var FileMappings={};FileMappings.FilesCollection=new Jsonix.Model.ClassInfo({name:"FileMappings.FilesCollection"});FileMappings.FileType=new Jsonix.Model.ClassInfo({name:"FileMappings.FileType"});FileMappings.User=new Jsonix.Model.ClassInfo({name:"FileMappings.User"});FileMappings.GPS=new Jsonix.Model.ClassInfo({name:"FileMappings.GPS"});FileMappings.CreatedModified=new Jsonix.Model.ClassInfo({name:"FileMappings.CreatedModified"});FileMappings.Published=new Jsonix.Model.ClassInfo({name:"FileMappings.Published"});
FileMappings.Security=new Jsonix.Model.ClassInfo({name:"FileMappings.Security"});FileMappings.Security.Owner=new Jsonix.Model.ClassInfo({name:"FileMappings.Security.Owner"});FileMappings.Locked=new Jsonix.Model.ClassInfo({name:"FileMappings.Locked"});FileMappings.Head=new Jsonix.Model.ClassInfo({name:"FileMappings.Head"});FileMappings.Head.Metadata=new Jsonix.Model.ClassInfo({name:"FileMappings.Head.Metadata"});FileMappings.Body=new Jsonix.Model.ClassInfo({name:"FileMappings.Body"});
FileMappings.Body.Content=new Jsonix.Model.ClassInfo({name:"FileMappings.Body.Content"});FileMappings.Body.Content.Video=new Jsonix.Model.ClassInfo({name:"FileMappings.Body.Content.Video"});FileMappings.Body.Content.Audio=new Jsonix.Model.ClassInfo({name:"FileMappings.Body.Content.Audio"});
FileMappings.User.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"realm",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ValuePropertyInfo({name:"name",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];FileMappings.GPS.properties=[new Jsonix.Model.AttributePropertyInfo({name:"lat",typeInfo:Jsonix.Schema.XSD.Double.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"lng",typeInfo:Jsonix.Schema.XSD.Double.INSTANCE})];
FileMappings.CreatedModified.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:FileMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"date",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];FileMappings.Published.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:FileMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"from",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"to",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];
FileMappings.Security.properties=[new Jsonix.Model.ElementPropertyInfo({name:"owner",typeInfo:FileMappings.Security.Owner})];FileMappings.Security.Owner.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:FileMappings.User})];FileMappings.Locked.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:FileMappings.User})];
FileMappings.FilesCollection.properties=[new Jsonix.Model.ElementPropertyInfo({name:"file",collection:true,typeInfo:FileMappings.FileType}),new Jsonix.Model.ElementPropertyInfo({name:"image",collection:true,typeInfo:FileMappings.FileType}),new Jsonix.Model.ElementPropertyInfo({name:"movie",collection:true,typeInfo:FileMappings.FileType})];
FileMappings.FileType.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"path",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"version",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"head",typeInfo:FileMappings.Head}),new Jsonix.Model.ElementPropertyInfo({name:"body",typeInfo:FileMappings.Body})];
FileMappings.Head.properties=[new Jsonix.Model.ElementPropertyInfo({name:"template",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"layout",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"promote",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"index",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"metadata",typeInfo:FileMappings.Head.Metadata}),
new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:FileMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"modified",typeInfo:FileMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"published",typeInfo:FileMappings.Published}),new Jsonix.Model.ElementPropertyInfo({name:"security",typeInfo:FileMappings.Security}),new Jsonix.Model.ElementPropertyInfo({name:"locked",typeInfo:FileMappings.Locked})];
FileMappings.Head.Metadata.properties=[new Jsonix.Model.ElementMapPropertyInfo({name:"title",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"subject",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"series",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementMapPropertyInfo({name:"description",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"type",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementMapPropertyInfo({name:"coverage",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementMapPropertyInfo({name:"rights",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];
FileMappings.Body.properties=[new Jsonix.Model.ElementPropertyInfo({name:"contents",collection:true,elementName:new Jsonix.XML.QName("content"),typeInfo:FileMappings.Body.Content})];
FileMappings.Body.Content.properties=[new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:FileMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"filename",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"source",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"external",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementPropertyInfo({name:"mimetype",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"size",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"width",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"height",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"author",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"datetaken",
typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"location",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"gps",typeInfo:FileMappings.GPS}),new Jsonix.Model.ElementPropertyInfo({name:"filmspeed",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"fnumber",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"focalwidth",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),
new Jsonix.Model.ElementPropertyInfo({name:"exposuretime",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"duration",typeInfo:Jsonix.Schema.XSD.Long.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"audio",typeInfo:FileMappings.Body.Content.Audio}),new Jsonix.Model.ElementPropertyInfo({name:"video",typeInfo:FileMappings.Body.Content.Video})];
FileMappings.Body.Content.Audio.properties=[new Jsonix.Model.ElementPropertyInfo({name:"bitdepth",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"bitrate",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"channels",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"samplingrate",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"format",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];
FileMappings.Body.Content.Video.properties=[new Jsonix.Model.ElementPropertyInfo({name:"bitrate",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"format",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"framerate",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"resolution",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"scantype",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];
FileMappings.typeInfos=[FileMappings.Head];FileMappings.elementInfos=[{elementName:new Jsonix.XML.QName("files"),typeInfo:FileMappings.FilesCollection},{elementName:new Jsonix.XML.QName("file"),typeInfo:FileMappings.FileType},{elementName:new Jsonix.XML.QName("image"),typeInfo:FileMappings.FileType},{elementName:new Jsonix.XML.QName("movie"),typeInfo:FileMappings.FileType},{elementName:new Jsonix.XML.QName("head"),typeInfo:FileMappings.Head},{elementName:new Jsonix.XML.QName("content"),typeInfo:FileMappings.Body.Content}];
;
steal.end();
var ImageMappings={};ImageMappings.ImagesCollection=new Jsonix.Model.ClassInfo({name:"ImageMappings.ImagesCollection"});ImageMappings.ImageType=new Jsonix.Model.ClassInfo({name:"ImageMappings.ImageType"});ImageMappings.User=new Jsonix.Model.ClassInfo({name:"ImageMappings.User"});ImageMappings.GPS=new Jsonix.Model.ClassInfo({name:"ImageMappings.GPS"});ImageMappings.CreatedModified=new Jsonix.Model.ClassInfo({name:"ImageMappings.CreatedModified"});ImageMappings.Published=new Jsonix.Model.ClassInfo({name:"ImageMappings.Published"});
ImageMappings.Security=new Jsonix.Model.ClassInfo({name:"ImageMappings.Security"});ImageMappings.Security.Owner=new Jsonix.Model.ClassInfo({name:"ImageMappings.Security.Owner"});ImageMappings.Locked=new Jsonix.Model.ClassInfo({name:"ImageMappings.Locked"});ImageMappings.Head=new Jsonix.Model.ClassInfo({name:"ImageMappings.Head"});ImageMappings.Head.Metadata=new Jsonix.Model.ClassInfo({name:"ImageMappings.Head.Metadata"});ImageMappings.Body=new Jsonix.Model.ClassInfo({name:"ImageMappings.Body"});
ImageMappings.Body.Content=new Jsonix.Model.ClassInfo({name:"ImageMappings.Body.Content"});ImageMappings.User.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"realm",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ValuePropertyInfo({name:"name",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})];
ImageMappings.GPS.properties=[new Jsonix.Model.AttributePropertyInfo({name:"lat",typeInfo:Jsonix.Schema.XSD.Double.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"lng",typeInfo:Jsonix.Schema.XSD.Double.INSTANCE})];ImageMappings.CreatedModified.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:ImageMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"date",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];
ImageMappings.Published.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:ImageMappings.User}),new Jsonix.Model.ElementPropertyInfo({name:"from",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"to",typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE})];ImageMappings.Security.properties=[new Jsonix.Model.ElementPropertyInfo({name:"owner",typeInfo:ImageMappings.Security.Owner})];
ImageMappings.Security.Owner.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:ImageMappings.User})];ImageMappings.Locked.properties=[new Jsonix.Model.ElementPropertyInfo({name:"user",typeInfo:ImageMappings.User})];ImageMappings.ImagesCollection.properties=[new Jsonix.Model.ElementPropertyInfo({name:"image",collection:true,typeInfo:ImageMappings.ImageType})];
ImageMappings.ImageType.properties=[new Jsonix.Model.AttributePropertyInfo({name:"id",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"path",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.AttributePropertyInfo({name:"version",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"head",typeInfo:ImageMappings.Head}),new Jsonix.Model.ElementPropertyInfo({name:"body",typeInfo:ImageMappings.Body})];
ImageMappings.Head.properties=[new Jsonix.Model.ElementPropertyInfo({name:"template",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"layout",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"promote",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"index",typeInfo:Jsonix.Schema.XSD.Boolean.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"metadata",typeInfo:ImageMappings.Head.Metadata}),
new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:ImageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"modified",typeInfo:ImageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"published",typeInfo:ImageMappings.Published}),new Jsonix.Model.ElementPropertyInfo({name:"security",typeInfo:ImageMappings.Security}),new Jsonix.Model.ElementPropertyInfo({name:"locked",typeInfo:ImageMappings.Locked})];
ImageMappings.Head.Metadata.properties=[new Jsonix.Model.ElementMapPropertyInfo({name:"title",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"subject",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"series",collection:true,typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementMapPropertyInfo({name:"description",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementPropertyInfo({name:"type",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementMapPropertyInfo({name:"coverage",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})}),new Jsonix.Model.ElementMapPropertyInfo({name:"rights",key:new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),value:new Jsonix.Model.ValuePropertyInfo({name:"value",typeInfo:Jsonix.Schema.XSD.String.INSTANCE})})];
ImageMappings.Body.properties=[new Jsonix.Model.ElementPropertyInfo({name:"contents",collection:true,elementName:new Jsonix.XML.QName("content"),typeInfo:ImageMappings.Body.Content})];
ImageMappings.Body.Content.properties=[new Jsonix.Model.AttributePropertyInfo({name:"language",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"created",typeInfo:ImageMappings.CreatedModified}),new Jsonix.Model.ElementPropertyInfo({name:"filename",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"source",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"external",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),
new Jsonix.Model.ElementPropertyInfo({name:"mimetype",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"size",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"width",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"height",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"author",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"datetaken",
typeInfo:Jsonix.Schema.XSD.DateTime.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"location",typeInfo:Jsonix.Schema.XSD.String.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"gps",typeInfo:FileMappings.GPS}),new Jsonix.Model.ElementPropertyInfo({name:"filmspeed",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"fnumber",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE}),new Jsonix.Model.ElementPropertyInfo({name:"focalwidth",typeInfo:Jsonix.Schema.XSD.Integer.INSTANCE}),
new Jsonix.Model.ElementPropertyInfo({name:"exposuretime",typeInfo:Jsonix.Schema.XSD.Float.INSTANCE})];ImageMappings.typeInfos=[ImageMappings.Head];ImageMappings.elementInfos=[{elementName:new Jsonix.XML.QName("images"),typeInfo:ImageMappings.ImagesCollection},{elementName:new Jsonix.XML.QName("image"),typeInfo:ImageMappings.ImageType},{elementName:new Jsonix.XML.QName("head"),typeInfo:ImageMappings.Head},{elementName:new Jsonix.XML.QName("content"),typeInfo:ImageMappings.Body.Content}];
;
steal.end();
steal.then("jsonix").then(function(d){d.Model("Page",{findOne:function(a,c){var e=1;if("version"in a)e=a.version;if("path"in a)d.ajax("/system/weblounge/pages?details=true&path="+a.path+"&version="+e,{success:d.proxy(function(b){b=Page.parseXMLPage(b);if(b==null)Page.findOne({path:a.path,version:0},c);else{b=this.wrap(b);c(b)}},this),error:function(){Page.findOne({path:a.path,version:0},c)}});else"id"in a&&d.ajax("/system/weblounge/pages/"+a.id+"?version="+e,{success:this.callback(["parseXMLPage",
"wrap",c]),error:function(){Page.findOne({id:a.id,version:0},c)}})},findAll:function(a,c,e){var b="/system/weblounge/pages/?sort=created-asc&limit=0&offset=0";if("version"in a)b+="&version="+a.version;if("preferredversion"in a)b+="&preferredversion="+a.preferredversion;if("filter"in a)b+="&filter="+a.filter;d.ajax(b,{success:function(f){f=Page.parseXML(f);c(f.value.page)},error:e})},findRecent:function(a,c,e){var b="/system/weblounge/pages/?sort=modified-desc&limit=8&offset=0";if("version"in a)b+=
"&version="+a.version;if("preferredversion"in a)b+="&preferredversion="+a.preferredversion;if("filter"in a)b+="&filter="+a.filter;d.ajax(b,{success:function(f){f=Page.parseXML(f);c(f.value.page)},error:e})},findPending:function(a,c,e){var b="/system/weblounge/pages/pending?limit=0";if("filter"in a)b+="?filter="+a.filter;d.ajax(b,{success:function(f){f=Page.parseXML(f);c(f.value.page)},error:e})},findBySearch:function(a,c,e){var b="/system/weblounge/pages/?searchterms="+a.search+"&sort=modified-desc&limit=8&offset=0";
if("version"in a)b+="&version="+a.version;if("preferredversion"in a)b+="&preferredversion="+a.preferredversion;if("filter"in a)b+="&filter="+a.filter;d.ajax(b,{success:function(f){f=Page.parseXML(f);c(f.value.page)},error:e})},findReferrer:function(a,c,e){"id"in a&&d.ajax("/system/weblounge/pages/"+a.id+"/referrer",{success:function(b){b=Page.parseXML(b);c(b.value.page)},error:e})},update:function(a,c,e,b){var f={};if("eTag"in a)f={"If-Match":a.eTag};if("id"in a){var g=false;if("async"in a)g=a.async;
d.ajax({url:"/system/weblounge/pages/"+a.id,async:g,type:"put",success:e,error:b,headers:f,dataType:"xml",data:{content:Page.parseJSON(c)}})}},create:function(a,c,e){if("path"in a){var b={path:a.path};if("content"in a)b={path:a.path,content:Page.parseJSON(a.content)};var f=false;if("async"in a)f=a.async;d.ajax({url:"/system/weblounge/pages/",async:f,type:"post",dataType:"xml",data:b,success:function(g,i,h){g=h.getResponseHeader("Location");Page.findOne({id:g.substring(g.lastIndexOf("/")+1)},c)},error:e})}},
destroy:function(a,c,e){"id"in a&&d.ajax({url:"/system/weblounge/pages/"+a.id,type:"delete",success:c,error:e})},lock:function(a,c,e){var b={},f={user:""};if("eTag"in a)b={"If-Match":a.eTag};if("user"in a)f.user=a.user;"id"in a&&d.ajax({url:"/system/weblounge/pages/"+a.id+"/lock",type:"put",success:c,error:e,headers:b,dataType:"xml",data:f})},unlock:function(a,c,e){"id"in a&&d.ajax({url:"/system/weblounge/pages/"+a.id+"/lock",type:"delete",success:c,error:e})},publish:function(a,c,e){var b={},f={startdate:"",
enddate:""};if("eTag"in a)b={"If-Match":a.eTag};if("startdate"in a)f.startdate=a.startdate;if("enddate"in a)f.enddate=a.enddate;"id"in a&&d.ajax({url:"/system/weblounge/pages/"+a.id+"/publish",type:"put",success:c,error:e,headers:b,dataType:"xml",data:f})},unpublish:function(a,c,e){"id"in a&&d.ajax({url:"/system/weblounge/pages/"+a.id+"/publish",type:"delete",success:c,error:e})},parseXML:function(a){return Editor.Jsonix.context().createUnmarshaller().unmarshalDocument(a)},parseXMLPage:function(a){a=
d(a).find("page")[0];if(a==undefined)return null;return Editor.Jsonix.context().createUnmarshaller().unmarshalDocument(a)},parseJSON:function(a){return Editor.Jsonix.context().createMarshaller().marshalString(a)}},{getComposer:function(a){var c;d.each(this.value.body.composers,function(e,b){if(b.id==a){c=b;return false}});return c},isLocked:function(){if(d.isEmptyObject(this.value.head.locked))return false;return true},publish:function(a,c){Page.publish({id:this.value.id},a,c)},unpublish:function(a,
c){Page.unpublish({id:this.value.id},a,c)},isLockedUser:function(a){if(d.isEmptyObject(this.value.head.locked))return false;if(this.value.head.locked.user.id==a)return true;return false},lock:function(a,c,e){Page.lock({id:this.value.id,user:a},d.proxy(function(){Page.findOne({id:this.value.id},d.proxy(function(b){this.value=b.value;c()},this))},this),e)},unlock:function(a){Page.unlock({id:this.value.id},d.proxy(function(){delete this.value.head.locked;a()},this))},getLockOwner:function(){if(!d.isEmptyObject(this.value.head.locked)){if(!d.isEmptyObject(this.value.head.locked.user.name))return this.value.head.locked.user.name;
return this.value.head.locked.user.id}},getPath:function(){return this.value.path},getTemplate:function(){return this.value.head.template},getVersion:function(){return this.value.version},isWorkVersion:function(){return this.value.version=="work"},getTitle:function(a){if(d.isEmptyObject(this.value.head.metadata))return"";if(d.isEmptyObject(this.value.head.metadata.title))return"";if(d.isEmptyObject(this.value.head.metadata.title[a]))return"";return this.value.head.metadata.title[a]},getDescription:function(a){if(d.isEmptyObject(this.value.head.metadata))return"";
if(d.isEmptyObject(this.value.head.metadata.description))return"";if(d.isEmptyObject(this.value.head.metadata.description[a]))return"";return this.value.head.metadata.description[a]},getTags:function(){if(d.isEmptyObject(this.value.head.metadata))return"";if(d.isEmptyObject(this.value.head.metadata.subject))return"";return this.value.head.metadata.subject},getComposerIndex:function(a){var c=-1;d.each(this.value.body.composers,function(e,b){if(b.id==a){c=e;return false}});return c},deletePagelet:function(a,
c){this.getComposer(a).pagelets.splice(c,1);Page.update({id:this.value.id},this)},getPagelet:function(a,c){return this.getComposer(a).pagelets[c]},createComposer:function(a){if(d.isEmptyObject(this.value.body.composers))this.value.body.composers=[];if(d.isEmptyObject(this.value.body.composers.pagelets))this.value.body.composers.pagelets=[];this.getComposerIndex(a)==-1&&this.value.body.composers.push({id:a})},updateComposer:function(a,c){this.value.body.composers[this.getComposerIndex(a)].pagelets=
c;Page.update({id:this.value.id},this)},getEditorPagelet:function(a,c,e){a=this.getPagelet(a,c);var b=jQuery.extend(true,{},a);if(d.isEmptyObject(b.locale))return b;d.each(b.locale,function(f,g){if(g.language==e)b.locale.current=g;if(g.original==true)b.locale.original=g});return b},insertPagelet:function(a,c,e,b){delete a.locale.current;delete a.locale.original;this.value.body.composers[this.getComposerIndex(c)].pagelets[e]=a;Page.update({id:this.value.id,async:false},this,b)},saveMetadata:function(a,
c,e){if(d.isEmptyObject(this.value.head.metadata))this.value.head.metadata={};if(d.isEmptyObject(this.value.head.metadata.title))this.value.head.metadata.title={};if(d.isEmptyObject(this.value.head.metadata.description))this.value.head.metadata.description={};if(d.isEmptyObject(this.value.head.metadata.subject))this.value.head.metadata.subject=[];this.value.path=a.url;this.value.head.template=a.layout;this.value.head.metadata.title[c]=a.title;this.value.head.metadata.description[c]=a.description;
this.value.head.metadata.subject=a.tags.split(/\s*,\s*/).filter(function(b){return b!=""});Page.update({id:this.value.id},this,e)}})});
;
steal.end();
(function(c){c.extend(c.fn,{validate:function(a){if(this.length){var b=c.data(this[0],"validator");if(b)return b;b=new c.validator(a,this[0]);c.data(this[0],"validator",b);if(b.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){b.cancelSubmit=true});b.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){b.submitButton=this});this.submit(function(d){function e(){if(b.settings.submitHandler){if(b.submitButton)var f=c("<input type='hidden'/>").attr("name",
b.submitButton.name).val(b.submitButton.value).appendTo(b.currentForm);b.settings.submitHandler.call(b,b.currentForm);b.submitButton&&f.remove();return false}return true}b.settings.debug&&d.preventDefault();if(b.cancelSubmit){b.cancelSubmit=false;return e()}if(b.form()){if(b.pendingRequest){b.formSubmitted=true;return false}return e()}else{b.focusInvalid();return false}})}return b}else a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(c(this[0]).is("form"))return this.validate().form();
else{var a=true,b=c(this[0].form).validate();this.each(function(){a&=b.element(this)});return a}},removeAttrs:function(a){var b={},d=this;c.each(a.split(/\s/),function(e,f){b[f]=d.attr(f);d.removeAttr(f)});return b},rules:function(a,b){var d=this[0];if(a){var e=c.data(d.form,"validator").settings,f=e.rules,h=c.validator.staticRules(d);switch(a){case "add":c.extend(h,c.validator.normalizeRule(b));f[d.name]=h;if(b.messages)e.messages[d.name]=c.extend(e.messages[d.name],b.messages);break;case "remove":if(!b){delete f[d.name];
return h}var g={};c.each(b.split(/\s/),function(j,i){g[i]=h[i];delete h[i]});return g}}d=c.validator.normalizeRules(c.extend({},c.validator.metadataRules(d),c.validator.classRules(d),c.validator.attributeRules(d),c.validator.staticRules(d)),d);if(d.required){e=d.required;delete d.required;d=c.extend({required:e},d)}return d}});c.extend(c.expr[":"],{blank:function(a){return!c.trim(""+a.value)},filled:function(a){return!!c.trim(""+a.value)},unchecked:function(a){return!a.checked}});c.validator=function(a,
b){this.settings=c.extend(true,{},c.validator.defaults,a);this.currentForm=b;this.init()};c.validator.format=function(a,b){if(arguments.length==1)return function(){var d=c.makeArray(arguments);d.unshift(a);return c.validator.format.apply(this,d)};if(arguments.length>2&&b.constructor!=Array)b=c.makeArray(arguments).slice(1);if(b.constructor!=Array)b=[b];c.each(b,function(d,e){a=a.replace(RegExp("\\{"+d+"\\}","g"),e)});return a};c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",
validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(a){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass);this.addWrapper(this.errorsFor(a)).hide()}},onfocusout:function(a){if(!this.checkable(a)&&(a.name in this.submitted||!this.optional(a)))this.element(a)},
onkeyup:function(a){if(a.name in this.submitted||a==this.lastElement)this.element(a)},onclick:function(a){if(a.name in this.submitted)this.element(a);else a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(a,b,d){a.type==="radio"?this.findByName(a.name).addClass(b).removeClass(d):c(a).addClass(b).removeClass(d)},unhighlight:function(a,b,d){a.type==="radio"?this.findByName(a.name).removeClass(b).addClass(d):c(a).removeClass(b).addClass(d)}},setDefaults:function(a){c.extend(c.validator.defaults,
a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",friendlyUrl:"Invalid characters for URL. Use only: [a-zA-Z0-9_-]!",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",
maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function a(e){var f=
c.data(this[0].form,"validator");e="on"+e.type.replace(/^validate/,"");f.settings[e]&&f.settings[e].call(f,this[0])}this.labelContainer=c(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||c(this.currentForm);this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=this.groups={};c.each(this.settings.groups,function(e,
f){c.each(f.split(/\s/),function(h,g){b[g]=e})});var d=this.settings.rules;c.each(d,function(e,f){d[e]=c.validator.normalizeRule(f)});c(this.currentForm).validateDelegate(":text, :password, :file, select, textarea","focusin focusout keyup",a).validateDelegate(":radio, :checkbox, select, option","click",a);this.settings.invalidHandler&&c(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();c.extend(this.submitted,this.errorMap);this.invalid=
c.extend({},this.errorMap);this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);return this.valid()},element:function(a){this.lastElement=a=this.clean(a);this.prepareElement(a);this.currentElements=c(a);var b=this.check(a);if(b)delete this.invalid[a.name];else this.invalid[a.name]=true;if(!this.numberOfInvalids())this.toHide=
this.toHide.add(this.containers);this.showErrors();return b},showErrors:function(a){if(a){c.extend(this.errorMap,a);this.errorList=[];for(var b in a)this.errorList.push({message:a[b],element:this.findByName(b)[0]});this.successList=c.grep(this.successList,function(d){return!(d.name in a)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm();this.submitted={};this.prepareForm();
this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0,d;for(d in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},
findLastActive:function(){var a=this.lastActive;return a&&c.grep(this.errorList,function(b){return b.element.name==a.name}).length==1&&a},elements:function(){var a=this,b={};return c(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&a.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in b||!a.objectLength(c(this).rules()))return false;return b[this.name]=true})},
clean:function(a){return c(a)[0]},errors:function(){return c(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=c([]);this.toHide=c([]);this.currentElements=c([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(a){a=this.clean(a);if(this.checkable(a))a=this.findByName(a.name).not(this.settings.ignore)[0];
var b=c(a).rules(),d=false,e;for(e in b){var f={method:e,parameters:b[e]};try{var h=c.validator.methods[e].call(this,a.value.replace(/\r/g,""),a,f.parameters);if(h=="dependency-mismatch")d=true;else{d=false;if(h=="pending"){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!h){this.formatAndAdd(a,f);return false}}}catch(g){this.settings.debug&&window.console&&console.log("exception occured when checking element "+a.id+", check the '"+f.method+"' method",g);throw g;}}if(!d){this.objectLength(b)&&
this.successList.push(a);return true}},customMetaMessage:function(a,b){if(c.metadata)return(a=this.settings.meta?c(a).metadata()[this.settings.meta]:c(a).metadata())&&a.messages&&a.messages[b]},customMessage:function(a,b){return(a=this.settings.messages[a])&&(a.constructor==String?a:a[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==undefined)return arguments[a]},defaultMessage:function(a,b){return this.findDefined(this.customMessage(a.name,b),this.customMetaMessage(a,
b),!this.settings.ignoreTitle&&a.title||undefined,c.validator.messages[b],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(a,b){var d=this.defaultMessage(a,b.method),e=/\$?\{(\d+)\}/g;if(typeof d=="function")d=d.call(this,b.parameters,a);else if(e.test(d))d=jQuery.format(d.replace(e,"{$1}"),b.parameters);this.errorList.push({message:d,element:a});this.errorMap[a.name]=d;this.submitted[a.name]=d},addWrapper:function(a){if(this.settings.wrapper)a=a.add(a.parent(this.settings.wrapper));
return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var b=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(a=0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight){a=0;for(b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,
b[a],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(a,b){var d=this.errorsFor(a);if(d.length){d.removeClass().addClass(this.settings.errorClass);d.attr("generated")&&d.html(b)}else{d=c("<"+this.settings.errorElement+
"/>").attr({"for":this.idOrName(a),generated:true}).addClass(this.settings.errorClass).html(b||"");if(this.settings.wrapper)d=d.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();this.labelContainer.append(d).length||(this.settings.errorPlacement?this.settings.errorPlacement(d,c(a)):d.insertAfter(a))}if(!b&&this.settings.success){d.text("");typeof this.settings.success=="string"?d.addClass(this.settings.success):this.settings.success(d)}this.toShow=this.toShow.add(d)},errorsFor:function(a){var b=
this.idOrName(a);return this.errors().filter(function(){return c(this).attr("for")==b})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){var b=this.currentForm;return c(document.getElementsByName(a)).map(function(d,e){return e.form==b&&e.name==a&&e||null})},getLength:function(a,b){switch(b.nodeName.toLowerCase()){case "select":return c("option:selected",b).length;case "input":if(this.checkable(b))return this.findByName(b.name).filter(":checked").length}return a.length},
depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):true},dependTypes:{"boolean":function(a){return a},string:function(a,b){return!!c(a,b.form).length},"function":function(a,b){return a(b)}},optional:function(a){return!c.validator.methods.required.call(this,c.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=true}},stopRequest:function(a,b){this.pendingRequest--;if(this.pendingRequest<
0)this.pendingRequest=0;delete this.pending[a.name];if(b&&this.pendingRequest==0&&this.formSubmitted&&this.form()){c(this.currentForm).submit();this.formSubmitted=false}else if(!b&&this.pendingRequest==0&&this.formSubmitted){c(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=false}},previousValue:function(a){return c.data(a,"previousValue")||c.data(a,"previousValue",{old:null,valid:true,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:true},
email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(a,b){a.constructor==String?(this.classRuleSettings[a]=b):c.extend(this.classRuleSettings,a)},classRules:function(a){var b={};(a=c(a).attr("class"))&&c.each(a.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(b,c.validator.classRuleSettings[this])});return b},attributeRules:function(a){var b=
{};a=c(a);for(var d in c.validator.methods){var e=a.attr(d);if(e)b[d]=e}b.maxlength&&/-1|2147483647|524288/.test(b.maxlength)&&delete b.maxlength;return b},metadataRules:function(a){if(!c.metadata)return{};var b=c.data(a.form,"validator").settings.meta;return b?c(a).metadata()[b]:c(a).metadata()},staticRules:function(a){var b={},d=c.data(a.form,"validator");if(d.settings.rules)b=c.validator.normalizeRule(d.settings.rules[a.name])||{};return b},normalizeRules:function(a,b){c.each(a,function(d,e){if(e===
false)delete a[d];else if(e.param||e.depends){var f=true;switch(typeof e.depends){case "string":f=!!c(e.depends,b.form).length;break;case "function":f=e.depends.call(b,b)}if(f)a[d]=e.param!==undefined?e.param:true;else delete a[d]}});c.each(a,function(d,e){a[d]=c.isFunction(e)?e(b):e});c.each(["minlength","maxlength","min","max"],function(){if(a[this])a[this]=Number(a[this])});c.each(["rangelength","range"],function(){if(a[this])a[this]=[Number(a[this][0]),Number(a[this][1])]});if(c.validator.autoCreateRanges){if(a.min&&
a.max){a.range=[a.min,a.max];delete a.min;delete a.max}if(a.minlength&&a.maxlength){a.rangelength=[a.minlength,a.maxlength];delete a.minlength;delete a.maxlength}}a.messages&&delete a.messages;return a},normalizeRule:function(a){if(typeof a=="string"){var b={};c.each(a.split(/\s/),function(){b[this]=true});a=b}return a},addMethod:function(a,b,d){c.validator.methods[a]=b;c.validator.messages[a]=d!=undefined?d:c.validator.messages[a];b.length<3&&c.validator.addClassRules(a,c.validator.normalizeRule(a))},
methods:{required:function(a,b,d){if(!this.depend(d,b))return"dependency-mismatch";switch(b.nodeName.toLowerCase()){case "select":return(a=c(b).val())&&a.length>0;case "input":if(this.checkable(b))return this.getLength(a,b)>0;default:return c.trim(a).length>0}},remote:function(a,b,d){if(this.optional(b))return"dependency-mismatch";var e=this.previousValue(b);this.settings.messages[b.name]||(this.settings.messages[b.name]={});e.originalMessage=this.settings.messages[b.name].remote;this.settings.messages[b.name].remote=
e.message;d=typeof d=="string"&&{url:d}||d;if(this.pending[b.name])return"pending";if(e.old===a)return e.valid;e.old=a;var f=this;this.startRequest(b);var h={};h[b.name]=a;c.ajax(c.extend(true,{url:d,mode:"abort",port:"validate"+b.name,dataType:"json",data:h,success:function(g){f.settings.messages[b.name].remote=e.originalMessage;var j=g===true;if(j){var i=f.formSubmitted;f.prepareElement(b);f.formSubmitted=i;f.successList.push(b);f.showErrors()}else{i={};g=g||f.defaultMessage(b,"remote");i[b.name]=
e.message=c.isFunction(g)?g(a):g;f.showErrors(i)}e.valid=j;f.stopRequest(b,j)}},d));return"pending"},minlength:function(a,b,d){return this.optional(b)||this.getLength(c.trim(a),b)>=d},maxlength:function(a,b,d){return this.optional(b)||this.getLength(c.trim(a),b)<=d},rangelength:function(a,b,d){a=this.getLength(c.trim(a),b);return this.optional(b)||a>=d[0]&&a<=d[1]},min:function(a,b,d){return this.optional(b)||a>=d},max:function(a,b,d){return this.optional(b)||a<=d},range:function(a,b,d){return this.optional(b)||
a>=d[0]&&a<=d[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(a)},
url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},
date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9-]+/.test(a))return false;var d=b=0,e=false;a=a.replace(/\D/g,"");for(var f=a.length-1;f>=
0;f--){d=a.charAt(f);d=parseInt(d,10);if(e)if((d*=2)>9)d-=9;b+=d;e=!e}return b%10==0},accept:function(a,b,d){d=typeof d=="string"?d.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||a.match(RegExp(".("+d+")$","i"))},equalTo:function(a,b,d){d=c(d).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){c(b).valid()});return a==d.val()}}});c.format=c.validator.format})(jQuery);
(function(c){var a={};if(c.ajaxPrefilter)c.ajaxPrefilter(function(d,e,f){e=d.port;if(d.mode=="abort"){a[e]&&a[e].abort();a[e]=f}});else{var b=c.ajax;c.ajax=function(d){var e=("port"in d?d:c.ajaxSettings).port;if(("mode"in d?d:c.ajaxSettings).mode=="abort"){a[e]&&a[e].abort();return a[e]=b.apply(this,arguments)}return b.apply(this,arguments)}}})(jQuery);
(function(c){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function d(e){e=c.event.fix(e);e.type=b;return c.event.handle.call(this,e)}c.event.special[b]={setup:function(){this.addEventListener(a,d,true)},teardown:function(){this.removeEventListener(a,d,true)},handler:function(e){arguments[0]=c.event.fix(e);arguments[0].type=b;return c.event.handle.apply(this,arguments)}}});c.extend(c.fn,{validateDelegate:function(a,
b,d){return this.bind(b,function(e){var f=c(e.target);if(f.is(a))return d.apply(f,arguments)})}})})(jQuery);
;
steal.end();
jQuery.cookie=function(e,b,a){if(arguments.length>1&&String(b)!=="[object Object]"){a=jQuery.extend({},a);if(b===null||b===undefined)a.expires=-1;if(typeof a.expires==="number"){var d=a.expires,c=a.expires=new Date;c.setDate(c.getDate()+d)}b=String(b);return document.cookie=[encodeURIComponent(e),"=",a.raw?b:encodeURIComponent(b),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}a=b||{};c=a.raw?function(f){return f}:
decodeURIComponent;return(d=(new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)")).exec(document.cookie))?c(d[1]):null};
;
steal.end();
(function(c,o){function v(a){return typeof a==="string"}function m(a){var b=D.call(arguments,1);return function(){return a.apply(this,b.concat(D.call(arguments)))}}function E(a){return a.replace(/^[^#]*#?(.*)$/,"$1")}function H(a){return a.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function t(a,b,d,e,f){var h;if(e!==i){b=d.match(a?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);d=b[3]||"";if(f===2&&v(e))e=e.replace(a?J:K,"");else{h=j(b[2]);e=v(e)?j[a?w:A](e):e;e=f===2?e:f===1?c.extend({},e,h):c.extend({},
h,e);e=p(e);if(a)e=e.replace(L,q)}a=b[1]+(a?"#":e||!b[1]?"?":"")+e+d}else a=b(d!==i?d:o[I][B]);return a}function x(a,b,d){if(b===i||typeof b==="boolean"){d=b;b=p[a?w:A]()}else b=v(b)?b.replace(a?J:K,""):b;return j(b,d)}function F(a,b,d,e){if(!v(d)&&typeof d!=="object"){e=d;d=b;b=i}return this.each(function(){var f=c(this),h=b||G()[(this.nodeName||"").toLowerCase()]||"",g=h&&f.attr(h)||"";f.attr(h,p[a](g,d,e))})}var i,D=Array.prototype.slice,q=decodeURIComponent,p=c.param,n,j,r,y=c.bbq=c.bbq||{},l,
s,G,C=c.event.special,A="querystring",w="fragment",I="location",B="href",K=/^.*\?|#.*$/g,J=/^.*\#/,L,M={};p[A]=m(t,0,H);p[w]=n=m(t,1,E);n.noEscape=function(a){a=a||"";a=c.map(a.split(""),encodeURIComponent);L=new RegExp(a.join("|"),"g")};n.noEscape(",/");c.deparam=j=function(a,b){var d={},e={"true":true,"false":false,"null":null};c.each(a.replace(/\+/g," ").split("&"),function(f,h){var g=h.split("=");f=q(g[0]);h=d;var z=0,k=f.split("]["),u=k.length-1;if(/\[/.test(k[0])&&/\]$/.test(k[u])){k[u]=k[u].replace(/\]$/,
"");k=k.shift().split("[").concat(k);u=k.length-1}else u=0;if(g.length===2){g=q(g[1]);if(b)g=g&&!isNaN(g)?+g:g==="undefined"?i:e[g]!==i?e[g]:g;if(u)for(;z<=u;z++){f=k[z]===""?h.length:k[z];h=h[f]=z<u?h[f]||(k[z+1]&&isNaN(k[z+1])?{}:[]):g}else if(c.isArray(d[f]))d[f].push(g);else d[f]=d[f]!==i?[d[f],g]:g}else if(f)d[f]=b?i:""});return d};j[A]=m(x,0);j[w]=r=m(x,1);c.elemUrlAttr||(c.elemUrlAttr=function(a){return c.extend(M,a)})({a:B,base:B,iframe:"src",img:"src",input:"src",form:"action",link:B,script:"src"});
G=c.elemUrlAttr;c.fn[A]=m(F,A);c.fn[w]=m(F,w);y.pushState=l=function(a,b){if(v(a)&&/^#/.test(a)&&b===i)b=2;var d=a!==i;a=n(o[I][B],d?a:{},d?b:2);o[I][B]=a+(/#/.test(a)?"":"#")};y.getState=s=function(a,b){return a===i||typeof a==="boolean"?r(a):r(b)[a]};y.removeState=function(a){var b={};if(a!==i){b=s();c.each(c.isArray(a)?a:arguments,function(d,e){delete b[e]})}l(b,2)};C.hashchange=c.extend(C.hashchange,{add:function(a){function b(e){var f=e[w]=n();e.getState=function(h,g){return h===i||typeof h===
"boolean"?j(f,h):j(f,g)[h]};d.apply(this,arguments)}var d;if(c.isFunction(a)){d=a;return b}else{d=a.handler;a.handler=b}}})})(jQuery,this);
(function(c,o,v){function m(q){q=q||o[t][x];return q.replace(/^[^#]*#?(.*)$/,"$1")}var E,H=c.event.special,t="location",x="href",F=document.documentMode,i=c.browser.msie&&(F===v||F<8),D="onhashchange"in o&&!i;c.hashchangeDelay=100;H.hashchange=c.extend(H.hashchange,{setup:function(){if(D)return false;c(E.start)},teardown:function(){if(D)return false;c(E.stop)}});E=function(){function q(){r=y=function(l){return l};if(i){j=c('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow;
y=function(){return m(j.document[t][x])};r=function(l,s){if(l!==s){s=j.document;s.open().close();s[t].hash="#"+l}};r(m())}}var p={},n,j,r,y;p.start=function(){if(!n){var l=m();r||q();(function s(){var G=m(),C=y(l);if(G!==l){r(l=G,C);c(o).trigger("hashchange")}else if(C!==l)o[t][x]=o[t][x].replace(/#.*/,"")+"#"+C;n=setTimeout(s,c.hashchangeDelay)})()}};p.stop=function(){if(!j){n&&clearTimeout(n);n=0}};return p}()})(jQuery,this);
;
steal.end();
(function(d){function s(c,b){var a=this,f=c.add(a),e=d(window),h,k,p,m=d.tools.expose&&(b.mask||b.expose),o=Math.random().toString().slice(10);m&&(typeof m=="string"&&(m={color:m}),m.closeOnClick=m.closeOnEsc=false);var l=b.target||c.attr("rel");k=l?d(l):c;if(!k.length)throw"Could not find Overlay: "+l;c&&c.index(k)==-1&&c.click(function(j){a.load(j);return j.preventDefault()});d.extend(a,{load:function(j){if(a.isOpened())return a;var g=i[b.effect];if(!g)throw'Overlay: cannot find effect : "'+b.effect+
'"';b.oneInstance&&d.each(r,function(){this.close(j)});j=j||d.Event();j.type="onBeforeLoad";f.trigger(j);if(j.isDefaultPrevented())return a;p=true;m&&d(k).expose(m);var n=b.top,t=b.left,q=k.outerWidth({margin:true}),u=k.outerHeight({margin:true});typeof n=="string"&&(n=n=="center"?Math.max((e.height()-u)/2,0):parseInt(n,10)/100*e.height());t=="center"&&(t=Math.max((e.width()-q)/2,0));g[0].call(a,{top:n,left:t},function(){p&&(j.type="onLoad",f.trigger(j))});m&&b.closeOnClick&&d.mask.getMask().one("click",
a.close);b.closeOnClick&&d(document).bind("click."+o,function(v){d(v.target).parents(k).length||a.close(v)});b.closeOnEsc&&d(document).bind("keydown."+o,function(v){v.keyCode==27&&a.close(v)});return a},close:function(j){if(!a.isOpened())return a;j=j||d.Event();j.type="onBeforeClose";f.trigger(j);if(!j.isDefaultPrevented()){p=false;i[b.effect][1].call(a,function(){j.type="onClose";f.trigger(j)});d(document).unbind("click."+o).unbind("keydown."+o);m&&d.mask.close();return a}},getOverlay:function(){return k},
getTrigger:function(){return c},getClosers:function(){return h},isOpened:function(){return p},getConf:function(){return b}});d.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(j,g){d.isFunction(b[g])&&d(a).bind(g,b[g]);a[g]=function(n){n&&d(a).bind(g,n);return a}});h=k.find(b.close||".close");!h.length&&!b.close&&(h=d('<a class="close"></a>'),k.prepend(h));h.click(function(j){a.close(j)});b.load&&a.load()}d.tools=d.tools||{version:"v1.2.5"};d.tools.overlay={addEffect:function(c,
b,a){i[c]=[b,a]},conf:{close:null,closeOnClick:true,closeOnEsc:true,closeSpeed:"fast",effect:"default",fixed:!d.browser.msie||d.browser.version>6,left:"center",load:false,mask:null,oneInstance:true,speed:"normal",target:null,top:"10%"}};var r=[],i={};d.tools.overlay.addEffect("default",function(c,b){var a=this.getConf(),f=d(window);a.fixed||(c.top+=f.scrollTop(),c.left+=f.scrollLeft());c.position=a.fixed?"fixed":"absolute";this.getOverlay().css(c).fadeIn(a.speed,b)},function(c){this.getOverlay().fadeOut(this.getConf().closeSpeed,
c)});d.fn.overlay=function(c){var b=this.data("overlay");if(b)return b;d.isFunction(c)&&(c={onBeforeLoad:c});c=d.extend(true,{},d.tools.overlay.conf,c);this.each(function(){b=new s(d(this),c);r.push(b);d(this).data("overlay",b)});return c.api?b:this}})(jQuery);
(function(d){function s(c){var b=c.offset();return{top:b.top+c.height()/2,left:b.left+c.width()/2}}var r=d.tools.overlay,i=d(window);d.extend(r.conf,{start:{top:null,left:null},fadeInSpeed:"fast",zIndex:9999});r.addEffect("apple",function(c,b){var a=this.getOverlay(),f=this.getConf(),e=this.getTrigger(),h=this,k=a.outerWidth({margin:true}),p=a.data("img"),m=f.fixed?"fixed":"absolute";if(!p){p=a.css("backgroundImage");if(!p)throw"background-image CSS property not set for overlay";p=p.slice(p.indexOf("(")+
1,p.indexOf(")")).replace(/\"/g,"");a.css("backgroundImage","none");p=d('<img src="'+p+'"/>');p.css({border:0,display:"none"}).width(k);d("body").append(p);a.data("img",p)}var o=f.start.top||Math.round(i.height()/2),l=f.start.left||Math.round(i.width()/2);if(e){e=s(e);o=e.top;l=e.left}f.fixed?(o-=i.scrollTop(),l-=i.scrollLeft()):(c.top+=i.scrollTop(),c.left+=i.scrollLeft());p.css({position:"absolute",top:o,left:l,width:0,zIndex:f.zIndex}).show();c.position=m;a.css(c);p.animate({top:a.css("top"),left:a.css("left"),
width:k},f.speed,function(){a.css("zIndex",f.zIndex+1).fadeIn(f.fadeInSpeed,function(){h.isOpened()&&!d(this).index(a)?b.call():a.hide()})}).css("position",m)},function(c){var b=this.getOverlay().hide(),a=this.getConf(),f=this.getTrigger();b=b.data("img");var e={top:a.start.top,left:a.start.left,width:0};f&&d.extend(e,s(f));a.fixed&&b.css({position:"absolute"}).animate({top:"+="+i.scrollTop(),left:"+="+i.scrollLeft()},0);b.animate(e,a.closeSpeed,c)})})(jQuery);
(function(d){function s(c,b){var a=d(b);return a.length<2?a:c.parent().find(b)}function r(c,b){var a=this,f=c.add(a),e=c.children(),h=0,k=b.vertical;i||(i=a);e.length>1&&(e=d(b.items,c));d.extend(a,{getConf:function(){return b},getIndex:function(){return h},getSize:function(){return a.getItems().size()},getNaviButtons:function(){return o.add(l)},getRoot:function(){return c},getItemWrap:function(){return e},getItems:function(){return e.children(b.item).not("."+b.clonedClass)},move:function(g,n){return a.seekTo(h+
g,n)},next:function(g){return a.move(1,g)},prev:function(g){return a.move(-1,g)},begin:function(g){return a.seekTo(0,g)},end:function(g){return a.seekTo(a.getSize()-1,g)},focus:function(){return i=a},addItem:function(g){g=d(g);b.circular?(e.children("."+b.clonedClass+":last").before(g),e.children("."+b.clonedClass+":first").replaceWith(g.clone().addClass(b.clonedClass))):e.append(g);f.trigger("onAddItem",[g]);return a},seekTo:function(g,n,t){g.jquery||(g*=1);if(b.circular&&g===0&&h==-1&&n!==0)return a;
if(!b.circular&&g<0||g>a.getSize()||g<-1)return a;var q=g;g.jquery?(g=a.getItems().index(g)):(q=a.getItems().eq(g));var u=d.Event("onBeforeSeek");if(!t){f.trigger(u,[g,n]);if(u.isDefaultPrevented()||!q.length)return a}q=k?{top:-q.position().top}:{left:-q.position().left};h=g;i=a;n===undefined&&(n=b.speed);e.animate(q,n,b.easing,t||function(){f.trigger("onSeek",[g])});return a}});d.each(["onBeforeSeek","onSeek","onAddItem"],function(g,n){d.isFunction(b[n])&&d(a).bind(n,b[n]);a[n]=function(t){t&&d(a).bind(n,
t);return a}});if(b.circular){var p=a.getItems().slice(-1).clone().prependTo(e),m=a.getItems().eq(1).clone().appendTo(e);p.add(m).addClass(b.clonedClass);a.onBeforeSeek(function(g,n,t){if(!g.isDefaultPrevented()){if(n==-1){a.seekTo(p,t,function(){a.end(0)});return g.preventDefault()}n==a.getSize()&&a.seekTo(m,t,function(){a.begin(0)})}});a.seekTo(0,0,function(){})}var o=s(c,b.prev).click(function(){a.prev()}),l=s(c,b.next).click(function(){a.next()});!b.circular&&a.getSize()>1&&(a.onBeforeSeek(function(g,
n){setTimeout(function(){g.isDefaultPrevented()||(o.toggleClass(b.disabledClass,n<=0),l.toggleClass(b.disabledClass,n>=a.getSize()-1))},1)}),b.initialIndex||o.addClass(b.disabledClass));b.mousewheel&&d.fn.mousewheel&&c.mousewheel(function(g,n){if(b.mousewheel){a.move(n<0?1:-1,b.wheelSpeed||50);return false}});if(b.touch){var j={};e[0].ontouchstart=function(g){g=g.touches[0];j.x=g.clientX;j.y=g.clientY};e[0].ontouchmove=function(g){if(g.touches.length==1&&!e.is(":animated")){var n=g.touches[0],t=j.x-
n.clientX;n=j.y-n.clientY;a[k&&n>0||!k&&t>0?"next":"prev"]();g.preventDefault()}}}b.keyboard&&d(document).bind("keydown.scrollable",function(g){if(b.keyboard&&!g.altKey&&!g.ctrlKey&&!d(g.target).is(":input"))if(!(b.keyboard!="static"&&i!=a)){var n=g.keyCode;if(k&&(n==38||n==40)){a.move(n==38?-1:1);return g.preventDefault()}if(!k&&(n==37||n==39)){a.move(n==37?-1:1);return g.preventDefault()}}});b.initialIndex&&a.seekTo(b.initialIndex,0,function(){})}d.tools=d.tools||{version:"v1.2.5"};d.tools.scrollable=
{conf:{activeClass:"active",circular:false,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:null,items:".items",keyboard:true,mousewheel:false,next:".next",prev:".prev",speed:400,vertical:false,touch:true,wheelSpeed:0}};var i;d.fn.scrollable=function(c){var b=this.data("scrollable");if(b)return b;c=d.extend({},d.tools.scrollable.conf,c);this.each(function(){b=new r(d(this),c);d(this).data("scrollable",b)});return c.api?b:this}})(jQuery);
(function(d){var s=d.tools.scrollable;s.autoscroll={conf:{autoplay:true,interval:3E3,autopause:true}};d.fn.autoscroll=function(r){typeof r=="number"&&(r={interval:r});var i=d.extend({},s.autoscroll.conf,r),c;this.each(function(){var b=d(this).data("scrollable");b&&(c=b);var a,f=true;b.play=function(){a||(f=false,a=setInterval(function(){b.next()},i.interval))};b.pause=function(){a=clearInterval(a)};b.stop=function(){b.pause();f=true};i.autopause&&b.getRoot().add(b.getNaviButtons()).hover(b.pause,
b.play);i.autoplay&&b.play()});return i.api?c:this}})(jQuery);
(function(d){function s(i,c){var b=d(c);return b.length<2?b:i.parent().find(c)}var r=d.tools.scrollable;r.navigator={conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:false,idPrefix:null,history:false}};d.fn.navigator=function(i){typeof i=="string"&&(i={navi:i});i=d.extend({},r.navigator.conf,i);var c;this.each(function(){function b(l,j,g){h.seekTo(j);if(o)location.hash&&(location.hash=l.attr("href").replace("#",""));else return g.preventDefault()}function a(){return k.find(i.naviItem||
"> *")}function f(l){var j=d("<"+(i.naviItem||"a")+"/>").click(function(g){b(d(this),l,g)}).attr("href","#"+l);l===0&&j.addClass(m);i.indexed&&j.text(l+1);i.idPrefix&&j.attr("id",i.idPrefix+l);return j.appendTo(k)}function e(l,j){l=a().eq(j.replace("#",""));l.length||(l=a().filter("[href="+j+"]"));l.click()}var h=d(this).data("scrollable"),k=i.navi.jquery?i.navi:s(h.getRoot(),i.navi),p=h.getNaviButtons(),m=i.activeClass,o=i.history&&d.fn.history;h&&(c=h);h.getNaviButtons=function(){return p.add(k)};
a().length?a().each(function(l){d(this).click(function(j){b(d(this),l,j)})}):d.each(h.getItems(),function(l){f(l)});h.onBeforeSeek(function(l,j){setTimeout(function(){if(!l.isDefaultPrevented()){var g=a().eq(j);!l.isDefaultPrevented()&&g.length&&a().removeClass(m).eq(j).addClass(m)}},1)});h.onAddItem(function(l,j){j=f(h.getItems().index(j));o&&j.history(e)});o&&a().history(e)});return i.api?c:this}})(jQuery);
(function(d){function s(c,b,a){var f=this,e=c.add(this),h=c.find(a.tabs),k=b.jquery?b:c.children(b),p;h.length||(h=c.children());k.length||(k=c.parent().find(b));k.length||(k=d(b));d.extend(this,{click:function(m,o){var l=h.eq(m);typeof m=="string"&&m.replace("#","")&&(l=h.filter("[href*="+m.replace("#","")+"]"),m=Math.max(h.index(l),0));if(a.rotate){var j=h.length-1;if(m<0)return f.click(j,o);if(m>j)return f.click(0,o)}if(!l.length){if(p>=0)return f;m=a.initialIndex;l=h.eq(m)}if(m===p)return f;o=
o||d.Event();o.type="onBeforeClick";e.trigger(o,[m]);if(!o.isDefaultPrevented()){r[a.effect].call(f,m,function(){o.type="onClick";e.trigger(o,[m])});p=m;h.removeClass(a.current);l.addClass(a.current);return f}},getConf:function(){return a},getTabs:function(){return h},getPanes:function(){return k},getCurrentPane:function(){return k.eq(p)},getCurrentTab:function(){return h.eq(p)},getIndex:function(){return p},next:function(){return f.click(p+1)},prev:function(){return f.click(p-1)},destroy:function(){h.unbind(a.event).removeClass(a.current);
k.find("a[href^=#]").unbind("click.T");return f}});d.each("onBeforeClick,onClick".split(","),function(m,o){d.isFunction(a[o])&&d(f).bind(o,a[o]);f[o]=function(l){l&&d(f).bind(o,l);return f}});a.history&&d.fn.history&&(d.tools.history.init(h),a.event="history");h.each(function(m){d(this).bind(a.event,function(o){f.click(m,o);return o.preventDefault()})});k.find("a[href^=#]").bind("click.T",function(m){f.click(d(this).attr("href"),m)});location.hash&&a.tabs=="a"&&c.find("[href="+location.hash+"]").length?
f.click(location.hash):(a.initialIndex===0||a.initialIndex>0)&&f.click(a.initialIndex)}d.tools=d.tools||{version:"v1.2.5"};d.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialIndex:0,event:"click",rotate:false,history:false},addEffect:function(c,b){r[c]=b}};var r={"default":function(c,b){this.getPanes().hide().eq(c).show();b.call()},fade:function(c,b){var a=this.getConf(),f=a.fadeOutSpeed,e=this.getPanes();f?e.fadeOut(f):e.hide();e.eq(c).fadeIn(a.fadeInSpeed,
b)},slide:function(c,b){this.getPanes().slideUp(200);this.getPanes().eq(c).slideDown(400,b)},ajax:function(c,b){this.getPanes().eq(0).load(this.getTabs().eq(c).attr("href"),b)}},i;d.tools.tabs.addEffect("horizontal",function(c,b){i||(i=this.getPanes().eq(0).width());this.getCurrentPane().animate({width:0},function(){d(this).hide()});this.getPanes().eq(c).animate({width:i},function(){d(this).show();b.call()})});d.fn.tabs=function(c,b){var a=this.data("tabs");a&&(a.destroy(),this.removeData("tabs"));
d.isFunction(b)&&(b={onBeforeClick:b});b=d.extend({},d.tools.tabs.conf,b);this.each(function(){a=new s(d(this),c,b);d(this).data("tabs",a)});return b.api?a:this}})(jQuery);
(function(d){function s(i,c){function b(l){var j=d(l);return j.length<2?j:i.parent().find(l)}var a=this,f=i.add(this),e=i.data("tabs"),h,k=true,p=b(c.next).click(function(){e.next()}),m=b(c.prev).click(function(){e.prev()});d.extend(a,{getTabs:function(){return e},getConf:function(){return c},play:function(){if(h)return a;var l=d.Event("onBeforePlay");f.trigger(l);if(l.isDefaultPrevented())return a;h=setInterval(e.next,c.interval);k=false;f.trigger("onPlay");return a},pause:function(){if(!h)return a;
var l=d.Event("onBeforePause");f.trigger(l);if(l.isDefaultPrevented())return a;h=clearInterval(h);f.trigger("onPause");return a},stop:function(){a.pause();k=true}});d.each("onBeforePlay,onPlay,onBeforePause,onPause".split(","),function(l,j){d.isFunction(c[j])&&d(a).bind(j,c[j]);a[j]=function(g){return d(a).bind(j,g)}});c.autopause&&e.getTabs().add(p).add(m).add(e.getPanes()).hover(a.pause,function(){k||a.play()});c.autoplay&&a.play();c.clickable&&e.getPanes().click(function(){e.next()});if(!e.getConf().rotate){var o=
c.disabledClass;e.getIndex()||m.addClass(o);e.onBeforeClick(function(l,j){m.toggleClass(o,!j);p.toggleClass(o,j==e.getTabs().length-1)})}}var r;r=d.tools.tabs.slideshow={conf:{next:".forward",prev:".backward",disabledClass:"disabled",autoplay:false,autopause:true,interval:3E3,clickable:true,api:false}};d.fn.slideshow=function(i){var c=this.data("slideshow");if(c)return c;i=d.extend({},r.conf,i);this.each(function(){c=new s(d(this),i);d(this).data("slideshow",c)});return i.api?c:this}})(jQuery);
(function(d){function s(c,b,a){var f=a.relative?c.position().top:c.offset().top,e=a.relative?c.position().left:c.offset().left,h=a.position[0];f-=b.outerHeight()-a.offset[0];e+=c.outerWidth()+a.offset[1];/iPad/i.test(navigator.userAgent)&&(f-=d(window).scrollTop());var k=b.outerHeight()+c.outerHeight();h=="center"&&(f+=k/2);h=="bottom"&&(f+=k);h=a.position[1];c=b.outerWidth()+c.outerWidth();h=="center"&&(e-=c/2);h=="left"&&(e-=c);return{top:f,left:e}}function r(c,b){var a=this,f=c.add(a),e,h=0,k=
0,p=c.attr("title"),m=c.attr("data-tooltip"),o=i[b.effect],l,j=c.is(":input"),g=j&&c.is(":checkbox, :radio, select, :button, :submit"),n=c.attr("type"),t=b.events[n]||b.events[j?g?"widget":"input":"def"];if(!o)throw'Nonexistent effect "'+b.effect+'"';t=t.split(/,\s*/);if(t.length!=2)throw"Tooltip: bad events configuration for "+n;c.bind(t[0],function(q){clearTimeout(h);b.predelay?(k=setTimeout(function(){a.show(q)},b.predelay)):a.show(q)}).bind(t[1],function(q){clearTimeout(k);b.delay?(h=setTimeout(function(){a.hide(q)},
b.delay)):a.hide(q)});p&&b.cancelDefault&&(c.removeAttr("title"),c.data("title",p));d.extend(a,{show:function(q){if(!e){m?(e=d(m)):b.tip?(e=d(b.tip).eq(0)):p?(e=d(b.layout).addClass(b.tipClass).appendTo(document.body).hide().append(p)):(e=c.next(),e.length||(e=c.parent().next()));if(!e.length)throw"Cannot find tooltip for "+c;}if(a.isShown())return a;e.stop(true,true);var u=s(c,e,b);b.tip&&e.html(c.data("title"));q=q||d.Event();q.type="onBeforeShow";f.trigger(q,[u]);if(q.isDefaultPrevented())return a;
u=s(c,e,b);e.css({position:"absolute",top:u.top,left:u.left});l=true;o[0].call(a,function(){q.type="onShow";l="full";f.trigger(q)});u=b.events.tooltip.split(/,\s*/);e.data("__set")||(e.bind(u[0],function(){clearTimeout(h);clearTimeout(k)}),u[1]&&!c.is("input:not(:checkbox, :radio), textarea")&&e.bind(u[1],function(v){v.relatedTarget!=c[0]&&c.trigger(t[1].split(" ")[0])}),e.data("__set",true));return a},hide:function(q){if(!e||!a.isShown())return a;q=q||d.Event();q.type="onBeforeHide";f.trigger(q);
if(!q.isDefaultPrevented()){l=false;i[b.effect][1].call(a,function(){q.type="onHide";f.trigger(q)});return a}},isShown:function(q){return q?l=="full":l},getConf:function(){return b},getTip:function(){return e},getTrigger:function(){return c}});d.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(q,u){d.isFunction(b[u])&&d(a).bind(u,b[u]);a[u]=function(v){v&&d(a).bind(u,v);return a}})}d.tools=d.tools||{version:"v1.2.5"};d.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,
delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0],relative:false,cancelDefault:true,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(c,b,a){i[c]=[b,a]}};var i={toggle:[function(c){var b=this.getConf(),a=this.getTip();b=b.opacity;b<1&&a.css({opacity:b});a.show();c.call()},function(c){this.getTip().hide();c.call()}],fade:[function(c){var b=this.getConf();
this.getTip().fadeTo(b.fadeInSpeed,b.opacity,c)},function(c){this.getTip().fadeOut(this.getConf().fadeOutSpeed,c)}]};d.fn.tooltip=function(c){var b=this.data("tooltip");if(b)return b;c=d.extend(true,{},d.tools.tooltip.conf,c);typeof c.position=="string"&&(c.position=c.position.split(/,?\s/));this.each(function(){b=new r(d(this),c);d(this).data("tooltip",b)});return c.api?b:this}})(jQuery);
(function(d){function s(c){var b=d(window),a=b.width()+b.scrollLeft(),f=b.height()+b.scrollTop();return[c.offset().top<=b.scrollTop(),a<=c.offset().left+c.width(),f<=c.offset().top+c.height(),b.scrollLeft()>=c.offset().left]}function r(c){for(var b=c.length;b--;)if(c[b])return false;return true}var i=d.tools.tooltip;i.dynamic={conf:{classNames:"top right bottom left"}};d.fn.dynamic=function(c){typeof c=="number"&&(c={speed:c});c=d.extend({},i.dynamic.conf,c);var b=c.classNames.split(/\s/),a;this.each(function(){var f=
d(this).tooltip().onBeforeShow(function(e,h){e=this.getTip();var k=this.getConf();a||(a=[k.position[0],k.position[1],k.offset[0],k.offset[1],d.extend({},k)]);d.extend(k,a[4]);k.position=[a[0],a[1]];k.offset=[a[2],a[3]];e.css({visibility:"hidden",position:"absolute",top:h.top,left:h.left}).show();h=s(e);if(!r(h)){h[2]&&(d.extend(k,c.top),k.position[0]="top",e.addClass(b[0]));h[3]&&(d.extend(k,c.right),k.position[1]="right",e.addClass(b[1]));h[0]&&(d.extend(k,c.bottom),k.position[0]="bottom",e.addClass(b[2]));
h[1]&&(d.extend(k,c.left),k.position[1]="left",e.addClass(b[3]));if(h[0]||h[2])k.offset[0]*=-1;if(h[1]||h[3])k.offset[1]*=-1}e.css({visibility:"visible"}).hide()});f.onBeforeShow(function(){var e=this.getConf();this.getTip();setTimeout(function(){e.position=[a[0],a[1]];e.offset=[a[2],a[3]]},0)});f.onHide(function(){this.getTip().removeClass(c.classNames)});ret=f});return c.api?ret:this}})(jQuery);
(function(d){var s=d.tools.tooltip;d.extend(s.conf,{direction:"up",bounce:false,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!d.browser.msie});var r={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};s.addEffect("slide",function(i){var c=this.getConf(),b=this.getTip(),a=c.slideFade?{opacity:c.opacity}:{},f=r[c.direction]||r.up;a[f[1]]=f[0]+"="+c.slideOffset;c.slideFade&&b.css({opacity:0});b.show().animate(a,c.slideInSpeed,i)},function(i){var c=this.getConf(),b=c.slideOffset,
a=c.slideFade?{opacity:0}:{},f=r[c.direction]||r.up,e=""+f[0];c.bounce&&(e=e=="+"?"-":"+");a[f[1]]=e+"="+b;this.getTip().animate(a,c.slideOutSpeed,function(){d(this).hide();i.call()})})})(jQuery);
;
steal.end();
var mejs=mejs||{};mejs.version="2.1.9";mejs.meIndex=0;mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg"]}]};
mejs.Utility={encodeUrl:function(b){return encodeURIComponent(b)},escapeHTML:function(b){return b.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(b){var a=document.createElement("div");a.innerHTML='<a href="'+this.escapeHTML(b)+'">x</a>';return a.firstChild.href},getScriptPath:function(b){for(var a=0,d,c="",e="",f,g=document.getElementsByTagName("script");a<g.length;a++){f=g[a].src;for(d=0;d<b.length;d++){e=b[d];if(f.indexOf(e)>-1){c=f.substring(0,
f.indexOf(e));break}}if(c!=="")break}return c},secondsToTimeCode:function(b,a,d,c){if(d==undefined)d=false;else if(c==undefined)c=25;var e=Math.floor(b/3600)%24,f=Math.floor(b/60)%60,g=Math.floor(b%60);a="";if(d!=undefined&&d)a=Math.floor((b%1*c).toFixed(3));b=(e<10?"0"+e:e)+":"+(f<10?"0"+f:f)+":"+(g<10?"0"+g:g);if(d!=undefined&&d)b=b+":"+(a<10?"0"+a:a);return b},timeCodeToSeconds:function(b,a,d){if(a==undefined)a=false;else if(d==undefined)d=25;b=b.split(":");var c=parseInt(b[0]),e=parseInt(b[1]),
f=parseInt(b[2]),g=0;if(a!=undefined&&a)g=parseInt(b[3])/d;return c*3600+e*60+f+g}};
mejs.PluginDetector={hasPluginVersion:function(b,a){b=this.plugins[b];a[1]=a[1]||0;a[2]=a[2]||0;return b[0]>a[0]||b[0]==a[0]&&b[1]>a[1]||b[0]==a[0]&&b[1]==a[1]&&b[2]>=a[2]?true:false},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(b,a,d,c,e){this.plugins[b]=this.detectPlugin(a,d,c,e)},detectPlugin:function(b,a,d,c){var e=[0,0,0],f;if(typeof this.nav.plugins!="undefined"&&typeof this.nav.plugins[b]=="object"){if((d=this.nav.plugins[b].description)&&!(typeof this.nav.mimeTypes!=
"undefined"&&this.nav.mimeTypes[a]&&!this.nav.mimeTypes[a].enabledPlugin)){e=d.replace(b,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(b=0;b<e.length;b++)e[b]=parseInt(e[b].match(/\d+/),10)}}else if(typeof window.ActiveXObject!="undefined")try{if(f=new ActiveXObject(d))e=c(f)}catch(g){}return e}};
mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(b){var a=[];if(b=b.GetVariable("$version")){b=b.split(" ")[1].split(",");a=[parseInt(b[0],10),parseInt(b[1],10),parseInt(b[2],10)]}return a});
mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(b){var a=[0,0,0,0],d=function(c,e,f,g){for(;c.isVersionSupported(e[0]+"."+e[1]+"."+e[2]+"."+e[3]);)e[f]+=g;e[f]-=g};d(b,a,0,1);d(b,a,1,1);d(b,a,2,1E4);d(b,a,2,1E3);d(b,a,2,100);d(b,a,2,10);d(b,a,2,1);d(b,a,3,1);return a});
mejs.MediaFeatures={init:function(){var b=mejs.PluginDetector.nav,a=mejs.PluginDetector.ua.toLowerCase(),d,c=["source","track","audio","video"];this.isiPad=a.match(/ipad/i)!==null;this.isiPhone=a.match(/iphone/i)!==null;this.isAndroid=a.match(/android/i)!==null;this.isBustedAndroid=a.match(/android 2\.[12]/)!==null;this.isIE=b.appName.toLowerCase().indexOf("microsoft")!=-1;this.isChrome=a.match(/chrome/gi)!==null;this.isFirefox=a.match(/firefox/gi)!==null;for(b=0;b<c.length;b++)d=document.createElement(c[b]);
this.supportsMediaTag=typeof d.canPlayType!=="undefined"||this.isBustedAndroid;this.hasNativeFullScreen=typeof d.webkitRequestFullScreen!=="undefined";if(this.isChrome)this.hasNativeFullScreen=false;if(this.hasNativeFullScreen&&a.match(/mac os x 10_5/i))this.hasNativeFullScreen=false}};mejs.MediaFeatures.init();
mejs.HtmlMediaElement={pluginType:"native",isFullScreen:false,setCurrentTime:function(b){this.currentTime=b},setMuted:function(b){this.muted=b},setVolume:function(b){this.volume=b},stop:function(){this.pause()},setSrc:function(b){if(typeof b=="string")this.src=b;else{var a,d;for(a=0;a<b.length;a++){d=b[a];if(this.canPlayType(d.type))this.src=d.src}}},setVideoSize:function(b,a){this.width=b;this.height=a}};mejs.PluginMediaElement=function(b,a,d){this.id=b;this.pluginType=a;this.src=d;this.events={}};
mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:false,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:true,ended:false,seeking:false,duration:0,error:null,muted:false,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null){this.pluginApi.playMedia();this.paused=false}},load:function(){if(this.pluginApi!=null){this.pluginApi.loadMedia();this.paused=false}},pause:function(){if(this.pluginApi!=null){this.pluginApi.pauseMedia();this.paused=
true}},stop:function(){if(this.pluginApi!=null){this.pluginApi.stopMedia();this.paused=true}},canPlayType:function(b){var a,d,c,e=mejs.plugins[this.pluginType];for(a=0;a<e.length;a++){c=e[a];if(mejs.PluginDetector.hasPluginVersion(this.pluginType,c.version))for(d=0;d<c.types.length;d++)if(b==c.types[d])return true}return false},setSrc:function(b){if(typeof b=="string"){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(b));this.src=mejs.Utility.absolutizeUrl(b)}else{var a,d;for(a=0;a<b.length;a++){d=
b[a];if(this.canPlayType(d.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(d.src));this.src=mejs.Utility.absolutizeUrl(b)}}}},setCurrentTime:function(b){if(this.pluginApi!=null){this.pluginApi.setCurrentTime(b);this.currentTime=b}},setVolume:function(b){if(this.pluginApi!=null){this.pluginApi.setVolume(b);this.volume=b}},setMuted:function(b){if(this.pluginApi!=null){this.pluginApi.setMuted(b);this.muted=b}},setVideoSize:function(b,a){if(this.pluginElement.style){this.pluginElement.style.width=
b+"px";this.pluginElement.style.height=a+"px"}this.pluginApi!=null&&this.pluginApi.setVideoSize(b,a)},setFullscreen:function(b){this.pluginApi!=null&&this.pluginApi.setFullscreen(b)},addEventListener:function(b,a){this.events[b]=this.events[b]||[];this.events[b].push(a)},removeEventListener:function(b,a){if(!b){this.events={};return true}var d=this.events[b];if(!d)return true;if(!a){this.events[b]=[];return true}for(i=0;i<d.length;i++)if(d[i]===a){this.events[b].splice(i,1);return true}return false},
dispatchEvent:function(b){var a,d,c=this.events[b];if(c){d=Array.prototype.slice.call(arguments,1);for(a=0;a<c.length;a++)c[a].apply(null,d)}}};
mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(b,a,d){this.pluginMediaElements[b]=a;this.htmlMediaElements[b]=d},initPlugin:function(b){var a=this.pluginMediaElements[b],d=this.htmlMediaElements[b];switch(a.pluginType){case "flash":a.pluginElement=a.pluginApi=document.getElementById(b);break;case "silverlight":a.pluginElement=document.getElementById(a.id);a.pluginApi=a.pluginElement.Content.MediaElementJS}a.pluginApi!=null&&a.success&&a.success(a,
d)},fireEvent:function(b,a,d){var c,e;b=this.pluginMediaElements[b];b.ended=false;b.paused=true;a={type:a,target:b};for(c in d){b[c]=d[c];a[c]=d[c]}e=d.bufferedTime||0;a.target.buffered=a.buffered={start:function(){return 0},end:function(){return e},length:1};b.dispatchEvent(a.type,a)}};
mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight"],enablePluginDebug:false,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",enablePluginSmoothing:false,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,timerRate:250,success:function(){},error:function(){}};
mejs.MediaElement=function(b,a){return mejs.HtmlMediaElementShim.create(b,a)};
mejs.HtmlMediaElementShim={create:function(b,a){var d=mejs.MediaElementDefaults,c=typeof b=="string"?document.getElementById(b):b;b=c.tagName.toLowerCase();var e=b=="audio"||b=="video",f=c.getAttribute("src");b=c.getAttribute("poster");var g=c.getAttribute("autoplay"),h=c.getAttribute("preload"),k=c.getAttribute("controls"),l;for(l in a)d[l]=a[l];if(e)isVideo=c.tagName.toLowerCase()=="video";else f=c.getAttribute("href");f=f=="undefined"||f==""||f===null?null:f;b=typeof b=="undefined"||b===null?"":
b;h=typeof h=="undefined"||h===null||h==="false"?"none":h;g=!(typeof g=="undefined"||g===null||g==="false");k=!(typeof k=="undefined"||k===null||k==="false");l=this.determinePlayback(c,d,mejs.MediaFeatures.supportsMediaTag,e,f);if(l.method=="native"){if(mejs.MediaFeatures.isBustedAndroid){c.src=l.url;c.addEventListener("click",function(){c.play()},true)}return this.updateNative(l.htmlMediaElement,d,g,h,l)}else if(l.method!=="")return this.createPlugin(c,d,l.method,l.url!==null?mejs.Utility.absolutizeUrl(l.url):
"",b,g,h,k);else this.createErrorMessage(c,d,l.url!==null?mejs.Utility.absolutizeUrl(l.url):"",b)},videoRegExp:/(mp4|m4v|ogg|ogv|webm|flv|wmv|mpeg)/gi,determinePlayback:function(b,a,d,c,e){var f=[],g,h,k={method:"",url:"",htmlMediaElement:b,isVideo:b.tagName.toLowerCase()!="audio"},l,m;if(typeof a.type!="undefined"&&a.type!=="")if(typeof a.type=="string")f.push({type:a.type,url:e});else for(g=0;g<a.type.length;g++)f.push({type:a.type[g],url:e});else if(e!==null){h=this.formatType(e,b.getAttribute("type"));
f.push({type:h,url:e})}else for(g=0;g<b.childNodes.length;g++){h=b.childNodes[g];if(h.nodeType==1&&h.tagName.toLowerCase()=="source"){e=h.getAttribute("src");h=this.formatType(e,h.getAttribute("type"));f.push({type:h,url:e})}}if(mejs.MediaFeatures.isBustedAndroid)b.canPlayType=function(n){return n.match(/video\/(mp4|m4v)/gi)!==null?"maybe":""};if(d&&(a.mode==="auto"||a.mode==="native")){if(!c){g="video";if(f.length>0&&f[0].url!==null&&this.getTypeFromFile(f[0].url).indexOf("audio")>-1){g="audio";
k.isVideo=false}g=document.createElement(g);b.parentNode.insertBefore(g,b);b.style.display="none";k.htmlMediaElement=b=g}for(g=0;g<f.length;g++)if(b.canPlayType(f[g].type).replace(/no/,"")!==""||b.canPlayType(f[g].type.replace(/mp3/,"mpeg")).replace(/no/,"")!==""){k.method="native";k.url=f[g].url;break}if(k.method==="native")return k}if(a.mode==="auto"||a.mode==="shim")for(g=0;g<f.length;g++){h=f[g].type;for(b=0;b<a.plugins.length;b++){e=a.plugins[b];l=mejs.plugins[e];for(d=0;d<l.length;d++){m=l[d];
if(mejs.PluginDetector.hasPluginVersion(e,m.version))for(c=0;c<m.types.length;c++)if(h==m.types[c]){k.method=e;k.url=f[g].url;return k}}}}if(k.method==="")k.url=f[0].url;return k},formatType:function(b,a){return b&&!a?this.getTypeFromFile(b):a&&~a.indexOf(";")?a.substr(0,a.indexOf(";")):a},getTypeFromFile:function(b){b=b.substring(b.lastIndexOf(".")+1);return(this.videoRegExp.test(b)?"video":"audio")+"/"+b},createErrorMessage:function(b,a,d,c){var e=document.createElement("div");e.className="me-cannotplay";
try{e.style.width=b.width+"px";e.style.height=b.height+"px"}catch(f){}e.innerHTML=c!==""?'<a href="'+d+'"><img src="'+c+'" /></a>':'<a href="'+d+'"><span>Download File</span></a>';b.parentNode.insertBefore(e,b);b.style.display="none";a.error(b)},createPlugin:function(b,a,d,c,e,f,g,h,k){var l=f=1,m="me_"+c+"_"+mejs.meIndex++,n=new mejs.PluginMediaElement(m,c,e),o=document.createElement("div"),j;for(j=b.parentNode;j!==null&&j.tagName.toLowerCase()!="body";){if(j.parentNode.tagName.toLowerCase()=="p"){j.parentNode.parentNode.insertBefore(j,
j.parentNode);break}j=j.parentNode}if(d){f=a.videoWidth>0?a.videoWidth:b.getAttribute("width")!==null?b.getAttribute("width"):a.defaultVideoWidth;l=a.videoHeight>0?a.videoHeight:b.getAttribute("height")!==null?b.getAttribute("height"):a.defaultVideoHeight}else if(a.enablePluginDebug){f=320;l=240}n.success=a.success;mejs.MediaPluginBridge.registerPluginElement(m,n,b);o.className="me-plugin";b.parentNode.insertBefore(o,b);d=["id="+m,"isvideo="+(d?"true":"false"),"autoplay="+(g?"true":"false"),"preload="+
h,"width="+f,"startvolume="+a.startVolume,"timerrate="+a.timerRate,"height="+l];if(e!==null)c=="flash"?d.push("file="+mejs.Utility.encodeUrl(e)):d.push("file="+e);a.enablePluginDebug&&d.push("debug=true");a.enablePluginSmoothing&&d.push("smoothing=true");k&&d.push("controls=true");switch(c){case "silverlight":o.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+m+'" name="'+m+'" width="'+f+'" height="'+l+'"><param name="initParams" value="'+d.join(",")+
'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+a.pluginPath+a.silverlightName+'" /></object>';break;case "flash":if(mejs.MediaFeatures.isIE){c=document.createElement("div");o.appendChild(c);c.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+
m+'" width="'+f+'" height="'+l+'"><param name="movie" value="'+a.pluginPath+a.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+d.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'}else o.innerHTML='<embed id="'+m+'" name="'+m+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+
a.pluginPath+a.flashName+'" flashvars="'+d.join("&")+'" width="'+f+'" height="'+l+'"></embed>'}b.style.display="none";return n},updateNative:function(b,a){for(var d in mejs.HtmlMediaElement)b[d]=mejs.HtmlMediaElement[d];a.success(b,b);return b}};window.mejs=mejs;window.MediaElement=mejs.MediaElement;if(typeof jQuery!="undefined")mejs.$=jQuery;else if(typeof ender!="undefined")mejs.$=ender;
(function(b){mejs.MepDefaults={poster:"",defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,audioWidth:400,audioHeight:30,startVolume:0.8,loop:false,enableAutosize:true,alwaysShowHours:false,showTimecodeFrameCount:false,framesPerSecond:25,alwaysShowControls:false,iPadUseNativeControls:true,features:["playpause","current","progress","duration","tracks","volume","fullscreen"]};mejs.mepIndex=0;mejs.MediaElementPlayer=function(a,d){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(a,
d);this.options=b.extend({},mejs.MepDefaults,d);this.$media=this.$node=b(a);this.node=this.media=this.$media[0];if(typeof this.node.player!="undefined")return this.node.player;else this.node.player=this;this.init();return this};mejs.MediaElementPlayer.prototype={init:function(){var a=this,d=mejs.MediaFeatures,c=b.extend(true,{},a.options,{success:function(e,f){a.meReady(e,f)},error:function(e){a.handleError(e)}});a.isVideo=a.media.tagName.toLowerCase()!=="audio"&&!a.options.isVideo;if(d.isiPad&&a.options.iPadUseNativeControls||
d.isiPhone){a.$media.attr("controls","controls");a.$media.removeAttr("poster");if(d.isiPad&&a.media.getAttribute("autoplay")!==null){a.media.load();a.media.play()}}else if(!(d.isAndroid&&a.isVideo)){a.$media.removeAttr("controls");a.id="mep_"+mejs.mepIndex++;a.container=b('<div id="'+a.id+'" class="mejs-container"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(a.$media[0].className).insertBefore(a.$media);
a.container.find(".mejs-mediaelement").append(a.$media);a.controls=a.container.find(".mejs-controls");a.layers=a.container.find(".mejs-layers");if(a.isVideo){a.width=a.options.videoWidth>0?a.options.videoWidth:a.$media[0].getAttribute("width")!==null?a.$media.attr("width"):a.options.defaultVideoWidth;a.height=a.options.videoHeight>0?a.options.videoHeight:a.$media[0].getAttribute("height")!==null?a.$media.attr("height"):a.options.defaultVideoHeight}else{a.width=a.options.audioWidth;a.height=a.options.audioHeight}a.setPlayerSize(a.width,
a.height);c.pluginWidth=a.height;c.pluginHeight=a.width}mejs.MediaElement(a.$media[0],c)},meReady:function(a,d){var c=this,e=mejs.MediaFeatures,f;if(!c.created){c.created=true;c.media=a;c.domNode=d;if(!e.isiPhone&&!e.isAndroid&&!(e.isiPad&&c.options.iPadUseNativeControls)){c.buildposter(c,c.controls,c.layers,c.media);c.buildoverlays(c,c.controls,c.layers,c.media);c.findTracks();for(f in c.options.features){e=c.options.features[f];c["build"+e]&&c["build"+e](c,c.controls,c.layers,c.media)}c.container.trigger("controlsready");
c.setPlayerSize(c.width,c.height);c.setControlsSize();if(c.isVideo){c.container.bind("mouseenter",function(){if(!c.options.alwaysShowControls){c.controls.css("visibility","visible");c.controls.stop(true,true).fadeIn(200)}}).bind("mouseleave",function(){!c.media.paused&&!c.options.alwaysShowControls&&c.controls.stop(true,true).fadeOut(200,function(){b(this).css("visibility","hidden");b(this).css("display","block")})});c.domNode.getAttribute("autoplay")!==null&&!c.options.alwaysShowControls&&c.controls.css("visibility",
"hidden");c.options.enableAutosize&&c.media.addEventListener("loadedmetadata",function(g){if(c.options.videoHeight<=0&&c.domNode.getAttribute("height")===null&&!isNaN(g.target.videoHeight)){c.setPlayerSize(g.target.videoWidth,g.target.videoHeight);c.setControlsSize();c.media.setVideoSize(g.target.videoWidth,g.target.videoHeight)}},false)}c.media.addEventListener("ended",function(){c.media.setCurrentTime(0);c.media.pause();c.setProgressRail&&c.setProgressRail();c.setCurrentRail&&c.setCurrentRail();
if(c.options.loop)c.media.play();else c.options.alwaysShowControls||c.controls.css("visibility","visible")},true);c.media.addEventListener("loadedmetadata",function(){c.updateDuration&&c.updateDuration();c.updateCurrent&&c.updateCurrent();c.setControlsSize()},true);setTimeout(function(){c.setControlsSize();c.setPlayerSize(c.width,c.height)},50)}c.options.success&&c.options.success(c.media,c.domNode)}},handleError:function(a){this.options.error&&this.options.error(a)},setPlayerSize:function(a,d){this.width=
parseInt(a,10);this.height=parseInt(d,10);this.container.width(this.width).height(this.height);this.layers.children(".mejs-layer").width(this.width).height(this.height)},setControlsSize:function(){var a=0,d=0,c=this.controls.find(".mejs-time-rail"),e=this.controls.find(".mejs-time-total");this.controls.find(".mejs-time-current");this.controls.find(".mejs-time-loaded");others=c.siblings();others.each(function(){if(b(this).css("position")!="absolute")a+=b(this).outerWidth(true)});d=this.controls.width()-
a-(c.outerWidth(true)-c.outerWidth(false));c.width(d);e.width(d-(e.outerWidth(true)-e.width()));this.setProgressRail&&this.setProgressRail();this.setCurrentRail&&this.setCurrentRail()},buildposter:function(a,d,c,e){var f=b('<div class="mejs-poster mejs-layer"><img /></div>').appendTo(c);d=a.$media.attr("poster");c=f.find("img").width(a.width).height(a.height);if(a.options.poster!="")c.attr("src",a.options.poster);else d!==""&&d!=null?c.attr("src",d):f.remove();e.addEventListener("play",function(){f.hide()},
false)},buildoverlays:function(a,d,c,e){if(a.isVideo){var f=b('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(c),g=b('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(c),h=b('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(c).click(function(){e.paused?e.play():e.pause()});e.addEventListener("play",function(){h.hide();
g.hide()},false);e.addEventListener("pause",function(){h.show()},false);e.addEventListener("loadstart",function(){mejs.MediaFeatures.isChrome&&e.getAttribute&&e.getAttribute("preload")==="none"||f.show()},false);e.addEventListener("canplay",function(){f.hide()},false);e.addEventListener("error",function(){f.hide();g.show();g.find("mejs-overlay-error").html("Error loading this resource")},false)}},findTracks:function(){var a=this,d=a.$media.find("track");a.tracks=[];d.each(function(){a.tracks.push({srclang:b(this).attr("srclang").toLowerCase(),
src:b(this).attr("src"),kind:b(this).attr("kind"),entries:[],isLoaded:false})})},changeSkin:function(a){this.container[0].className="mejs-container "+a;this.setPlayerSize();this.setControlsSize()},play:function(){this.media.play()},pause:function(){this.media.pause()},load:function(){this.media.load()},setMuted:function(a){this.media.setMuted(a)},setCurrentTime:function(a){this.media.setCurrentTime(a)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(a){this.media.setVolume(a)},
getVolume:function(){return this.media.volume},setSrc:function(a){this.media.setSrc(a)}};if(typeof jQuery!="undefined")jQuery.fn.mediaelementplayer=function(a){return this.each(function(){new mejs.MediaElementPlayer(this,a)})};window.MediaElementPlayer=mejs.MediaElementPlayer})(mejs.$);
(function(b){MediaElementPlayer.prototype.buildplaypause=function(a,d,c,e){var f=b('<div class="mejs-button mejs-playpause-button mejs-play" type="button"><button type="button"></button></div>').appendTo(d).click(function(g){g.preventDefault();e.paused?e.play():e.pause();return false});e.addEventListener("play",function(){f.removeClass("mejs-play").addClass("mejs-pause")},false);e.addEventListener("playing",function(){f.removeClass("mejs-play").addClass("mejs-pause")},false);e.addEventListener("pause",
function(){f.removeClass("mejs-pause").addClass("mejs-play")},false);e.addEventListener("paused",function(){f.removeClass("mejs-pause").addClass("mejs-play")},false)}})(mejs.$);
(function(b){MediaElementPlayer.prototype.buildstop=function(a,d,c,e){b('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button"></button></div>').appendTo(d).click(function(){e.paused||e.pause();if(e.currentTime>0){e.setCurrentTime(0);d.find(".mejs-time-current").width("0px");d.find(".mejs-time-handle").css("left","0px");d.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0));d.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0));c.find(".mejs-poster").show()}})}})(mejs.$);
(function(b){MediaElementPlayer.prototype.buildprogress=function(a,d,c,e){b('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(d);var f=d.find(".mejs-time-total");c=d.find(".mejs-time-loaded");var g=d.find(".mejs-time-current"),
h=d.find(".mejs-time-handle"),k=d.find(".mejs-time-float"),l=d.find(".mejs-time-float-current"),m=function(j){j=j.pageX;var q=f.offset(),p=f.outerWidth(),r=0;if(j>q.left&&j<=p+q.left&&e.duration){r=(j-q.left)/p;r=r<=0.02?0:r*e.duration;n&&e.setCurrentTime(r);k.css("left",j-q.left);l.html(mejs.Utility.secondsToTimeCode(r))}},n=false,o=false;f.bind("mousedown",function(j){n=true;m(j);return false});d.find(".mejs-time-rail").bind("mouseenter",function(){o=true}).bind("mouseleave",function(){o=false});
b(document).bind("mouseup",function(){n=false}).bind("mousemove",function(j){if(n||o)m(j)});e.addEventListener("progress",function(j){a.setProgressRail(j);a.setCurrentRail(j)},false);e.addEventListener("timeupdate",function(j){a.setProgressRail(j);a.setCurrentRail(j)},false);this.loaded=c;this.total=f;this.current=g;this.handle=h};MediaElementPlayer.prototype.setProgressRail=function(a){var d=a!=undefined?a.target:this.media,c=null;if(d&&d.buffered&&d.buffered.length>0&&d.buffered.end&&d.duration)c=
d.buffered.end(0)/d.duration;else if(d&&d.bytesTotal!=undefined&&d.bytesTotal>0&&d.bufferedBytes!=undefined)c=d.bufferedBytes/d.bytesTotal;else if(a&&a.lengthComputable&&a.total!=0)c=a.loaded/a.total;if(c!==null){c=Math.min(1,Math.max(0,c));this.loaded&&this.total&&this.loaded.width(this.total.width()*c)}};MediaElementPlayer.prototype.setCurrentRail=function(){if(this.media.currentTime!=undefined&&this.media.duration)if(this.total&&this.handle){var a=this.total.width()*this.media.currentTime/this.media.duration,
d=a-this.handle.outerWidth(true)/2;this.current.width(a);this.handle.css("left",d)}}})(mejs.$);
(function(b){MediaElementPlayer.prototype.buildcurrent=function(a,d,c,e){b('<div class="mejs-time"><span class="mejs-currenttime">'+(a.options.alwaysShowHours?"00:":"")+(a.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(d);this.currenttime=this.controls.find(".mejs-currenttime");e.addEventListener("timeupdate",function(){a.updateCurrent()},false)};MediaElementPlayer.prototype.buildduration=function(a,d,c,e){if(d.children().last().find(".mejs-currenttime").length>0)b(' <span> | </span> <span class="mejs-duration">'+
(a.options.alwaysShowHours?"00:":"")+(a.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span>").appendTo(d.find(".mejs-time"));else{d.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container");b('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(a.options.alwaysShowHours?"00:":"")+(a.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(d)}this.durationD=this.controls.find(".mejs-duration");e.addEventListener("timeupdate",function(){a.updateDuration()},
false)};MediaElementPlayer.prototype.updateCurrent=function(){if(this.currenttime)this.currenttime.html(mejs.Utility.secondsToTimeCode(this.media.currentTime,this.options.alwaysShowHours||this.media.duration>3600,this.options.showTimecodeFrameCount,this.options.framesPerSecond||25))};MediaElementPlayer.prototype.updateDuration=function(){if(this.media.duration&&this.durationD)this.durationD.html(mejs.Utility.secondsToTimeCode(this.media.duration,this.options.alwaysShowHours,this.options.showTimecodeFrameCount,
this.options.framesPerSecond||25))}})(mejs.$);
(function(b){MediaElementPlayer.prototype.buildvolume=function(a,d,c,e){var f=b('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(d),g=f.find(".mejs-volume-slider"),h=f.find(".mejs-volume-total"),k=f.find(".mejs-volume-current"),l=f.find(".mejs-volume-handle"),m=function(j){j=h.height()-h.height()*
j;l.css("top",j-l.height()/2);k.height(h.height()-j+parseInt(h.css("top").replace(/px/,""),10));k.css("top",j)},n=function(j){var q=h.height(),p=h.offset(),r=parseInt(h.css("top").replace(/px/,""),10);j=j.pageY-p.top;p=(q-j)/q;if(j<0)j=0;else if(j>q)j=q;l.css("top",j-l.height()/2+r);k.height(q-j);k.css("top",j+r);if(p==0){e.setMuted(true);f.removeClass("mejs-mute").addClass("mejs-unmute")}else{e.setMuted(false);f.removeClass("mejs-unmute").addClass("mejs-mute")}p=Math.max(0,p);p=Math.min(p,1);e.setVolume(p)},
o=false;f.hover(function(){g.show()},function(){g.hide()});g.bind("mousedown",function(j){n(j);o=true;return false});b(document).bind("mouseup",function(){o=false}).bind("mousemove",function(j){o&&n(j)});f.find("button").click(function(){if(e.muted){e.setMuted(false);f.removeClass("mejs-unmute").addClass("mejs-mute");m(1)}else{e.setMuted(true);f.removeClass("mejs-mute").addClass("mejs-unmute");m(0)}});e.addEventListener("volumechange",function(j){o||m(j.target.volume)},true);m(a.options.startVolume);
e.pluginType==="native"&&e.setVolume(a.options.startVolume)}})(mejs.$);
(function(b){mejs.MediaElementDefaults.forcePluginFullScreen=false;MediaElementPlayer.prototype.isFullScreen=false;MediaElementPlayer.prototype.buildfullscreen=function(a,d,c,e){if(a.isVideo){mejs.MediaFeatures.hasNativeFullScreen&&a.container.bind("webkitfullscreenchange",function(){document.webkitIsFullScreen?a.setControlsSize():a.exitFullScreen()});var f=0,g=0,h=a.container,k=document.documentElement,l,m=b('<div class="mejs-button mejs-fullscreen-button"><button type="button"></button></div>').appendTo(d).click(function(){(mejs.MediaFeatures.hasNativeFullScreen?document.webkitIsFullScreen:
a.isFullScreen)?a.exitFullScreen():a.enterFullScreen()});a.enterFullScreen=function(){if(a.pluginType!=="native"&&(mejs.MediaFeatures.isFirefox||a.options.forcePluginFullScreen))e.setFullscreen(true);else{mejs.MediaFeatures.hasNativeFullScreen&&a.container[0].webkitRequestFullScreen();l=k.style.overflow;k.style.overflow="hidden";f=a.container.height();g=a.container.width();h.addClass("mejs-container-fullscreen").width("100%").height("100%").css("z-index",1E3);if(a.pluginType==="native")a.$media.width("100%").height("100%");
else{h.find("object embed").width("100%").height("100%");a.media.setVideoSize(b(window).width(),b(window).height())}c.children("div").width("100%").height("100%");m.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen");a.setControlsSize();a.isFullScreen=true}};a.exitFullScreen=function(){if(a.pluginType!=="native"&&mejs.MediaFeatures.isFirefox)e.setFullscreen(false);else{mejs.MediaFeatures.hasNativeFullScreen&&document.webkitIsFullScreen&&document.webkitCancelFullScreen();k.style.overflow=
l;h.removeClass("mejs-container-fullscreen").width(g).height(f).css("z-index",1);if(a.pluginType==="native")a.$media.width(g).height(f);else{h.find("object embed").width(g).height(f);a.media.setVideoSize(g,f)}c.children("div").width(g).height(f);m.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen");a.setControlsSize();a.isFullScreen=false}};b(window).bind("resize",function(){a.setControlsSize()});b(document).bind("keydown",function(n){a.isFullScreen&&n.keyCode==27&&a.exitFullScreen()})}}})(mejs.$);
(function(b){b.extend(mejs.MepDefaults,{startLanguage:"",translations:[],translationSelector:false,googleApiKey:""});b.extend(MediaElementPlayer.prototype,{buildtracks:function(a,d,c,e){if(a.isVideo)if(a.tracks.length!=0){var f,g="";a.chapters=b('<div class="mejs-chapters mejs-layer"></div>').prependTo(c).hide();a.captions=b('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position"><span class="mejs-captions-text"></span></div></div>').prependTo(c).hide();a.captionsText=a.captions.find(".mejs-captions-text");
a.captionsButton=b('<div class="mejs-button mejs-captions-button"><button type="button" ></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+a.id+'_captions" id="'+a.id+'_captions_none" value="none" checked="checked" /><label for="'+a.id+'_captions_none">None</label></li></ul></div></div>').appendTo(d).hover(function(){b(this).find(".mejs-captions-selector").css("visibility","visible")},function(){b(this).find(".mejs-captions-selector").css("visibility","hidden")}).delegate("input[type=radio]",
"click",function(){lang=this.value;if(lang=="none")a.selectedTrack=null;else for(f=0;f<a.tracks.length;f++)if(a.tracks[f].srclang==lang){a.selectedTrack=a.tracks[f];a.captions.attr("lang",a.selectedTrack.srclang);a.displayCaptions();break}});a.options.alwaysShowControls?a.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):a.container.bind("mouseenter",function(){a.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("mouseleave",
function(){e.paused||a.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")});a.trackToLoad=-1;a.selectedTrack=null;a.isLoadingTrack=false;if(a.tracks.length>0&&a.options.translations.length>0)for(f=0;f<a.options.translations.length;f++)a.tracks.push({srclang:a.options.translations[f].toLowerCase(),src:null,kind:"subtitles",entries:[],isLoaded:false,isTranslation:true});for(f=0;f<a.tracks.length;f++)a.tracks[f].kind=="subtitles"&&a.addTrackButton(a.tracks[f].srclang,
a.tracks[f].isTranslation);a.loadNextTrack();e.addEventListener("timeupdate",function(){a.displayCaptions()},false);e.addEventListener("loadedmetadata",function(){a.displayChapters()},false);a.container.hover(function(){a.chapters.css("visibility","visible");a.chapters.fadeIn(200)},function(){e.paused||a.chapters.fadeOut(200,function(){b(this).css("visibility","hidden");b(this).css("display","block")})});a.node.getAttribute("autoplay")!==null&&a.chapters.css("visibility","hidden");if(a.options.translationSelector){for(f in mejs.language.codes)g+=
'<option value="'+f+'">'+mejs.language.codes[f]+"</option>";a.container.find(".mejs-captions-selector ul").before(b('<select class="mejs-captions-translations"><option value="">--Add Translation--</option>'+g+"</select>"));a.container.find(".mejs-captions-translations").change(function(){lang=b(this).val();if(lang!=""){a.tracks.push({srclang:lang,src:null,entries:[],isLoaded:false,isTranslation:true});if(!a.isLoadingTrack){a.trackToLoad--;a.addTrackButton(lang,true);a.options.startLanguage=lang;a.loadNextTrack()}}})}}},
loadNextTrack:function(){this.trackToLoad++;if(this.trackToLoad<this.tracks.length){this.isLoadingTrack=true;this.loadTrack(this.trackToLoad)}else this.isLoadingTrack=false},loadTrack:function(a){var d=this,c=d.tracks[a],e=function(){c.isLoaded=true;d.enableTrackButton(c.srclang);d.loadNextTrack()};c.isTranslation?mejs.TrackFormatParser.translateTrackText(d.tracks[0].entries,d.tracks[0].srclang,c.srclang,d.options.googleApiKey,function(f){c.entries=f;e()}):b.ajax({url:c.src,success:function(f){c.entries=
mejs.TrackFormatParser.parse(f);e();c.kind=="chapters"&&d.media.duration>0&&d.drawChapters(c)},error:function(){d.loadNextTrack()}})},enableTrackButton:function(a){this.captionsButton.find("input[value="+a+"]").prop("disabled",false).siblings("label").html(mejs.language.codes[a]||a);this.options.startLanguage==a&&b("#"+this.id+"_captions_"+a).click();this.adjustLanguageBox()},addTrackButton:function(a,d){var c=mejs.language.codes[a]||a;this.captionsButton.find("ul").append(b('<li><input type="radio" name="'+
this.id+'_captions" id="'+this.id+"_captions_"+a+'" value="'+a+'" disabled="disabled" /><label for="'+this.id+"_captions_"+a+'">'+c+(d?" (translating)":" (loading)")+"</label></li>"));this.adjustLanguageBox();this.container.find(".mejs-captions-translations option[value="+a+"]").remove()},adjustLanguageBox:function(){this.captionsButton.find(".mejs-captions-selector").height(this.captionsButton.find(".mejs-captions-selector ul").outerHeight(true)+this.captionsButton.find(".mejs-captions-translations").outerHeight(true))},
displayCaptions:function(){if(typeof this.tracks!="undefined"){var a,d=this.selectedTrack;if(d!=null&&d.isLoaded)for(a=0;a<d.entries.times.length;a++)if(this.media.currentTime>=d.entries.times[a].start&&this.media.currentTime<=d.entries.times[a].stop){this.captionsText.html(d.entries.text[a]);this.captions.show();return}this.captions.hide()}},displayChapters:function(){var a;for(a=0;a<this.tracks.length;a++)if(this.tracks[a].kind=="chapters"&&this.tracks[a].isLoaded){this.drawChapters(this.tracks[a]);
break}},drawChapters:function(a){var d=this,c,e,f=e=0;d.chapters.empty();for(c=0;c<a.entries.times.length;c++){e=a.entries.times[c].stop-a.entries.times[c].start;e=Math.floor(e/d.media.duration*100);if(e+f>100||c==a.entries.times.length-1&&e+f<100)e=100-f;d.chapters.append(b('<div class="mejs-chapter" rel="'+a.entries.times[c].start+'" style="left: '+f.toString()+"%;width: "+e.toString()+'%;"><div class="mejs-chapter-block'+(c==a.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+
a.entries.text[c]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(a.entries.times[c].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(a.entries.times[c].stop)+"</span></div></div>"));f+=e}d.chapters.find("div.mejs-chapter").click(function(){d.media.setCurrentTime(parseFloat(b(this).attr("rel")));d.media.paused&&d.media.play()});d.chapters.show()}});mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified",
"zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",
es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}};mejs.TrackFormatParser={pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,split2:function(a,d){return a.split(d)},parse:function(a){var d=0;a=this.split2(a,/\r?\n/);for(var c={text:[],times:[]},e,f;d<a.length;d++)if(this.pattern_identifier.exec(a[d])){d++;
if((e=this.pattern_timecode.exec(a[d]))&&d<a.length){d++;f=a[d];for(d++;a[d]!==""&&d<a.length;){f=f+"\n"+a[d];d++}c.text.push(f);c.times.push({start:mejs.Utility.timeCodeToSeconds(e[1]),stop:mejs.Utility.timeCodeToSeconds(e[3]),settings:e[5]})}}return c},translateTrackText:function(a,d,c,e,f){var g={text:[],times:[]},h,k;this.translateText(a.text.join(" <a></a>"),d,c,e,function(l){h=l.split("<a></a>");for(k=0;k<a.text.length;k++){g.text[k]=h[k];g.times[k]={start:a.times[k].start,stop:a.times[k].stop,
settings:a.times[k].settings}}f(g)})},translateText:function(a,d,c,e,f){for(var g,h=[],k,l="",m=function(){if(h.length>0){k=h.shift();mejs.TrackFormatParser.translateChunk(k,d,c,e,function(n){if(n!="undefined")l+=n;m()})}else f(l)};a.length>0;)if(a.length>1E3){g=a.lastIndexOf(".",1E3);h.push(a.substring(0,g));a=a.substring(g+1)}else{h.push(a);a=""}m()},translateChunk:function(a,d,c,e,f){a={q:a,langpair:d+"|"+c,v:"1.0"};if(e!==""&&e!==null)a.key=e;b.ajax({url:"https://ajax.googleapis.com/ajax/services/language/translate",
data:a,type:"GET",dataType:"jsonp",success:function(g){f(g.responseData.translatedText)},error:function(){f(null)}})}};if("x\n\ny".split(/\n/gi).length!=3)mejs.TrackFormatParser.split2=function(a,d){var c=[],e="",f;for(f=0;f<a.length;f++){e+=a.substring(f,f+1);if(d.test(e)){c.push(e.replace(d,""));e=""}}c.push(e);return c}})(mejs.$);
mejs.MepDefaults.contextMenuItems=[{render:function(b){if(typeof b.enterFullScreen=="undefined")return null;return b.isFullScreen?"Turn off Fullscreen":"Go Fullscreen"},click:function(b){b.isFullScreen?b.exitFullScreen():b.enterFullScreen()}},{render:function(b){return b.media.muted?"Unmute":"Mute"},click:function(b){b.media.muted?b.setMuted(false):b.setMuted(true)}},{isSeparator:true},{render:function(){return"Download Video"},click:function(b){window.location.href=b.media.currentSrc}}];
(function(b){MediaElementPlayer.prototype.buildcontextmenu=function(a){a.contextMenu=b('<div class="mejs-contextmenu"></div>').appendTo(b("body")).hide();a.container.bind("contextmenu",function(d){d.preventDefault();a.renderContextMenu(d.clientX,d.clientY);return false});a.container.bind("click",function(){a.contextMenu.hide()})};MediaElementPlayer.prototype.renderContextMenu=function(a,d){for(var c=this,e="",f=c.options.contextMenuItems,g=0,h=f.length;g<h;g++)if(f[g].isSeparator)e+='<div class="mejs-contextmenu-separator"></div>';
else{var k=f[g].render(c);if(k!=null)e+='<div class="mejs-contextmenu-item" data-itemindex="'+g+'">'+k+"</div>"}c.contextMenu.empty().append(b(e)).css({top:d,left:a}).show();c.contextMenu.find(".mejs-contextmenu-item").click(function(){var l=parseInt(b(this).data("itemindex"),10);c.options.contextMenuItems[l].click(c);c.contextMenu.hide()})}})(mejs.$);
;
steal.end()